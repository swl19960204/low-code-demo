import{l as Mr,V as Pi,B as Ou,aP as Ru,aQ as zu,q as Lu,D as ku,W as Ku,aR as jn,aS as Oi,M as Hu,U as qu,Q as Wu,N as Vu,P as Pe,a as ye,c as lt,T as Ri,b as jt,aT as Uu,A as zi,_ as J,at as zt,f as fr,O as sn,av as Xu,aI as $t,K as ht,e as dr,w as xt,az as Gu,aU as Br,aV as Li,aW as ju,a5 as ki,aa as Ki,a8 as tr,aX as Nr,ao as Yu,a7 as Sn,aY as Zu,an as Tr,a6 as hr,a9 as Ju,ac as Hi,as as Qu,h as Qe,al as dt,R as Ir,aZ as un,a_ as qi,i as Wi,o as ea,aj as wn,ai as ta,ak as na,a$ as ra,b0 as ia,d as oa,u as Pr,C as ua,aO as ot,aC as An,aM as aa}from"./core-B7elqxc0.js";import{d as Ge,f as pe,h as Ue,e as Y,b as R,F as Ct,i as It,p as Kt,y as Or,B as Rr,s as Ee,k as kt,C as Vi,T as sa,w as dn,D as hn,g as Bt,q as Lt,K as la,G as Ae,H as ca,L as Hn,o as Be,c as ke,I as nt,j as st,a as rt,r as mn,n as vt,t as fa,M as da,m as Rt,N as ln,O as ha,z as pa,J as $n,P as Ui,Q as va}from"./index-LGJH-7dI.js";import{_ as yt}from"./_plugin-vue_export-helper-DlAUqK2U.js";function ma(){}function ga(e,t,n,r){if(!Mr(e))return e;t=Pi(t,e);for(var i=-1,o=t.length,s=o-1,c=e;c!=null&&++i<o;){var f=Ou(t[i]),h=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(i!=s){var a=c[f];h=r?r(a,f,c):void 0,h===void 0&&(h=Mr(a)?a:Ru(t[i+1])?[]:{})}zu(c,f,h),c=c[f]}return e}function Da(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],c=Lu(e,s);n(c,s)&&ga(o,Pi(s,e),c)}return o}function ya(e,t){return Da(e,t,function(n,r){return ku(e,r)})}var Xi=Ku(function(e,t){return e==null?{}:ya(e,t)}),ba=1/0,wa=jn&&1/Oi(new jn([,-0]))[1]==ba?function(e){return new jn(e)}:ma,Ca=200;function Ea(e,t,n){var r=-1,i=qu,o=e.length,s=!0,c=[],f=c;if(n)s=!1,i=Wu;else if(o>=Ca){var h=t?null:wa(e);if(h)return Oi(h);s=!1,i=Vu,f=new Hu}else f=t?[]:c;e:for(;++r<o;){var a=e[r],u=t?t(a):a;if(a=n||a!==0?a:0,s&&u===u){for(var l=f.length;l--;)if(f[l]===u)continue e;t&&f.push(u),c.push(a)}else i(f,u,n)||(f!==c&&f.push(u),c.push(a))}return c}function Yn(e){return e&&e.length?Ea(e):[]}const Ht={adjustX:1,adjustY:1},qt=[0,0],Aa={topLeft:{points:["bl","tl"],overflow:Ht,offset:[0,-4],targetOffset:qt},topCenter:{points:["bc","tc"],overflow:Ht,offset:[0,-4],targetOffset:qt},topRight:{points:["br","tr"],overflow:Ht,offset:[0,-4],targetOffset:qt},bottomLeft:{points:["tl","bl"],overflow:Ht,offset:[0,4],targetOffset:qt},bottomCenter:{points:["tc","bc"],overflow:Ht,offset:[0,4],targetOffset:qt},bottomRight:{points:["tr","br"],overflow:Ht,offset:[0,4],targetOffset:qt}},Fa=Aa;var _a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Sa=Ge({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:Pe.string.def("rc-dropdown"),transitionName:String,overlayClassName:Pe.string.def(""),openClassName:String,animation:Pe.any,align:Pe.object,overlayStyle:{type:Object,default:void 0},placement:Pe.string.def("bottomLeft"),overlay:Pe.any,trigger:Pe.oneOfType([Pe.string,Pe.arrayOf(Pe.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:Pe.array,hideAction:Pe.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:Pe.number.def(.15),mouseLeaveDelay:Pe.number.def(.1)},emits:["visibleChange","overlayClick"],setup(e,t){let{slots:n,emit:r,expose:i}=t;const o=pe(!!e.visible);Ue(()=>e.visible,d=>{d!==void 0&&(o.value=d)});const s=pe();i({triggerRef:s});const c=d=>{e.visible===void 0&&(o.value=!1),r("overlayClick",d)},f=d=>{e.visible===void 0&&(o.value=d),r("visibleChange",d)},h=()=>{var d;const y=(d=n.overlay)===null||d===void 0?void 0:d.call(n),p={prefixCls:`${e.prefixCls}-menu`,onClick:c};return R(Ct,{key:Uu},[e.arrow&&R("div",{class:`${e.prefixCls}-arrow`},null),jt(y,p,!1)])},a=Y(()=>{const{minOverlayWidthMatchTrigger:d=!e.alignPoint}=e;return d}),u=()=>{var d;const y=(d=n.default)===null||d===void 0?void 0:d.call(n);return o.value&&y?jt(y[0],{class:e.openClassName||`${e.prefixCls}-open`},!1):y},l=Y(()=>!e.hideAction&&e.trigger.indexOf("contextmenu")!==-1?["click"]:e.hideAction);return()=>{const{prefixCls:d,arrow:y,showAction:p,overlayStyle:w,trigger:v,placement:b,align:D,getPopupContainer:C,transitionName:m,animation:g,overlayClassName:E}=e,F=_a(e,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return R(Ri,ye(ye({},F),{},{prefixCls:d,ref:s,popupClassName:lt(E,{[`${d}-show-arrow`]:y}),popupStyle:w,builtinPlacements:Fa,action:v,showAction:p,hideAction:l.value||[],popupPlacement:b,popupAlign:D,popupTransitionName:m,popupAnimation:g,popupVisible:o.value,stretch:a.value?"minWidth":"",onPopupVisibleChange:f,getPopupContainer:C}),{popup:h,default:u})}}});var $a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const xa=$a;function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Ma(e,i,n[i])})}return e}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pr=function(t,n){var r=zr({},t,n.attrs);return R(zi,zr({},r,{icon:xa}),null)};pr.displayName="EllipsisOutlined";pr.inheritAttrs=!1;const Gi=pr,ji=Symbol("OverrideContextKey"),Yi=()=>It(ji,void 0),Ba=e=>{var t,n,r;const{prefixCls:i,mode:o,selectable:s,validator:c,onClick:f,expandIcon:h}=Yi()||{};Kt(ji,{prefixCls:Y(()=>{var a,u;return(u=(a=e.prefixCls)===null||a===void 0?void 0:a.value)!==null&&u!==void 0?u:i==null?void 0:i.value}),mode:Y(()=>{var a,u;return(u=(a=e.mode)===null||a===void 0?void 0:a.value)!==null&&u!==void 0?u:o==null?void 0:o.value}),selectable:Y(()=>{var a,u;return(u=(a=e.selectable)===null||a===void 0?void 0:a.value)!==null&&u!==void 0?u:s==null?void 0:s.value}),validator:(t=e.validator)!==null&&t!==void 0?t:c,onClick:(n=e.onClick)!==null&&n!==void 0?n:f,expandIcon:(r=e.expandIcon)!==null&&r!==void 0?r:h==null?void 0:h.value})};function Na(e,t,n,r){let i=n?n.call(r,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const c=Object.prototype.hasOwnProperty.bind(t);for(let f=0;f<o.length;f++){const h=o[f];if(!c(h))return!1;const a=e[h],u=t[h];if(i=n?n.call(r,a,u,h):void 0,i===!1||i===void 0&&a!==u)return!1}return!0}function an(e,t){return Na(Or(e),Or(t))}const Zi=Symbol("menuContextKey"),Ji=e=>{Kt(Zi,e)},Et=()=>It(Zi),Qi=Symbol("ForceRenderKey"),Ta=e=>{Kt(Qi,e)},eo=()=>It(Qi,!1),to=Symbol("menuFirstLevelContextKey"),no=e=>{Kt(to,e)},Ia=()=>It(to,!0),xn=Ge({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(e,t){let{slots:n}=t;const r=Et(),i=J({},r);return e.mode!==void 0&&(i.mode=Rr(e,"mode")),e.overflowDisabled!==void 0&&(i.overflowDisabled=Rr(e,"overflowDisabled")),Ji(i),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),Pa=Ji,Oa=Symbol("siderCollapsed"),Cn="$$__vc-menu-more__key",ro=Symbol("KeyPathContext"),vr=()=>It(ro,{parentEventKeys:Y(()=>[]),parentKeys:Y(()=>[]),parentInfo:{}}),Ra=(e,t,n)=>{const{parentEventKeys:r,parentKeys:i}=vr(),o=Y(()=>[...r.value,e]),s=Y(()=>[...i.value,t]);return Kt(ro,{parentEventKeys:o,parentKeys:s,parentInfo:n}),s},io=Symbol("measure"),Lr=Ge({compatConfig:{MODE:3},setup(e,t){let{slots:n}=t;return Kt(io,!0),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}}),mr=()=>It(io,!1),za=Ra;function oo(e){const{mode:t,rtl:n,inlineIndent:r}=Et();return Y(()=>t.value!=="inline"?null:n.value?{paddingRight:`${e.value*r.value}px`}:{paddingLeft:`${e.value*r.value}px`})}let La=0;const ka=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:Pe.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:$t()}),Yt=Ge({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:ka(),slots:Object,setup(e,t){let{slots:n,emit:r,attrs:i}=t;const o=Vi(),s=mr(),c=typeof o.vnode.key=="symbol"?String(o.vnode.key):o.vnode.key;zt(typeof o.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(c)}"\` not support Symbol type`);const f=`menu_item_${++La}_$$_${c}`,{parentEventKeys:h,parentKeys:a}=vr(),{prefixCls:u,activeKeys:l,disabled:d,changeActiveKeys:y,rtl:p,inlineCollapsed:w,siderCollapsed:v,onItemClick:b,selectedKeys:D,registerMenuInfo:C,unRegisterMenuInfo:m}=Et(),g=Ia(),E=Ee(!1),F=Y(()=>[...a.value,c]);C(f,{eventKey:f,key:c,parentEventKeys:h,parentKeys:a,isLeaf:!0}),kt(()=>{m(f)}),Ue(l,()=>{E.value=!!l.value.find(G=>G===c)},{immediate:!0});const x=Y(()=>d.value||e.disabled),$=Y(()=>D.value.includes(c)),M=Y(()=>{const G=`${u.value}-item`;return{[`${G}`]:!0,[`${G}-danger`]:e.danger,[`${G}-active`]:E.value,[`${G}-selected`]:$.value,[`${G}-disabled`]:x.value}}),H=G=>({key:c,eventKey:f,keyPath:F.value,eventKeyPath:[...h.value,f],domEvent:G,item:J(J({},e),i)}),W=G=>{if(x.value)return;const te=H(G);r("click",G),b(te)},z=G=>{x.value||(y(F.value),r("mouseenter",G))},I=G=>{x.value||(y([]),r("mouseleave",G))},X=G=>{if(r("keydown",G),G.which===ht.ENTER){const te=H(G);r("click",G),b(te)}},j=G=>{y(F.value),r("focus",G)},U=(G,te)=>{const ue=R("span",{class:`${u.value}-title-content`},[te]);return(!G||dr(te)&&te.type==="span")&&te&&w.value&&g&&typeof te=="string"?R("div",{class:`${u.value}-inline-collapsed-noicon`},[te.charAt(0)]):ue},ne=oo(Y(()=>F.value.length));return()=>{var G,te,ue,me,ge;if(s)return null;const K=(G=e.title)!==null&&G!==void 0?G:(te=n.title)===null||te===void 0?void 0:te.call(n),Z=fr((ue=n.default)===null||ue===void 0?void 0:ue.call(n)),se=Z.length;let re=K;typeof K>"u"?re=g&&se?Z:"":K===!1&&(re="");const ie={title:re};!v.value&&!w.value&&(ie.title=null,ie.open=!1);const be={};e.role==="option"&&(be["aria-selected"]=$.value);const he=(me=e.icon)!==null&&me!==void 0?me:(ge=n.icon)===null||ge===void 0?void 0:ge.call(n,e);return R(Xu,ye(ye({},ie),{},{placement:p.value?"left":"right",overlayClassName:`${u.value}-inline-collapsed-tooltip`}),{default:()=>[R(sn.Item,ye(ye(ye({component:"li"},i),{},{id:e.id,style:J(J({},i.style||{}),ne.value),class:[M.value,{[`${i.class}`]:!!i.class,[`${u.value}-item-only-child`]:(he?se+1:se)===1}],role:e.role||"menuitem",tabindex:e.disabled?null:-1,"data-menu-id":c,"aria-disabled":e.disabled},be),{},{onMouseenter:z,onMouseleave:I,onClick:W,onKeydown:X,onFocus:j,title:typeof K=="string"?K:void 0}),{default:()=>[jt(typeof he=="function"?he(e.originItemValue):he,{class:`${u.value}-item-icon`},!1),U(he,Z)]})]})}}}),_t={adjustX:1,adjustY:1},Ka={topLeft:{points:["bl","tl"],overflow:_t,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:_t,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:_t,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:_t,offset:[4,0]}},Ha={topLeft:{points:["bl","tl"],overflow:_t,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:_t,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:_t,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:_t,offset:[4,0]}},qa={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},kr=Ge({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(e,t){let{slots:n,emit:r}=t;const i=Ee(!1),{getPopupContainer:o,rtl:s,subMenuOpenDelay:c,subMenuCloseDelay:f,builtinPlacements:h,triggerSubMenuAction:a,forceSubMenuRender:u,motion:l,defaultMotions:d,rootClassName:y}=Et(),p=eo(),w=Y(()=>s.value?J(J({},Ha),h.value):J(J({},Ka),h.value)),v=Y(()=>qa[e.mode]),b=Ee();Ue(()=>e.visible,m=>{xt.cancel(b.value),b.value=xt(()=>{i.value=m})},{immediate:!0}),kt(()=>{xt.cancel(b.value)});const D=m=>{r("visibleChange",m)},C=Y(()=>{var m,g;const E=l.value||((m=d.value)===null||m===void 0?void 0:m[e.mode])||((g=d.value)===null||g===void 0?void 0:g.other),F=typeof E=="function"?E():E;return F?Gu(F.name,{css:!0}):void 0});return()=>{const{prefixCls:m,popupClassName:g,mode:E,popupOffset:F,disabled:_}=e;return R(Ri,{prefixCls:m,popupClassName:lt(`${m}-popup`,{[`${m}-rtl`]:s.value},g,y.value),stretch:E==="horizontal"?"minWidth":null,getPopupContainer:o.value,builtinPlacements:w.value,popupPlacement:v.value,popupVisible:i.value,popupAlign:F&&{offset:F},action:_?[]:[a.value],mouseEnterDelay:c.value,mouseLeaveDelay:f.value,onPopupVisibleChange:D,forceRender:p||u.value,popupAnimation:C.value},{popup:n.popup,default:n.default})}}}),uo=(e,t)=>{let{slots:n,attrs:r}=t;var i;const{prefixCls:o,mode:s}=Et();return R("ul",ye(ye({},r),{},{class:lt(o.value,`${o.value}-sub`,`${o.value}-${s.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(i=n.default)===null||i===void 0?void 0:i.call(n)])};uo.displayName="SubMenuList";const ao=uo,Wa=Ge({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(e,t){let{slots:n}=t;const r=Y(()=>"inline"),{motion:i,mode:o,defaultMotions:s}=Et(),c=Y(()=>o.value===r.value),f=pe(!c.value),h=Y(()=>c.value?e.open:!1);Ue(o,()=>{c.value&&(f.value=!1)},{flush:"post"});const a=Y(()=>{var u,l;const d=i.value||((u=s.value)===null||u===void 0?void 0:u[r.value])||((l=s.value)===null||l===void 0?void 0:l.other),y=typeof d=="function"?d():d;return J(J({},y),{appear:e.keyPath.length<=1})});return()=>{var u;return f.value?null:R(xn,{mode:r.value},{default:()=>[R(sa,a.value,{default:()=>[dn(R(ao,{id:e.id},{default:()=>[(u=n.default)===null||u===void 0?void 0:u.call(n)]}),[[hn,h.value]])]})]})}}});let Kr=0;const Va=()=>({icon:Pe.any,title:Pe.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:$t()}),Zt=Ge({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:Va(),slots:Object,setup(e,t){let{slots:n,attrs:r,emit:i}=t;var o,s;no(!1);const c=mr(),f=Vi(),h=typeof f.vnode.key=="symbol"?String(f.vnode.key):f.vnode.key;zt(typeof f.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(h)}"\` not support Symbol type`);const a=Br(h)?h:`sub_menu_${++Kr}_$$_not_set_key`,u=(o=e.eventKey)!==null&&o!==void 0?o:Br(h)?`sub_menu_${++Kr}_$$_${h}`:a,{parentEventKeys:l,parentInfo:d,parentKeys:y}=vr(),p=Y(()=>[...y.value,a]),w=Ee([]),v={eventKey:u,key:a,parentEventKeys:l,childrenEventKeys:w,parentKeys:y};(s=d.childrenEventKeys)===null||s===void 0||s.value.push(u),kt(()=>{var Q;d.childrenEventKeys&&(d.childrenEventKeys.value=(Q=d.childrenEventKeys)===null||Q===void 0?void 0:Q.value.filter(de=>de!=u))}),za(u,a,v);const{prefixCls:b,activeKeys:D,disabled:C,changeActiveKeys:m,mode:g,inlineCollapsed:E,openKeys:F,overflowDisabled:_,onOpenChange:x,registerMenuInfo:$,unRegisterMenuInfo:M,selectedSubMenuKeys:H,expandIcon:W,theme:z}=Et(),I=h!=null,X=!c&&(eo()||!I);Ta(X),(c&&I||!c&&!I||X)&&($(u,v),kt(()=>{M(u)}));const j=Y(()=>`${b.value}-submenu`),U=Y(()=>C.value||e.disabled),ne=Ee(),G=Ee(),te=Y(()=>F.value.includes(a)),ue=Y(()=>!_.value&&te.value),me=Y(()=>H.value.includes(a)),ge=Ee(!1);Ue(D,()=>{ge.value=!!D.value.find(Q=>Q===a)},{immediate:!0});const K=Q=>{U.value||(i("titleClick",Q,a),g.value==="inline"&&x(a,!te.value))},Z=Q=>{U.value||(m(p.value),i("mouseenter",Q))},se=Q=>{U.value||(m([]),i("mouseleave",Q))},re=oo(Y(()=>p.value.length)),ie=Q=>{g.value!=="inline"&&x(a,Q)},be=()=>{m(p.value)},he=u&&`${u}-popup`,ce=Y(()=>lt(b.value,`${b.value}-${e.theme||z.value}`,e.popupClassName)),Se=(Q,de)=>{if(!de)return E.value&&!y.value.length&&Q&&typeof Q=="string"?R("div",{class:`${b.value}-inline-collapsed-noicon`},[Q.charAt(0)]):R("span",{class:`${b.value}-title-content`},[Q]);const $e=dr(Q)&&Q.type==="span";return R(Ct,null,[jt(typeof de=="function"?de(e.originItemValue):de,{class:`${b.value}-item-icon`},!1),$e?Q:R("span",{class:`${b.value}-title-content`},[Q])])},He=Y(()=>g.value!=="inline"&&p.value.length>1?"vertical":g.value),tt=Y(()=>g.value==="horizontal"?"vertical":g.value),fe=Y(()=>He.value==="horizontal"?"vertical":He.value),ae=()=>{var Q,de;const $e=j.value,Oe=(Q=e.icon)!==null&&Q!==void 0?Q:(de=n.icon)===null||de===void 0?void 0:de.call(n,e),A=e.expandIcon||n.expandIcon||W.value,S=Se(Li(n,e,"title"),Oe);return R("div",{style:re.value,class:`${$e}-title`,tabindex:U.value?null:-1,ref:ne,title:typeof S=="string"?S:null,"data-menu-id":a,"aria-expanded":ue.value,"aria-haspopup":!0,"aria-controls":he,"aria-disabled":U.value,onClick:K,onFocus:be},[S,g.value!=="horizontal"&&A?A(J(J({},e),{isOpen:ue.value})):R("i",{class:`${$e}-arrow`},null)])};return()=>{var Q;if(c)return I?(Q=n.default)===null||Q===void 0?void 0:Q.call(n):null;const de=j.value;let $e=()=>null;if(!_.value&&g.value!=="inline"){const Oe=g.value==="horizontal"?[0,8]:[10,0];$e=()=>R(kr,{mode:He.value,prefixCls:de,visible:!e.internalPopupClose&&ue.value,popupClassName:ce.value,popupOffset:e.popupOffset||Oe,disabled:U.value,onVisibleChange:ie},{default:()=>[ae()],popup:()=>R(xn,{mode:fe.value},{default:()=>[R(ao,{id:he,ref:G},{default:n.default})]})})}else $e=()=>R(kr,null,{default:ae});return R(xn,{mode:tt.value},{default:()=>[R(sn.Item,ye(ye({component:"li"},r),{},{role:"none",class:lt(de,`${de}-${g.value}`,r.class,{[`${de}-open`]:ue.value,[`${de}-active`]:ge.value,[`${de}-selected`]:me.value,[`${de}-disabled`]:U.value}),onMouseenter:Z,onMouseleave:se,"data-submenu-id":a}),{default:()=>R(Ct,null,[$e(),!_.value&&R(Wa,{id:he,open:ue.value,keyPath:p.value},{default:n.default})])})]})}}}),Ua=()=>({title:Pe.any,originItemValue:$t()}),Mn=Ge({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:Ua(),slots:Object,setup(e,t){let{slots:n,attrs:r}=t;const{prefixCls:i}=Et(),o=Y(()=>`${i.value}-item-group`),s=mr();return()=>{var c,f;return s?(c=n.default)===null||c===void 0?void 0:c.call(n):R("li",ye(ye({},r),{},{onClick:h=>h.stopPropagation(),class:o.value}),[R("div",{title:typeof e.title=="string"?e.title:void 0,class:`${o.value}-title`},[Li(n,e,"title")]),R("ul",{class:`${o.value}-list`},[(f=n.default)===null||f===void 0?void 0:f.call(n)])])}}}),Xa=()=>({prefixCls:String,dashed:Boolean}),Bn=Ge({compatConfig:{MODE:3},name:"AMenuDivider",props:Xa(),setup(e){const{prefixCls:t}=Et(),n=Y(()=>({[`${t.value}-item-divider`]:!0,[`${t.value}-item-divider-dashed`]:!!e.dashed}));return()=>R("li",{class:n.value},null)}});var Ga=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function nr(e,t,n){return(e||[]).map((r,i)=>{if(r&&typeof r=="object"){const o=r,{label:s,children:c,key:f,type:h}=o,a=Ga(o,["label","children","key","type"]),u=f??`tmp-${i}`,l=n?n.parentKeys.slice():[],d=[],y={eventKey:u,key:u,parentEventKeys:pe(l),parentKeys:pe(l),childrenEventKeys:pe(d),isLeaf:!1};if(c||h==="group"){if(h==="group"){const w=nr(c,t,n);return R(Mn,ye(ye({key:u},a),{},{title:s,originItemValue:r}),{default:()=>[w]})}t.set(u,y),n&&n.childrenEventKeys.push(u);const p=nr(c,t,{childrenEventKeys:d,parentKeys:[].concat(l,u)});return R(Zt,ye(ye({key:u},a),{},{title:s,originItemValue:r}),{default:()=>[p]})}return h==="divider"?R(Bn,ye({key:u},a),null):(y.isLeaf=!0,t.set(u,y),R(Yt,ye(ye({key:u},a),{},{originItemValue:r}),{default:()=>[s]}))}return null}).filter(r=>r)}function ja(e){const t=Ee([]),n=Ee(!1),r=Ee(new Map);return Ue(()=>e.items,()=>{const i=new Map;n.value=!1,e.items?(n.value=!0,t.value=nr(e.items,i)):t.value=void 0,r.value=i},{immediate:!0,deep:!0}),{itemsNodes:t,store:r,hasItmes:n}}const Ya=e=>{const{componentCls:t,motionDurationSlow:n,menuHorizontalHeight:r,colorSplit:i,lineWidth:o,lineType:s,menuItemPaddingInline:c}=e;return{[`${t}-horizontal`]:{lineHeight:`${r}px`,border:0,borderBottom:`${o}px ${s} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:c},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Za=Ya,Ja=e=>{let{componentCls:t,menuArrowOffset:n}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${n})`},"&::after":{transform:`rotate(45deg) translateY(${n})`}}}}},Qa=Ja,Hr=e=>J({},ju(e)),es=(e,t)=>{const{componentCls:n,colorItemText:r,colorItemTextSelected:i,colorGroupTitle:o,colorItemBg:s,colorSubItemBg:c,colorItemBgSelected:f,colorActiveBarHeight:h,colorActiveBarWidth:a,colorActiveBarBorderSize:u,motionDurationSlow:l,motionEaseInOut:d,motionEaseOut:y,menuItemPaddingInline:p,motionDurationMid:w,colorItemTextHover:v,lineType:b,colorSplit:D,colorItemTextDisabled:C,colorDangerItemText:m,colorDangerItemTextHover:g,colorDangerItemTextSelected:E,colorDangerItemBgActive:F,colorDangerItemBgSelected:_,colorItemBgHover:x,menuSubMenuBg:$,colorItemTextSelectedHorizontal:M,colorItemBgSelectedHorizontal:H}=e;return{[`${n}-${t}`]:{color:r,background:s,[`&${n}-root:focus-visible`]:J({},Hr(e)),[`${n}-item-group-title`]:{color:o},[`${n}-submenu-selected`]:{[`> ${n}-submenu-title`]:{color:i}},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${C} !important`},[`${n}-item:hover, ${n}-submenu-title:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:v}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:x},"&:active":{backgroundColor:f}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:x},"&:active":{backgroundColor:f}}},[`${n}-item-danger`]:{color:m,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:g}},[`&${n}-item:active`]:{background:F}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:E},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:f,[`&${n}-item-danger`]:{backgroundColor:_}},[`${n}-item, ${n}-submenu-title`]:{[`&:not(${n}-item-disabled):focus-visible`]:J({},Hr(e))},[`&${n}-submenu > ${n}`]:{backgroundColor:$},[`&${n}-popup > ${n}`]:{backgroundColor:s},[`&${n}-horizontal`]:J(J({},t==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:u,marginTop:-u,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:p,bottom:0,borderBottom:`${h}px solid transparent`,transition:`border-color ${l} ${d}`,content:'""'},"&:hover, &-active, &-open":{"&::after":{borderBottomWidth:h,borderBottomColor:M}},"&-selected":{color:M,backgroundColor:H,"&::after":{borderBottomWidth:h,borderBottomColor:M}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${u}px ${b} ${D}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:c},[`${n}-item, ${n}-submenu-title`]:u&&a?{width:`calc(100% + ${u}px)`}:{},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${a}px solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${w} ${y}`,`opacity ${w} ${y}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:E}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${w} ${d}`,`opacity ${w} ${d}`].join(",")}}}}}},qr=es,Wr=e=>{const{componentCls:t,menuItemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:o,marginXS:s,marginXXS:c}=e,f=i+o+s;return{[`${t}-item`]:{position:"relative"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:`${n}px`,paddingInline:i,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:c,width:`calc(100% - ${r*2}px)`},[`${t}-submenu`]:{paddingBottom:.02},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:`${n}px`},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:f}}},ts=e=>{const{componentCls:t,iconCls:n,menuItemHeight:r,colorTextLightSolid:i,dropdownWidth:o,controlHeightLG:s,motionDurationMid:c,motionEaseOut:f,paddingXL:h,fontSizeSM:a,fontSizeLG:u,motionDurationSlow:l,paddingXS:d,boxShadowSecondary:y}=e,p={height:r,lineHeight:`${r}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":J({[`&${t}-root`]:{boxShadow:"none"}},Wr(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:J(J({},Wr(e)),{boxShadow:y})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${s*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${l}`,`background ${l}`,`padding ${c} ${f}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:p,[`& ${t}-item-group-title`]:{paddingInlineStart:h}},[`${t}-item`]:p}},{[`${t}-inline-collapsed`]:{width:r*2,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:u,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${a}px)`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:u,lineHeight:`${r}px`,"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${t}-item-group-title`]:J(J({},ki),{paddingInline:d})}}]},ns=ts,Vr=e=>{const{componentCls:t,fontSize:n,motionDurationSlow:r,motionDurationMid:i,motionEaseInOut:o,motionEaseOut:s,iconCls:c,controlHeightSM:f}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${r}`,`background ${r}`,`padding ${r} ${o}`].join(","),[`${t}-item-icon, ${c}`]:{minWidth:n,fontSize:n,transition:[`font-size ${i} ${s}`,`margin ${r} ${o}`,`color ${r}`].join(","),"+ span":{marginInlineStart:f-n,opacity:1,transition:[`opacity ${r} ${o}`,`margin ${r}`,`color ${r}`].join(",")}},[`${t}-item-icon`]:J({},Ju()),[`&${t}-item-only-child`]:{[`> ${c}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Ur=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:o,menuArrowOffset:s}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:o*.6,height:o*.15,backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${s})`},"&::after":{transform:`rotate(-45deg) translateY(${s})`}}}}},rs=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:o,motionEaseInOut:s,lineHeight:c,paddingXS:f,padding:h,colorSplit:a,lineWidth:u,zIndexPopup:l,borderRadiusLG:d,radiusSubMenuItem:y,menuArrowSize:p,menuArrowOffset:w,lineType:v,menuPanelMaskInset:b}=e;return[{"":{[`${n}`]:J(J({},Tr()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:J(J(J(J(J(J(J({},hr(e)),Tr()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.radiusItem},[`${n}-item-group-title`]:{padding:`${f}px ${h}px`,fontSize:r,lineHeight:c,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`,`padding ${o} ${s}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${s}`,`padding ${i} ${s}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:a,borderStyle:v,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Vr(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${r*2}px ${h}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:l,background:"transparent",borderRadius:d,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${b}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:b},[`> ${n}`]:J(J(J({borderRadius:d},Vr(e)),Ur(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:y},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${s}`}})}}),Ur(e)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${w})`},"&::after":{transform:`rotate(45deg) translateX(-${w})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(-${p*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${w})`},"&::before":{transform:`rotate(45deg) translateX(${w})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},is=(e,t)=>Ki("Menu",(r,i)=>{let{overrideComponentToken:o}=i;if((t==null?void 0:t.value)===!1)return[];const{colorBgElevated:s,colorPrimary:c,colorError:f,colorErrorHover:h,colorTextLightSolid:a}=r,{controlHeightLG:u,fontSize:l}=r,d=l/7*5,y=tr(r,{menuItemHeight:u,menuItemPaddingInline:r.margin,menuArrowSize:d,menuHorizontalHeight:u*1.15,menuArrowOffset:`${d*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:s}),p=new Nr(a).setAlpha(.65).toRgbString(),w=tr(y,{colorItemText:p,colorItemTextHover:a,colorGroupTitle:p,colorItemTextSelected:a,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:c,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new Nr(a).setAlpha(.25).toRgbString(),colorDangerItemText:f,colorDangerItemTextHover:h,colorDangerItemTextSelected:a,colorDangerItemBgActive:f,colorDangerItemBgSelected:f,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:a,colorItemBgSelectedHorizontal:c},J({},o));return[rs(y),Za(y),ns(y),qr(y,"light"),qr(w,"dark"),Qa(y),Yu(y),Sn(y,"slide-up"),Sn(y,"slide-down"),Zu(y,"zoom-big")]},r=>{const{colorPrimary:i,colorError:o,colorTextDisabled:s,colorErrorBg:c,colorText:f,colorTextDescription:h,colorBgContainer:a,colorFillAlter:u,colorFillContent:l,lineWidth:d,lineWidthBold:y,controlItemBgActive:p,colorBgTextHover:w}=r;return{dropdownWidth:160,zIndexPopup:r.zIndexPopupBase+50,radiusItem:r.borderRadiusLG,radiusSubMenuItem:r.borderRadiusSM,colorItemText:f,colorItemTextHover:f,colorItemTextHoverHorizontal:i,colorGroupTitle:h,colorItemTextSelected:i,colorItemTextSelectedHorizontal:i,colorItemBg:a,colorItemBgHover:w,colorItemBgActive:l,colorSubItemBg:u,colorItemBgSelected:p,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:y,colorActiveBarBorderSize:d,colorItemTextDisabled:s,colorDangerItemText:o,colorDangerItemTextHover:o,colorDangerItemTextSelected:o,colorDangerItemBgActive:c,colorDangerItemBgSelected:c,itemMarginInline:r.marginXXS}})(e),os=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),Xr=[],Mt=Ge({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:os(),slots:Object,setup(e,t){let{slots:n,emit:r,attrs:i}=t;const{direction:o,getPrefixCls:s}=Hi("menu",e),c=Yi(),f=Y(()=>{var K;return s("menu",e.prefixCls||((K=c==null?void 0:c.prefixCls)===null||K===void 0?void 0:K.value))}),[h,a]=is(f,Y(()=>!c)),u=Ee(new Map),l=It(Oa,pe(void 0)),d=Y(()=>l.value!==void 0?l.value:e.inlineCollapsed),{itemsNodes:y}=ja(e),p=Ee(!1);Bt(()=>{p.value=!0}),Lt(()=>{zt(!(e.inlineCollapsed===!0&&e.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),zt(!(l.value!==void 0&&e.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const w=pe([]),v=pe([]),b=pe({});Ue(u,()=>{const K={};for(const Z of u.value.values())K[Z.key]=Z;b.value=K},{flush:"post"}),Lt(()=>{if(e.activeKey!==void 0){let K=[];const Z=e.activeKey?b.value[e.activeKey]:void 0;Z&&e.activeKey!==void 0?K=Yn([].concat(Ae(Z.parentKeys),e.activeKey)):K=[],an(w.value,K)||(w.value=K)}}),Ue(()=>e.selectedKeys,K=>{K&&(v.value=K.slice())},{immediate:!0,deep:!0});const D=pe([]);Ue([b,v],()=>{let K=[];v.value.forEach(Z=>{const se=b.value[Z];se&&(K=K.concat(Ae(se.parentKeys)))}),K=Yn(K),an(D.value,K)||(D.value=K)},{immediate:!0});const C=K=>{if(e.selectable){const{key:Z}=K,se=v.value.includes(Z);let re;e.multiple?se?re=v.value.filter(be=>be!==Z):re=[...v.value,Z]:re=[Z];const ie=J(J({},K),{selectedKeys:re});an(re,v.value)||(e.selectedKeys===void 0&&(v.value=re),r("update:selectedKeys",re),se&&e.multiple?r("deselect",ie):r("select",ie))}x.value!=="inline"&&!e.multiple&&m.value.length&&H(Xr)},m=pe([]);Ue(()=>e.openKeys,function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.value;an(m.value,K)||(m.value=K.slice())},{immediate:!0,deep:!0});let g;const E=K=>{clearTimeout(g),g=setTimeout(()=>{e.activeKey===void 0&&(w.value=K),r("update:activeKey",K[K.length-1])})},F=Y(()=>!!e.disabled),_=Y(()=>o.value==="rtl"),x=pe("vertical"),$=Ee(!1);Lt(()=>{var K;(e.mode==="inline"||e.mode==="vertical")&&d.value?(x.value="vertical",$.value=d.value):(x.value=e.mode,$.value=!1),!((K=c==null?void 0:c.mode)===null||K===void 0)&&K.value&&(x.value=c.mode.value)});const M=Y(()=>x.value==="inline"),H=K=>{m.value=K,r("update:openKeys",K),r("openChange",K)},W=pe(m.value),z=Ee(!1);Ue(m,()=>{M.value&&(W.value=m.value)},{immediate:!0}),Ue(M,()=>{if(!z.value){z.value=!0;return}M.value?m.value=W.value:H(Xr)},{immediate:!0});const I=Y(()=>({[`${f.value}`]:!0,[`${f.value}-root`]:!0,[`${f.value}-${x.value}`]:!0,[`${f.value}-inline-collapsed`]:$.value,[`${f.value}-rtl`]:_.value,[`${f.value}-${e.theme}`]:!0})),X=Y(()=>s()),j=Y(()=>({horizontal:{name:`${X.value}-slide-up`},inline:Qu(`${X.value}-motion-collapse`),other:{name:`${X.value}-zoom-big`}}));no(!0);const U=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const Z=[],se=u.value;return K.forEach(re=>{const{key:ie,childrenEventKeys:be}=se.get(re);Z.push(ie,...U(Ae(be)))}),Z},ne=K=>{var Z;r("click",K),C(K),(Z=c==null?void 0:c.onClick)===null||Z===void 0||Z.call(c)},G=(K,Z)=>{var se;const re=((se=b.value[K])===null||se===void 0?void 0:se.childrenEventKeys)||[];let ie=m.value.filter(be=>be!==K);if(Z)ie.push(K);else if(x.value!=="inline"){const be=U(Ae(re));ie=Yn(ie.filter(he=>!be.includes(he)))}an(m,ie)||H(ie)},te=(K,Z)=>{u.value.set(K,Z),u.value=new Map(u.value)},ue=K=>{u.value.delete(K),u.value=new Map(u.value)},me=pe(0),ge=Y(()=>{var K;return e.expandIcon||n.expandIcon||!((K=c==null?void 0:c.expandIcon)===null||K===void 0)&&K.value?Z=>{let se=e.expandIcon||n.expandIcon;return se=typeof se=="function"?se(Z):se,jt(se,{class:`${f.value}-submenu-expand-icon`},!1)}:null});return Pa({prefixCls:f,activeKeys:w,openKeys:m,selectedKeys:v,changeActiveKeys:E,disabled:F,rtl:_,mode:x,inlineIndent:Y(()=>e.inlineIndent),subMenuCloseDelay:Y(()=>e.subMenuCloseDelay),subMenuOpenDelay:Y(()=>e.subMenuOpenDelay),builtinPlacements:Y(()=>e.builtinPlacements),triggerSubMenuAction:Y(()=>e.triggerSubMenuAction),getPopupContainer:Y(()=>e.getPopupContainer),inlineCollapsed:$,theme:Y(()=>e.theme),siderCollapsed:l,defaultMotions:Y(()=>p.value?j.value:null),motion:Y(()=>p.value?e.motion:null),overflowDisabled:Ee(void 0),onOpenChange:G,onItemClick:ne,registerMenuInfo:te,unRegisterMenuInfo:ue,selectedSubMenuKeys:D,expandIcon:ge,forceSubMenuRender:Y(()=>e.forceSubMenuRender),rootClassName:a}),()=>{var K,Z;const se=y.value||fr((K=n.default)===null||K===void 0?void 0:K.call(n)),re=me.value>=se.length-1||x.value!=="horizontal"||e.disabledOverflow,ie=x.value!=="horizontal"||e.disabledOverflow?se:se.map((he,ce)=>R(xn,{key:he.key,overflowDisabled:ce>me.value},{default:()=>he})),be=((Z=n.overflowedIndicator)===null||Z===void 0?void 0:Z.call(n))||R(Gi,null,null);return h(R(sn,ye(ye({},i),{},{onMousedown:e.onMousedown,prefixCls:`${f.value}-overflow`,component:"ul",itemComponent:Yt,class:[I.value,i.class,a.value],role:"menu",id:e.id,data:ie,renderRawItem:he=>he,renderRawRest:he=>{const ce=he.length,Se=ce?se.slice(-ce):null;return R(Ct,null,[R(Zt,{eventKey:Cn,key:Cn,title:be,disabled:re,internalPopupClose:ce===0},{default:()=>Se}),R(Lr,null,{default:()=>[R(Zt,{eventKey:Cn,key:Cn,title:be,disabled:re,internalPopupClose:ce===0},{default:()=>Se})]})])},maxCount:x.value!=="horizontal"||e.disabledOverflow?sn.INVALIDATE:sn.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:he=>{me.value=he}}),{default:()=>[R(la,{to:"body"},{default:()=>[R("div",{style:{display:"none"},"aria-hidden":!0},[R(Lr,null,{default:()=>[ie]})])]})]}))}}});Mt.install=function(e){return e.component(Mt.name,Mt),e.component(Yt.name,Yt),e.component(Zt.name,Zt),e.component(Bn.name,Bn),e.component(Mn.name,Mn),e};Mt.Item=Yt;Mt.Divider=Bn;Mt.SubMenu=Zt;Mt.ItemGroup=Mn;function so(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function us(e){const t=Ee(),n=Ee(!1);function r(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];n.value||(xt.cancel(t.value),t.value=xt(()=>{e(...o)}))}return kt(()=>{n.value=!0,xt.cancel(t.value)}),r}function as(e){const t=Ee([]),n=Ee(typeof e=="function"?e():e),r=us(()=>{let o=n.value;t.value.forEach(s=>{o=s(o)}),t.value=[],n.value=o});function i(o){t.value.push(o),r()}return[n,i]}const ss=Ge({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup(e,t){let{expose:n,attrs:r}=t;const i=pe();function o(f){var h;!((h=e.tab)===null||h===void 0)&&h.disabled||e.onClick(f)}n({domRef:i});function s(f){var h;f.preventDefault(),f.stopPropagation(),e.editable.onEdit("remove",{key:(h=e.tab)===null||h===void 0?void 0:h.key,event:f})}const c=Y(()=>{var f;return e.editable&&e.closable!==!1&&!(!((f=e.tab)===null||f===void 0)&&f.disabled)});return()=>{var f;const{prefixCls:h,id:a,active:u,tab:{key:l,tab:d,disabled:y,closeIcon:p},renderWrapper:w,removeAriaLabel:v,editable:b,onFocus:D}=e,C=`${h}-tab`,m=R("div",{key:l,ref:i,class:lt(C,{[`${C}-with-remove`]:c.value,[`${C}-active`]:u,[`${C}-disabled`]:y}),style:r.style,onClick:o},[R("div",{role:"tab","aria-selected":u,id:a&&`${a}-tab-${l}`,class:`${C}-btn`,"aria-controls":a&&`${a}-panel-${l}`,"aria-disabled":y,tabindex:y?null:0,onClick:g=>{g.stopPropagation(),o(g)},onKeydown:g=>{[ht.SPACE,ht.ENTER].includes(g.which)&&(g.preventDefault(),o(g))},onFocus:D},[typeof d=="function"?d():d]),c.value&&R("button",{type:"button","aria-label":v||"remove",tabindex:0,class:`${C}-remove`,onClick:g=>{g.stopPropagation(),s(g)}},[(p==null?void 0:p())||((f=b.removeIcon)===null||f===void 0?void 0:f.call(b))||"×"])]);return w?w(m):m}}}),Gr={width:0,height:0,left:0,top:0};function ls(e,t){const n=pe(new Map);return Lt(()=>{var r,i;const o=new Map,s=e.value,c=t.value.get((r=s[0])===null||r===void 0?void 0:r.key)||Gr,f=c.left+c.width;for(let h=0;h<s.length;h+=1){const{key:a}=s[h];let u=t.value.get(a);u||(u=t.value.get((i=s[h-1])===null||i===void 0?void 0:i.key)||Gr);const l=o.get(a)||J({},u);l.right=f-l.left-l.width,o.set(a,l)}n.value=new Map(o)}),n}const lo=Ge({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup(e,t){let{expose:n,attrs:r}=t;const i=pe();return n({domRef:i}),()=>{const{prefixCls:o,editable:s,locale:c}=e;return!s||s.showAdd===!1?null:R("button",{ref:i,type:"button",class:`${o}-nav-add`,style:r.style,"aria-label":(c==null?void 0:c.addAriaLabel)||"Add tab",onClick:f=>{s.onEdit("add",{event:f})}},[s.addIcon?s.addIcon():"+"])}}}),cs={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:Pe.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function},popupClassName:String,getPopupContainer:dt()},fs=Ge({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:cs,emits:["tabClick"],slots:Object,setup(e,t){let{attrs:n,slots:r}=t;const[i,o]=Qe(!1),[s,c]=Qe(null),f=d=>{const y=e.tabs.filter(v=>!v.disabled);let p=y.findIndex(v=>v.key===s.value)||0;const w=y.length;for(let v=0;v<w;v+=1){p=(p+d+w)%w;const b=y[p];if(!b.disabled){c(b.key);return}}},h=d=>{const{which:y}=d;if(!i.value){[ht.DOWN,ht.SPACE,ht.ENTER].includes(y)&&(o(!0),d.preventDefault());return}switch(y){case ht.UP:f(-1),d.preventDefault();break;case ht.DOWN:f(1),d.preventDefault();break;case ht.ESC:o(!1);break;case ht.SPACE:case ht.ENTER:s.value!==null&&e.onTabClick(s.value,d);break}},a=Y(()=>`${e.id}-more-popup`),u=Y(()=>s.value!==null?`${a.value}-${s.value}`:null),l=(d,y)=>{d.preventDefault(),d.stopPropagation(),e.editable.onEdit("remove",{key:y,event:d})};return Bt(()=>{Ue(s,()=>{const d=document.getElementById(u.value);d&&d.scrollIntoView&&d.scrollIntoView(!1)},{flush:"post",immediate:!0})}),Ue(i,()=>{i.value||c(null)}),Ba({}),()=>{var d;const{prefixCls:y,id:p,tabs:w,locale:v,mobile:b,moreIcon:D=((d=r.moreIcon)===null||d===void 0?void 0:d.call(r))||R(Gi,null,null),moreTransitionName:C,editable:m,tabBarGutter:g,rtl:E,onTabClick:F,popupClassName:_}=e;if(!w.length)return null;const x=`${y}-dropdown`,$=v==null?void 0:v.dropdownAriaLabel,M={[E?"marginRight":"marginLeft"]:g};w.length||(M.visibility="hidden",M.order=1);const H=lt({[`${x}-rtl`]:E,[`${_}`]:!0}),W=b?null:R(Sa,{prefixCls:x,trigger:["hover"],visible:i.value,transitionName:C,onVisibleChange:o,overlayClassName:H,mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:e.getPopupContainer},{overlay:()=>R(Mt,{onClick:z=>{let{key:I,domEvent:X}=z;F(I,X),o(!1)},id:a.value,tabindex:-1,role:"listbox","aria-activedescendant":u.value,selectedKeys:[s.value],"aria-label":$!==void 0?$:"expanded dropdown"},{default:()=>[w.map(z=>{var I,X;const j=m&&z.closable!==!1&&!z.disabled;return R(Yt,{key:z.key,id:`${a.value}-${z.key}`,role:"option","aria-controls":p&&`${p}-panel-${z.key}`,disabled:z.disabled},{default:()=>[R("span",null,[typeof z.tab=="function"?z.tab():z.tab]),j&&R("button",{type:"button","aria-label":e.removeAriaLabel||"remove",tabindex:0,class:`${x}-menu-item-remove`,onClick:U=>{U.stopPropagation(),l(U,z.key)}},[((I=z.closeIcon)===null||I===void 0?void 0:I.call(z))||((X=m.removeIcon)===null||X===void 0?void 0:X.call(m))||"×"])]})})]}),default:()=>R("button",{type:"button",class:`${y}-nav-more`,style:M,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":a.value,id:`${p}-more`,"aria-expanded":i.value,onKeydown:h},[D])});return R("div",{class:lt(`${y}-nav-operations`,n.class),style:n.style},[W,R(lo,{prefixCls:y,locale:v,editable:m},null)])}}}),co=Symbol("tabsContextKey"),ds=e=>{Kt(co,e)},fo=()=>It(co,{tabs:pe([]),prefixCls:pe()}),hs=.1,jr=.01,Fn=20,Yr=Math.pow(.995,Fn);function ps(e,t){const[n,r]=Qe(),[i,o]=Qe(0),[s,c]=Qe(0),[f,h]=Qe(),a=pe();function u(m){const{screenX:g,screenY:E}=m.touches[0];r({x:g,y:E}),clearInterval(a.value)}function l(m){if(!n.value)return;m.preventDefault();const{screenX:g,screenY:E}=m.touches[0],F=g-n.value.x,_=E-n.value.y;t(F,_),r({x:g,y:E});const x=Date.now();c(x-i.value),o(x),h({x:F,y:_})}function d(){if(!n.value)return;const m=f.value;if(r(null),h(null),m){const g=m.x/s.value,E=m.y/s.value,F=Math.abs(g),_=Math.abs(E);if(Math.max(F,_)<hs)return;let x=g,$=E;a.value=setInterval(()=>{if(Math.abs(x)<jr&&Math.abs($)<jr){clearInterval(a.value);return}x*=Yr,$*=Yr,t(x*Fn,$*Fn)},Fn)}}const y=pe();function p(m){const{deltaX:g,deltaY:E}=m;let F=0;const _=Math.abs(g),x=Math.abs(E);_===x?F=y.value==="x"?g:E:_>x?(F=g,y.value="x"):(F=E,y.value="y"),t(-F,-F)&&m.preventDefault()}const w=pe({onTouchStart:u,onTouchMove:l,onTouchEnd:d,onWheel:p});function v(m){w.value.onTouchStart(m)}function b(m){w.value.onTouchMove(m)}function D(m){w.value.onTouchEnd(m)}function C(m){w.value.onWheel(m)}Bt(()=>{var m,g;document.addEventListener("touchmove",b,{passive:!1}),document.addEventListener("touchend",D,{passive:!1}),(m=e.value)===null||m===void 0||m.addEventListener("touchstart",v,{passive:!1}),(g=e.value)===null||g===void 0||g.addEventListener("wheel",C,{passive:!1})}),kt(()=>{document.removeEventListener("touchmove",b),document.removeEventListener("touchend",D)})}function Zr(e,t){const n=pe(e);function r(i){const o=typeof i=="function"?i(n.value):i;o!==n.value&&t(o,n.value),n.value=o}return[n,r]}const vs=()=>{const e=pe(new Map),t=n=>r=>{e.value.set(n,r)};return ca(()=>{e.value=new Map}),[t,e]},Jr={width:0,height:0,left:0,top:0,right:0},ms=()=>({id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:$t(),editable:$t(),moreIcon:Pe.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:$t(),popupClassName:String,getPopupContainer:dt(),onTabClick:{type:Function},onTabScroll:{type:Function}}),Qr=Ge({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:ms(),slots:Object,emits:["tabClick","tabScroll"],setup(e,t){let{attrs:n,slots:r}=t;const{tabs:i,prefixCls:o}=fo(),s=Ee(),c=Ee(),f=Ee(),h=Ee(),[a,u]=vs(),l=Y(()=>e.tabPosition==="top"||e.tabPosition==="bottom"),[d,y]=Zr(0,(fe,ae)=>{l.value&&e.onTabScroll&&e.onTabScroll({direction:fe>ae?"left":"right"})}),[p,w]=Zr(0,(fe,ae)=>{!l.value&&e.onTabScroll&&e.onTabScroll({direction:fe>ae?"top":"bottom"})}),[v,b]=Qe(0),[D,C]=Qe(0),[m,g]=Qe(null),[E,F]=Qe(null),[_,x]=Qe(0),[$,M]=Qe(0),[H,W]=as(new Map),z=ls(i,H),I=Y(()=>`${o.value}-nav-operations-hidden`),X=Ee(0),j=Ee(0);Lt(()=>{l.value?e.rtl?(X.value=0,j.value=Math.max(0,v.value-m.value)):(X.value=Math.min(0,m.value-v.value),j.value=0):(X.value=Math.min(0,E.value-D.value),j.value=0)});const U=fe=>fe<X.value?X.value:fe>j.value?j.value:fe,ne=Ee(),[G,te]=Qe(),ue=()=>{te(Date.now())},me=()=>{clearTimeout(ne.value)},ge=(fe,ae)=>{fe(Q=>U(Q+ae))};ps(s,(fe,ae)=>{if(l.value){if(m.value>=v.value)return!1;ge(y,fe)}else{if(E.value>=D.value)return!1;ge(w,ae)}return me(),ue(),!0}),Ue(G,()=>{me(),G.value&&(ne.value=setTimeout(()=>{te(0)},100))});const K=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activeKey;const ae=z.value.get(fe)||{width:0,height:0,left:0,right:0,top:0};if(l.value){let Q=d.value;e.rtl?ae.right<d.value?Q=ae.right:ae.right+ae.width>d.value+m.value&&(Q=ae.right+ae.width-m.value):ae.left<-d.value?Q=-ae.left:ae.left+ae.width>-d.value+m.value&&(Q=-(ae.left+ae.width-m.value)),w(0),y(U(Q))}else{let Q=p.value;ae.top<-p.value?Q=-ae.top:ae.top+ae.height>-p.value+E.value&&(Q=-(ae.top+ae.height-E.value)),y(0),w(U(Q))}},Z=Ee(0),se=Ee(0);Lt(()=>{let fe,ae,Q,de,$e,Oe;const A=z.value;["top","bottom"].includes(e.tabPosition)?(fe="width",de=m.value,$e=v.value,Oe=_.value,ae=e.rtl?"right":"left",Q=Math.abs(d.value)):(fe="height",de=E.value,$e=v.value,Oe=$.value,ae="top",Q=-p.value);let S=de;$e+Oe>de&&$e<de&&(S=de-Oe);const B=i.value;if(!B.length)return[Z.value,se.value]=[0,0];const T=B.length;let O=T;for(let q=0;q<T;q+=1){const L=A.get(B[q].key)||Jr;if(L[ae]+L[fe]>Q+S){O=q-1;break}}let N=0;for(let q=T-1;q>=0;q-=1)if((A.get(B[q].key)||Jr)[ae]<Q){N=q+1;break}return[Z.value,se.value]=[N,O]});const re=()=>{var fe,ae,Q,de,$e;const Oe=((fe=s.value)===null||fe===void 0?void 0:fe.offsetWidth)||0,A=((ae=s.value)===null||ae===void 0?void 0:ae.offsetHeight)||0,S=((Q=h.value)===null||Q===void 0?void 0:Q.$el)||{},B=S.offsetWidth||0,T=S.offsetHeight||0;g(Oe),F(A),x(B),M(T);const O=(((de=c.value)===null||de===void 0?void 0:de.offsetWidth)||0)-B,N=((($e=c.value)===null||$e===void 0?void 0:$e.offsetHeight)||0)-T;b(O),C(N),W(()=>{const q=new Map;return i.value.forEach(L=>{let{key:V}=L;const k=u.value.get(V),ve=(k==null?void 0:k.$el)||k;ve&&q.set(V,{width:ve.offsetWidth,height:ve.offsetHeight,left:ve.offsetLeft,top:ve.offsetTop})}),q})},ie=Y(()=>[...i.value.slice(0,Z.value),...i.value.slice(se.value+1)]),[be,he]=Qe(),ce=Y(()=>z.value.get(e.activeKey)),Se=Ee(),He=()=>{xt.cancel(Se.value)};Ue([ce,l,()=>e.rtl],()=>{const fe={};ce.value&&(l.value?(e.rtl?fe.right=un(ce.value.right):fe.left=un(ce.value.left),fe.width=un(ce.value.width)):(fe.top=un(ce.value.top),fe.height=un(ce.value.height))),He(),Se.value=xt(()=>{he(fe)})}),Ue([()=>e.activeKey,ce,z,l],()=>{K()},{flush:"post"}),Ue([()=>e.rtl,()=>e.tabBarGutter,()=>e.activeKey,()=>i.value],()=>{re()},{flush:"post"});const tt=fe=>{let{position:ae,prefixCls:Q,extra:de}=fe;if(!de)return null;const $e=de==null?void 0:de({position:ae});return $e?R("div",{class:`${Q}-extra-content`},[$e]):null};return kt(()=>{me(),He()}),()=>{const{id:fe,animated:ae,activeKey:Q,rtl:de,editable:$e,locale:Oe,tabPosition:A,tabBarGutter:S,onTabClick:B}=e,{class:T,style:O}=n,N=o.value,q=!!ie.value.length,L=`${N}-nav-wrap`;let V,k,ve,we;l.value?de?(k=d.value>0,V=d.value+m.value<v.value):(V=d.value<0,k=-d.value+m.value<v.value):(ve=p.value<0,we=-p.value+E.value<D.value);const xe={};A==="top"||A==="bottom"?xe[de?"marginRight":"marginLeft"]=typeof S=="number"?`${S}px`:S:xe.marginTop=typeof S=="number"?`${S}px`:S;const je=i.value.map((qe,at)=>{const{key:Ye}=qe;return R(ss,{id:fe,prefixCls:N,key:Ye,tab:qe,style:at===0?void 0:xe,closable:qe.closable,editable:$e,active:Ye===Q,removeAriaLabel:Oe==null?void 0:Oe.removeAriaLabel,ref:a(Ye),onClick:At=>{B(Ye,At)},onFocus:()=>{K(Ye),ue(),s.value&&(de||(s.value.scrollLeft=0),s.value.scrollTop=0)}},r)});return R("div",{role:"tablist",class:lt(`${N}-nav`,T),style:O,onKeydown:()=>{ue()}},[R(tt,{position:"left",prefixCls:N,extra:r.leftExtra},null),R(Ir,{onResize:re},{default:()=>[R("div",{class:lt(L,{[`${L}-ping-left`]:V,[`${L}-ping-right`]:k,[`${L}-ping-top`]:ve,[`${L}-ping-bottom`]:we}),ref:s},[R(Ir,{onResize:re},{default:()=>[R("div",{ref:c,class:`${N}-nav-list`,style:{transform:`translate(${d.value}px, ${p.value}px)`,transition:G.value?"none":void 0}},[je,R(lo,{ref:h,prefixCls:N,locale:Oe,editable:$e,style:J(J({},je.length===0?void 0:xe),{visibility:q?"hidden":null})},null),R("div",{class:lt(`${N}-ink-bar`,{[`${N}-ink-bar-animated`]:ae.inkBar}),style:be.value},null)])]})])]}),R(fs,ye(ye({},e),{},{removeAriaLabel:Oe==null?void 0:Oe.removeAriaLabel,ref:f,prefixCls:N,tabs:ie.value,class:!q&&I.value}),Xi(r,["moreIcon"])),R(tt,{position:"right",prefixCls:N,extra:r.rightExtra},null),R(tt,{position:"right",prefixCls:N,extra:r.tabBarExtraContent},null)])}}}),gs=Ge({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup(e){const{tabs:t,prefixCls:n}=fo();return()=>{const{id:r,activeKey:i,animated:o,tabPosition:s,rtl:c,destroyInactiveTabPane:f}=e,h=o.tabPane,a=n.value,u=t.value.findIndex(l=>l.key===i);return R("div",{class:`${a}-content-holder`},[R("div",{class:[`${a}-content`,`${a}-content-${s}`,{[`${a}-content-animated`]:h}],style:u&&h?{[c?"marginRight":"marginLeft"]:`-${u}00%`}:null},[t.value.map(l=>jt(l.node,{key:l.key,prefixCls:a,tabKey:l.key,id:r,animated:h,active:l.key===i,destroyInactiveTabPane:f}))])])}}});var Ds={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const ys=Ds;function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){bs(e,i,n[i])})}return e}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gr=function(t,n){var r=ei({},t,n.attrs);return R(zi,ei({},r,{icon:ys}),null)};gr.displayName="PlusOutlined";gr.inheritAttrs=!1;const ws=gr,Cs=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[Sn(e,"slide-up"),Sn(e,"slide-down")]]},Es=Cs,As=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeadBackground:r,tabsCardGutter:i,colorSplit:o}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:r,border:`${e.lineWidth}px ${e.lineType} ${o}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:e.colorPrimary,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:`${i}px`}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:`${i}px`}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadiusLG}px 0 0 ${e.borderRadiusLG}px`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},Fs=e=>{const{componentCls:t,tabsHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:J(J({},hr(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${r}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":J(J({},ki),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${e.paddingXXS}px ${e.paddingSM}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},_s=e=>{const{componentCls:t,margin:n,colorSplit:r}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:`0 0 ${n}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${e.lineWidth}px ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:`${n}px`,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:e.controlHeight*1.25,[`${t}-tab`]:{padding:`${e.paddingXS}px ${e.paddingLG}px`,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:`${e.margin}px 0 0 0`},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${e.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-e.lineWidth},borderRight:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},Ss=e=>{const{componentCls:t,padding:n}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px 0`,fontSize:e.fontSize}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${n}px 0`,fontSize:e.fontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXXS*1.5}px ${n}px`}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${e.borderRadius}px ${e.borderRadius}px`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${e.borderRadius}px ${e.borderRadius}px 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadius}px ${e.borderRadius}px 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadius}px 0 0 ${e.borderRadius}px`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px ${n}px ${e.paddingXXS*1.5}px`}}}}}},$s=e=>{const{componentCls:t,tabsActiveColor:n,tabsHoverColor:r,iconCls:i,tabsHorizontalGutter:o}=e,s=`${t}-tab`;return{[s]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${e.paddingSM}px 0`,fontSize:`${e.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":J({"&:focus:not(:focus-visible), &:active":{color:n}},qi(e)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-e.marginXXS},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:r},[`&${s}-active ${s}-btn`]:{color:e.colorPrimary,textShadow:e.tabsActiveTextShadow},[`&${s}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${s}-disabled ${s}-btn, &${s}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${s}-remove ${i}`]:{margin:0},[i]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${s} + ${s}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${o}px`}}}},xs=e=>{const{componentCls:t,tabsHorizontalGutter:n,iconCls:r,tabsCardGutter:i}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${n}px`},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${e.marginSM}px`}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${e.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${e.marginXXS}px`},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:`${i}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},Ms=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeight:r,tabsCardGutter:i,tabsHoverColor:o,tabsActiveColor:s,colorSplit:c}=e;return{[t]:J(J(J(J({},hr(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:J({minWidth:`${r}px`,marginLeft:{_skip_check_:!0,value:`${i}px`},padding:`0 ${e.paddingXS}px`,background:"transparent",border:`${e.lineWidth}px ${e.lineType} ${c}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:s}},qi(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.colorPrimary,pointerEvents:"none"}}),$s(e)),{[`${t}-content`]:{position:"relative",display:"flex",width:"100%","&-animated":{transition:"margin 0.3s"}},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none",flex:"none",width:"100%"}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},Bs=Ki("Tabs",e=>{const t=e.controlHeightLG,n=tr(e,{tabsHoverColor:e.colorPrimaryHover,tabsActiveColor:e.colorPrimaryActive,tabsCardHorizontalPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,tabsCardHeight:t,tabsCardGutter:e.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:e.colorFillAlter,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[Ss(n),xs(n),_s(n),Fs(n),As(n),Ms(n),Es(n)]},e=>({zIndexPopup:e.zIndexPopupBase+50}));let ti=0;const ho=()=>({prefixCls:{type:String},id:{type:String},popupClassName:String,getPopupContainer:dt(),activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:wn(),animated:ta([Boolean,Object]),renderTabBar:dt(),tabBarGutter:{type:Number},tabBarStyle:$t(),tabPosition:wn(),destroyInactiveTabPane:na(),hideAdd:Boolean,type:wn(),size:wn(),centered:Boolean,onEdit:dt(),onChange:dt(),onTabClick:dt(),onTabScroll:dt(),"onUpdate:activeKey":dt(),locale:$t(),onPrevClick:dt(),onNextClick:dt(),tabBarExtraContent:Pe.any});function Ns(e){return e.map(t=>{if(dr(t)){const n=J({},t.props||{});for(const[l,d]of Object.entries(n))delete n[l],n[ra(l)]=d;const r=t.children||{},i=t.key!==void 0?t.key:void 0,{tab:o=r.tab,disabled:s,forceRender:c,closable:f,animated:h,active:a,destroyInactiveTabPane:u}=n;return J(J({key:i},n),{node:t,closeIcon:r.closeIcon,tab:o,disabled:s===""||s,forceRender:c===""||c,closable:f===""||f,animated:h===""||h,active:a===""||a,destroyInactiveTabPane:u===""||u})}return null}).filter(t=>t)}const Ts=Ge({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:J(J({},Wi(ho(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{tabs:ia()}),slots:Object,setup(e,t){let{attrs:n,slots:r}=t;zt(e.onPrevClick===void 0&&e.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),zt(e.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),zt(r.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");const{prefixCls:i,direction:o,size:s,rootPrefixCls:c,getPopupContainer:f}=Hi("tabs",e),[h,a]=Bs(i),u=Y(()=>o.value==="rtl"),l=Y(()=>{const{animated:E,tabPosition:F}=e;return E===!1||["left","right"].includes(F)?{inkBar:!1,tabPane:!1}:E===!0?{inkBar:!0,tabPane:!0}:J({inkBar:!0,tabPane:!1},typeof E=="object"?E:{})}),[d,y]=Qe(!1);Bt(()=>{y(oa())});const[p,w]=Pr(()=>{var E;return(E=e.tabs[0])===null||E===void 0?void 0:E.key},{value:Y(()=>e.activeKey),defaultValue:e.defaultActiveKey}),[v,b]=Qe(()=>e.tabs.findIndex(E=>E.key===p.value));Lt(()=>{var E;let F=e.tabs.findIndex(_=>_.key===p.value);F===-1&&(F=Math.max(0,Math.min(v.value,e.tabs.length-1)),w((E=e.tabs[F])===null||E===void 0?void 0:E.key)),b(F)});const[D,C]=Pr(null,{value:Y(()=>e.id)}),m=Y(()=>d.value&&!["left","right"].includes(e.tabPosition)?"top":e.tabPosition);Bt(()=>{e.id||(C(`rc-tabs-${ti}`),ti+=1)});const g=(E,F)=>{var _,x;(_=e.onTabClick)===null||_===void 0||_.call(e,E,F);const $=E!==p.value;w(E),$&&((x=e.onChange)===null||x===void 0||x.call(e,E))};return ds({tabs:Y(()=>e.tabs),prefixCls:i}),()=>{const{id:E,type:F,tabBarGutter:_,tabBarStyle:x,locale:$,destroyInactiveTabPane:M,renderTabBar:H=r.renderTabBar,onTabScroll:W,hideAdd:z,centered:I}=e,X={id:D.value,activeKey:p.value,animated:l.value,tabPosition:m.value,rtl:u.value,mobile:d.value};let j;F==="editable-card"&&(j={onEdit:(te,ue)=>{let{key:me,event:ge}=ue;var K;(K=e.onEdit)===null||K===void 0||K.call(e,te==="add"?ge:me,te)},removeIcon:()=>R(ua,null,null),addIcon:r.addIcon?r.addIcon:()=>R(ws,null,null),showAdd:z!==!0});let U;const ne=J(J({},X),{moreTransitionName:`${c.value}-slide-up`,editable:j,locale:$,tabBarGutter:_,onTabClick:g,onTabScroll:W,style:x,getPopupContainer:f.value,popupClassName:lt(e.popupClassName,a.value)});H?U=H(J(J({},ne),{DefaultTabBar:Qr})):U=R(Qr,ne,Xi(r,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));const G=i.value;return h(R("div",ye(ye({},n),{},{id:E,class:lt(G,`${G}-${m.value}`,{[a.value]:!0,[`${G}-${s.value}`]:s.value,[`${G}-card`]:["card","editable-card"].includes(F),[`${G}-editable-card`]:F==="editable-card",[`${G}-centered`]:I,[`${G}-mobile`]:d.value,[`${G}-editable`]:F==="editable-card",[`${G}-rtl`]:u.value},n.class)}),[U,R(gs,ye(ye({destroyInactiveTabPane:M},X),{},{animated:l.value}),null)]))}}}),cn=Ge({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:Wi(ho(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:Object,setup(e,t){let{attrs:n,slots:r,emit:i}=t;const o=s=>{i("update:activeKey",s),i("change",s)};return()=>{var s;const c=Ns(fr((s=r.default)===null||s===void 0?void 0:s.call(r)));return R(Ts,ye(ye(ye({},ea(e,["onUpdate:activeKey"])),n),{},{onChange:o,tabs:c}),r)}}}),Is=()=>({tab:Pe.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}),Nn=Ge({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:Is(),slots:Object,setup(e,t){let{attrs:n,slots:r}=t;const i=pe(e.forceRender);Ue([()=>e.active,()=>e.destroyInactiveTabPane],()=>{e.active?i.value=!0:e.destroyInactiveTabPane&&(i.value=!1)},{immediate:!0});const o=Y(()=>e.active?{}:e.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"});return()=>{var s;const{prefixCls:c,forceRender:f,id:h,active:a,tabKey:u}=e;return R("div",{id:h&&`${h}-panel-${u}`,role:"tabpanel",tabindex:a?0:-1,"aria-labelledby":h&&`${h}-tab-${u}`,"aria-hidden":!a,style:[o.value,n.style],class:[`${c}-tabpane`,a&&`${c}-tabpane-active`,n.class]},[(a||i.value||f)&&((s=r.default)===null||s===void 0?void 0:s.call(r))])}}});cn.TabPane=Nn;cn.install=function(e){return e.component(cn.name,cn),e.component(Nn.name,Nn),e};const qn=Hn("snapshot",{state:()=>({snapshotData:[],snapshotIndex:-1}),getters:{},actions:{recordSnapshot(){const e=ot();this.snapshotData[++this.snapshotIndex]=An(e.componentData),this.snapshotIndex<this.snapshotData.length-1&&(this.snapshotData=this.snapshotData.slice(0,this.snapshotIndex+1))},undo(){if(this.snapshotIndex>=0){const e=ot();this.snapshotIndex--;const t=An(this.snapshotData[this.snapshotIndex])||[];e.curComponent&&!t.find(r=>e.curComponent.id===r.id)&&e.setCurComponent({curComponent:null,curComponentIndex:-1}),e.setComponentData(t)}},redo(){if(this.snapshotIndex<this.snapshotData.length-1){const e=ot();this.snapshotIndex++;const t=An(this.snapshotData[this.snapshotIndex]);e.setComponentData(t)}}}});function Ps(e){return document.querySelector(e)}const Dr=Hn("compose",{state:()=>({areaData:{style:{top:0,left:0,width:0,height:0},components:[]},editor:null}),getters:{},actions:{setEditor(){this.editor=Ps("#editor")},setAreaData(e){this.areaData=e}}}),Os=Hn("lock",{actions:{lock(){const e=ot();e.curComponent.isLock=!0},unlock(){const e=ot();e.curComponent.isLock=!1}}}),Rs={class:"toolbar"},zs={for:"input",class:"insert"},Ls={__name:"Toobar",setup(e){const t=qn(),n=ot(),r=Os();function i(){}function o(){t.undo()}function s(){t.redo()}function c(){}function f(){}function h(){}function a(){n.setCurComponent({component:null,index:-1}),n.setComponentData([]),t.recordSnapshot()}function u(){}function l(){}function d(){r.lock()}function y(){r.unlock()}return(p,w)=>{const v=aa;return Be(),ke("div",Rs,[R(v,{onClick:u},{default:nt(()=>[st("JSON")]),_:1}),R(v,{onClick:l},{default:nt(()=>[st("导入")]),_:1}),R(v,{onClick:i},{default:nt(()=>[st("导出")]),_:1}),R(v,{onClick:o,disabled:Ae(t).snapshotIndex<=0},{default:nt(()=>[st("撤消")]),_:1},8,["disabled"]),R(v,{onClick:s,disabled:Ae(t).snapshotIndex===Ae(t).snapshotData.length-1},{default:nt(()=>[st("重做")]),_:1},8,["disabled"]),rt("label",zs,[st(" 插入图片 "),rt("input",{id:"input",type:"file",hidden:"",onChange:c},null,32)]),R(v,{onClick:w[0]||(w[0]=b=>void 0)},{default:nt(()=>[st("预览")]),_:1}),R(v,{onClick:h},{default:nt(()=>[st("保存")]),_:1}),R(v,{onClick:a},{default:nt(()=>[st("清空画布")]),_:1}),R(v,null,{default:nt(()=>[st("组合")]),_:1}),R(v,null,{default:nt(()=>[st("拆分")]),_:1}),R(v,{disabled:!Ae(n).curComponent||Ae(n).curComponent.isLock,onClick:d},{default:nt(()=>[st("锁定")]),_:1},8,["disabled"]),R(v,{disabled:!Ae(n).curComponent||!Ae(n).curComponent.isLock,onClick:y},{default:nt(()=>[st("解锁")]),_:1},8,["disabled"])])}}},ks=yt(Ls,[["__scopeId","data-v-c27f56a3"]]),Ks={rotate:0,opacity:1},Hs={animations:[],events:{},groupStyle:{},isLock:!1,collapseName:"style",linkage:{duration:0,data:[{id:"",label:"",event:"",style:[{key:"",value:""}]}]}},fn=[{component:"VText",label:"文字",propValue:"双击编辑文字",icon:"wenben",request:{method:"GET",data:[],url:"",series:!1,time:1e3,paramType:"",requestCount:0},style:{width:200,height:28,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"",color:""}},{component:"VButton",label:"按钮",propValue:"按钮",icon:"button",style:{width:100,height:34,borderWidth:1,borderColor:"",borderRadius:"",fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"",color:"",backgroundColor:""}},{component:"Picture",label:"图片",icon:"tupian",propValue:{flip:{horizontal:!1,vertical:!1}},style:{width:300,height:200,borderRadius:""}},{component:"RectShape",label:"矩形",propValue:"&nbsp;",icon:"juxing",style:{width:200,height:200,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"",borderStyle:"solid",borderRadius:"",verticalAlign:"middle"}},{component:"LineShape",label:"直线",propValue:"",icon:"zhixian",style:{width:200,height:2,backgroundColor:"#000"}},{component:"CircleShape",label:"圆形",propValue:"&nbsp;",icon:"24gl-circle",style:{width:200,height:200,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"",borderStyle:"solid",borderRadius:"",verticalAlign:"middle"}},{component:"SVGStar",label:"星形",icon:"kongwujiaoxing",propValue:"",style:{width:80,height:80,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"SVGTriangle",label:"三角形",icon:"xingzhuang-sanjiaoxing",propValue:"",style:{width:80,height:80,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"VTable",label:"表格",icon:"biaoge",propValue:{data:[["表头1","表头2","表头3"],["内容1","内容2","内容3"]],stripe:!0,thBold:!0},request:{method:"GET",data:[],url:"",series:!1,time:1e3,paramType:"",requestCount:0},style:{width:600,height:200,fontSize:"",fontWeight:400,textAlign:"center",color:"",backgroundColor:"rgba(255, 255, 255, 1)"}}];for(let e=0,t=fn.length;e<t;e++){const n=fn[e];n.style={...Ks,...n.style},fn[e]={...Hs,...n}}const qs=["data-index"],Ws={__name:"OptionalComponentList",setup(e){const t=n=>{console.log("🚀 ~ handleDragStart ~ e:",n.target),n.dataTransfer.setData("index",n.target.dataset.index)};return(n,r)=>(Be(),ke("div",{class:"optional-component-list",onDragstart:t},[(Be(!0),ke(Ct,null,mn(Ae(fn),(i,o)=>(Be(),ke("div",{key:o,class:"optional-component-list_item",draggable:"true","data-index":o},[i.icon.substr(0,2)==="el"?(Be(),ke("span",{key:0,class:vt(i.icon)},null,2)):(Be(),ke("span",{key:1,class:vt(["iconfont","icon-"+i.icon])},null,2))],8,qs))),128))],32))}},Vs=yt(Ws,[["__scopeId","data-v-9d50c961"]]),Us="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Xs=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=Us[n[e]&63];return t};const Gs=()=>Xs(),ni=(e,t,n)=>{const r=e[t];e[t]=e[n],e[n]=r},js=Hn("layer",{state:()=>({}),actions:{up(){const e=ot();e.curComponentIndex<e.componentData.length-1&&(ni(e.componentData,e.curComponentIndex,e.curComponentIndex+1),e.curComponentIndex+=1)},down(){const e=ot();e.curComponentIndex>0&&(ni(e.componentData,e.curComponentIndex,e.curComponentIndex-1),e.curComponentIndex-=1)}}}),Ys={class:"real-component-list"},Zs=["onClick"],Js={class:"extra"},Qs=["onClick"],el=["onClick"],tl=["onClick"],nl={__name:"RealComponentList",setup(e){const t=ot(),n=js(),r=qn(),i=a=>{console.log("🚀 ~ handleItemClick ~ index:",a),t.setCurComponent({component:t.componentData[a],index:a})},o=()=>{n.up(),r.recordSnapshot()},s=()=>{n.down(),r.recordSnapshot()},c=()=>{setTimeout(()=>{t.deleteComp(),r.recordSnapshot()})},f=a=>t.componentData.length-1-a,h=a=>t.componentData[t.componentData.length-1-a];return(a,u)=>(Be(),ke("div",Ys,[(Be(!0),ke(Ct,null,mn(Ae(t).componentData,(l,d)=>(Be(),ke("div",{key:d,class:vt(["real-component-list_item",{actived:f(d)===Ae(t).curComponentIndex}]),onClick:y=>i(f(d))},[rt("span",{class:vt(["iconfont","icon-"+h(d).icon])},null,2),rt("span",null,fa(h(d).label),1),rt("div",Js,[rt("span",{class:"iconfont icon-shangyi",onClick:y=>o(f(d))},null,8,Qs),rt("span",{class:"iconfont icon-xiayi",onClick:y=>s(f(d))},null,8,el),rt("span",{class:"iconfont icon-shanchu",onClick:y=>c(f(d))},null,8,tl)])],10,Zs))),128))]))}},rl=yt(nl,[["__scopeId","data-v-dcd0be51"]]),il={},ol={class:"grid",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},ul=da('<defs data-v-0da47ca9><pattern id="smallGrid" width="7.236328125" height="7.236328125" patternUnits="userSpaceOnUse" data-v-0da47ca9><path d="M 7.236328125 0 L 0 0 0 7.236328125" fill="none" stroke="rgba(207, 207, 207, 0.3)" stroke-width="1" data-v-0da47ca9></path></pattern><pattern id="grid" width="36.181640625" height="36.181640625" patternUnits="userSpaceOnUse" data-v-0da47ca9><rect width="36.181640625" height="36.181640625" fill="url(#smallGrid)" data-v-0da47ca9></rect><path d="M 36.181640625 0 L 0 0 0 36.181640625" fill="none" stroke="rgba(186, 186, 186, 0.5)" stroke-width="1" data-v-0da47ca9></path></pattern></defs><rect width="100%" height="100%" fill="url(#grid)" data-v-0da47ca9></rect>',2),al=[ul];function sl(e,t){return Be(),ke("svg",ol,al)}const ll=yt(il,[["render",sl],["__scopeId","data-v-0da47ca9"]]),cl={};function fl(e,t){return null}const dl=yt(cl,[["render",fl]]);function hl(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(i){i(n)}),(r=e.get("*"))&&r.slice().map(function(i){i(t,n)})}}}const Tn=hl();var po={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function Me(e){return typeof e=="number"}function Ke(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function vo(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function mo(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function go(e){return e&&e.constructor.prototype.isUnit===!0||!1}function gt(e){return typeof e=="string"}var Te=Array.isArray;function Xe(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function In(e){return Array.isArray(e)||Xe(e)}function pl(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function vl(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ml(e){return e&&e.constructor.prototype.isRange===!0||!1}function yr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function gl(e){return typeof e=="boolean"}function Dl(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function yl(e){return e&&e.constructor.prototype.isHelp===!0||!1}function bl(e){return typeof e=="function"}function wl(e){return e instanceof Date}function Cl(e){return e instanceof RegExp}function br(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!vo(e)&&!mo(e))}function El(e){return e===null}function Al(e){return e===void 0}function Fl(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function _l(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function Sl(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function $l(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function xl(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ml(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Bl(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function Nl(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Tl(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Il(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pl(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ol(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Rl(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function zl(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ll(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function kl(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Kl(e){return e&&e.constructor.prototype.isChain===!0||!1}function Xt(e){var t=typeof e;return t==="object"?e===null?"null":Ke(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Re(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Re(n)});if(e instanceof Date)return new Date(e.valueOf());if(Ke(e))return e;if(br(e))return Hl(e,Re);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Hl(e,t){var n={};for(var r in e)pn(e,r)&&(n[r]=t(e[r]));return n}function ql(e,t){for(var n in t)pn(t,n)&&(e[n]=t[n]);return e}function Jt(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!Jt(e[r],t[r]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Jt(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function pn(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Wl(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],o=e[i];o!==void 0&&(n[i]=o)}return n}var Vl=["Matrix","Array"],Ul=["number","BigNumber","Fraction"],gn=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(po)};J(gn,po,{MATRIX_OPTIONS:Vl,NUMBER_OPTIONS:Ul});function ri(){return!0}function ct(){return!1}function Wt(){}const ii="Argument is not a typed-function.";function Do(){function e(A){return typeof A=="object"&&A!==null&&A.constructor===Object}const t=[{name:"number",test:function(A){return typeof A=="number"}},{name:"string",test:function(A){return typeof A=="string"}},{name:"boolean",test:function(A){return typeof A=="boolean"}},{name:"Function",test:function(A){return typeof A=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(A){return A instanceof Date}},{name:"RegExp",test:function(A){return A instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(A){return A===null}},{name:"undefined",test:function(A){return A===void 0}}],n={name:"any",test:ri,isAny:!0};let r,i,o=0,s={createCount:0};function c(A){const S=r.get(A);if(S)return S;let B='Unknown type "'+A+'"';const T=A.toLowerCase();let O;for(O of i)if(O.toLowerCase()===T){B+='. Did you mean "'+O+'" ?';break}throw new TypeError(B)}function f(A){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const B=S?c(S).index:i.length,T=[];for(let N=0;N<A.length;++N){if(!A[N]||typeof A[N].name!="string"||typeof A[N].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const q=A[N].name;if(r.has(q))throw new TypeError('Duplicate type name "'+q+'"');T.push(q),r.set(q,{name:q,test:A[N].test,isAny:A[N].isAny,index:B+N,conversionsTo:[]})}const O=i.slice(B);i=i.slice(0,B).concat(T).concat(O);for(let N=B+T.length;N<i.length;++N)r.get(i[N]).index=N}function h(){r=new Map,i=[],o=0,f([n],!1)}h(),f(t);function a(){let A;for(A of i)r.get(A).conversionsTo=[];o=0}function u(A){const S=i.filter(B=>{const T=r.get(B);return!T.isAny&&T.test(A)});return S.length?S:["any"]}function l(A){return A&&typeof A=="function"&&"_typedFunctionData"in A}function d(A,S,B){if(!l(A))throw new TypeError(ii);const T=B&&B.exact,O=Array.isArray(S)?S.join(","):S,N=C(O),q=w(N);if(!T||q in A.signatures){const ve=A._typedFunctionData.signatureMap.get(q);if(ve)return ve}const L=N.length;let V;if(T){V=[];let ve;for(ve in A.signatures)V.push(A._typedFunctionData.signatureMap.get(ve))}else V=A._typedFunctionData.signatures;for(let ve=0;ve<L;++ve){const we=N[ve],xe=[];let je;for(je of V){const qe=F(je.params,ve);if(!(!qe||we.restParam&&!qe.restParam)){if(!qe.hasAny){const at=D(qe);if(we.types.some(Ye=>!at.has(Ye.name)))continue}xe.push(je)}}if(V=xe,V.length===0)break}let k;for(k of V)if(k.params.length<=L)return k;throw new TypeError("Signature not found (signature: "+(A.name||"unnamed")+"("+w(N,", ")+"))")}function y(A,S,B){return d(A,S,B).implementation}function p(A,S){const B=c(S);if(B.test(A))return A;const T=B.conversionsTo;if(T.length===0)throw new Error("There are no conversions to "+S+" defined.");for(let O=0;O<T.length;O++)if(c(T[O].from).test(A))return T[O].convert(A);throw new Error("Cannot convert "+A+" to "+S)}function w(A){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return A.map(B=>B.name).join(S)}function v(A){const S=A.indexOf("...")===0,T=(S?A.length>3?A.slice(3):"any":A).split("|").map(L=>c(L.trim()));let O=!1,N=S?"...":"";return{types:T.map(function(L){return O=L.isAny||O,N+=L.name+"|",{name:L.name,typeIndex:L.index,test:L.test,isAny:L.isAny,conversion:null,conversionIndex:-1}}),name:N.slice(0,-1),hasAny:O,hasConversion:!1,restParam:S}}function b(A){const S=A.types.map(q=>q.name),B=X(S);let T=A.hasAny,O=A.name;const N=B.map(function(q){const L=c(q.from);return T=L.isAny||T,O+="|"+q.from,{name:q.from,typeIndex:L.index,test:L.test,isAny:L.isAny,conversion:q,conversionIndex:q.index}});return{types:A.types.concat(N),name:O,hasAny:T,hasConversion:N.length>0,restParam:A.restParam}}function D(A){return A.typeSet||(A.typeSet=new Set,A.types.forEach(S=>A.typeSet.add(S.name))),A.typeSet}function C(A){const S=[];if(typeof A!="string")throw new TypeError("Signatures must be strings");const B=A.trim();if(B==="")return S;const T=B.split(",");for(let O=0;O<T.length;++O){const N=v(T[O].trim());if(N.restParam&&O!==T.length-1)throw new SyntaxError('Unexpected rest parameter "'+T[O]+'": only allowed for the last parameter');if(N.types.length===0)return null;S.push(N)}return S}function m(A){const S=re(A);return S?S.restParam:!1}function g(A){if(!A||A.types.length===0)return ri;if(A.types.length===1)return c(A.types[0].name).test;if(A.types.length===2){const S=c(A.types[0].name).test,B=c(A.types[1].name).test;return function(O){return S(O)||B(O)}}else{const S=A.types.map(function(B){return c(B.name).test});return function(T){for(let O=0;O<S.length;O++)if(S[O](T))return!0;return!1}}}function E(A){let S,B,T;if(m(A)){S=se(A).map(g);const O=S.length,N=g(re(A)),q=function(L){for(let V=O;V<L.length;V++)if(!N(L[V]))return!1;return!0};return function(V){for(let k=0;k<S.length;k++)if(!S[k](V[k]))return!1;return q(V)&&V.length>=O+1}}else return A.length===0?function(N){return N.length===0}:A.length===1?(B=g(A[0]),function(N){return B(N[0])&&N.length===1}):A.length===2?(B=g(A[0]),T=g(A[1]),function(N){return B(N[0])&&T(N[1])&&N.length===2}):(S=A.map(g),function(N){for(let q=0;q<S.length;q++)if(!S[q](N[q]))return!1;return N.length===S.length})}function F(A,S){return S<A.length?A[S]:m(A)?re(A):null}function _(A,S){const B=F(A,S);return B?D(B):new Set}function x(A){return A.conversion===null||A.conversion===void 0}function $(A,S){const B=new Set;return A.forEach(T=>{const O=_(T.params,S);let N;for(N of O)B.add(N)}),B.has("any")?["any"]:Array.from(B)}function M(A,S,B){let T,O;const N=A||"unnamed";let q=B,L;for(L=0;L<S.length;L++){const we=[];if(q.forEach(xe=>{const je=F(xe.params,L),qe=g(je);(L<xe.params.length||m(xe.params))&&qe(S[L])&&we.push(xe)}),we.length===0){if(O=$(q,L),O.length>0){const xe=u(S[L]);return T=new TypeError("Unexpected type of argument in function "+N+" (expected: "+O.join(" or ")+", actual: "+xe.join(" | ")+", index: "+L+")"),T.data={category:"wrongType",fn:N,index:L,actual:xe,expected:O},T}}else q=we}const V=q.map(function(we){return m(we.params)?1/0:we.params.length});if(S.length<Math.min.apply(null,V))return O=$(q,L),T=new TypeError("Too few arguments in function "+N+" (expected: "+O.join(" or ")+", index: "+S.length+")"),T.data={category:"tooFewArgs",fn:N,index:S.length,expected:O},T;const k=Math.max.apply(null,V);if(S.length>k)return T=new TypeError("Too many arguments in function "+N+" (expected: "+k+", actual: "+S.length+")"),T.data={category:"tooManyArgs",fn:N,index:S.length,expectedLength:k},T;const ve=[];for(let we=0;we<S.length;++we)ve.push(u(S[we]).join("|"));return T=new TypeError('Arguments of type "'+ve.join(", ")+'" do not match any of the defined signatures of function '+N+"."),T.data={category:"mismatch",actual:ve},T}function H(A){let S=i.length+1;for(let B=0;B<A.types.length;B++)x(A.types[B])&&(S=Math.min(S,A.types[B].typeIndex));return S}function W(A){let S=o+1;for(let B=0;B<A.types.length;B++)x(A.types[B])||(S=Math.min(S,A.types[B].conversionIndex));return S}function z(A,S){if(A.hasAny){if(!S.hasAny)return 1}else if(S.hasAny)return-1;if(A.restParam){if(!S.restParam)return 1}else if(S.restParam)return-1;if(A.hasConversion){if(!S.hasConversion)return 1}else if(S.hasConversion)return-1;const B=H(A)-H(S);if(B<0)return-1;if(B>0)return 1;const T=W(A)-W(S);return T<0?-1:T>0?1:0}function I(A,S){const B=A.params,T=S.params,O=re(B),N=re(T),q=m(B),L=m(T);if(q&&O.hasAny){if(!L||!N.hasAny)return 1}else if(L&&N.hasAny)return-1;let V=0,k=0,ve;for(ve of B)ve.hasAny&&++V,ve.hasConversion&&++k;let we=0,xe=0;for(ve of T)ve.hasAny&&++we,ve.hasConversion&&++xe;if(V!==we)return V-we;if(q&&O.hasConversion){if(!L||!N.hasConversion)return 1}else if(L&&N.hasConversion)return-1;if(k!==xe)return k-xe;if(q){if(!L)return 1}else if(L)return-1;const je=(B.length-T.length)*(q?-1:1);if(je!==0)return je;const qe=[];let at=0;for(let At=0;At<B.length;++At){const yn=z(B[At],T[At]);qe.push(yn),at+=yn}if(at!==0)return at;let Ye;for(Ye of qe)if(Ye!==0)return Ye;return 0}function X(A){if(A.length===0)return[];const S=A.map(c);A.length>1&&S.sort((O,N)=>O.index-N.index);let B=S[0].conversionsTo;if(A.length===1)return B;B=B.concat([]);const T=new Set(A);for(let O=1;O<S.length;++O){let N;for(N of S[O].conversionsTo)T.has(N.from)||(B.push(N),T.add(N.from))}return B}function j(A,S){let B=S;if(A.some(O=>O.hasConversion)){const O=m(A),N=A.map(U);B=function(){const L=[],V=O?arguments.length-1:arguments.length;for(let k=0;k<V;k++)L[k]=N[k](arguments[k]);return O&&(L[V]=arguments[V].map(N[V])),S.apply(this,L)}}let T=B;if(m(A)){const O=A.length-1;T=function(){return B.apply(this,ie(arguments,0,O).concat([ie(arguments,O)]))}}return T}function U(A){let S,B,T,O;const N=[],q=[];switch(A.types.forEach(function(L){L.conversion&&(N.push(c(L.conversion.from).test),q.push(L.conversion.convert))}),q.length){case 0:return function(V){return V};case 1:return S=N[0],T=q[0],function(V){return S(V)?T(V):V};case 2:return S=N[0],B=N[1],T=q[0],O=q[1],function(V){return S(V)?T(V):B(V)?O(V):V};default:return function(V){for(let k=0;k<q.length;k++)if(N[k](V))return q[k](V);return V}}}function ne(A){function S(B,T,O){if(T<B.length){const N=B[T];let q=[];if(N.restParam){const L=N.types.filter(x);L.length<N.types.length&&q.push({types:L,name:"..."+L.map(V=>V.name).join("|"),hasAny:L.some(V=>V.isAny),hasConversion:!1,restParam:!0}),q.push(N)}else q=N.types.map(function(L){return{types:[L],name:L.name,hasAny:L.isAny,hasConversion:L.conversion,restParam:!1}});return he(q,function(L){return S(B,T+1,O.concat([L]))})}else return[O]}return S(A,0,[])}function G(A,S){const B=Math.max(A.length,S.length);for(let L=0;L<B;L++){const V=_(A,L),k=_(S,L);let ve=!1,we;for(we of k)if(V.has(we)){ve=!0;break}if(!ve)return!1}const T=A.length,O=S.length,N=m(A),q=m(S);return N?q?T===O:O>=T:q?T>=O:T===O}function te(A){return A.map(S=>fe(S)?He(S.referToSelf.callback):tt(S)?Se(S.referTo.references,S.referTo.callback):S)}function ue(A,S,B){const T=[];let O;for(O of A){let N=B[O];if(typeof N!="number")throw new TypeError('No definition for referenced signature "'+O+'"');if(N=S[N],typeof N!="function")return!1;T.push(N)}return T}function me(A,S,B){const T=te(A),O=new Array(T.length).fill(!1);let N=!0;for(;N;){N=!1;let q=!0;for(let L=0;L<T.length;++L){if(O[L])continue;const V=T[L];if(fe(V))T[L]=V.referToSelf.callback(B),T[L].referToSelf=V.referToSelf,O[L]=!0,q=!1;else if(tt(V)){const k=ue(V.referTo.references,T,S);k?(T[L]=V.referTo.callback.apply(this,k),T[L].referTo=V.referTo,O[L]=!0,q=!1):N=!0}}if(q&&N)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return T}function ge(A){const S=/\bthis(\(|\.signatures\b)/;Object.keys(A).forEach(B=>{const T=A[B];if(S.test(T.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function K(A,S){if(s.createCount++,Object.keys(S).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&ge(S);const B=[],T=[],O={},N=[];let q;for(q in S){if(!Object.prototype.hasOwnProperty.call(S,q))continue;const Ce=C(q);if(!Ce)continue;B.forEach(function(on){if(G(on,Ce))throw new TypeError('Conflicting signatures "'+w(on)+'" and "'+w(Ce)+'".')}),B.push(Ce);const it=T.length;T.push(S[q]);const Iu=Ce.map(b);let bn;for(bn of ne(Iu)){const on=w(bn);N.push({params:bn,name:on,fn:it}),bn.every(Pu=>!Pu.hasConversion)&&(O[on]=it)}}N.sort(I);const L=me(T,O,rn);let V;for(V in O)Object.prototype.hasOwnProperty.call(O,V)&&(O[V]=L[O[V]]);const k=[],ve=new Map;for(V of N)ve.has(V.name)||(V.fn=L[V.fn],k.push(V),ve.set(V.name,V));const we=k[0]&&k[0].params.length<=2&&!m(k[0].params),xe=k[1]&&k[1].params.length<=2&&!m(k[1].params),je=k[2]&&k[2].params.length<=2&&!m(k[2].params),qe=k[3]&&k[3].params.length<=2&&!m(k[3].params),at=k[4]&&k[4].params.length<=2&&!m(k[4].params),Ye=k[5]&&k[5].params.length<=2&&!m(k[5].params),At=we&&xe&&je&&qe&&at&&Ye;for(let Ce=0;Ce<k.length;++Ce)k[Ce].test=E(k[Ce].params);const yn=we?g(k[0].params[0]):ct,uu=xe?g(k[1].params[0]):ct,au=je?g(k[2].params[0]):ct,su=qe?g(k[3].params[0]):ct,lu=at?g(k[4].params[0]):ct,cu=Ye?g(k[5].params[0]):ct,fu=we?g(k[0].params[1]):ct,du=xe?g(k[1].params[1]):ct,hu=je?g(k[2].params[1]):ct,pu=qe?g(k[3].params[1]):ct,vu=at?g(k[4].params[1]):ct,mu=Ye?g(k[5].params[1]):ct;for(let Ce=0;Ce<k.length;++Ce)k[Ce].implementation=j(k[Ce].params,k[Ce].fn);const gu=we?k[0].implementation:Wt,Du=xe?k[1].implementation:Wt,yu=je?k[2].implementation:Wt,bu=qe?k[3].implementation:Wt,wu=at?k[4].implementation:Wt,Cu=Ye?k[5].implementation:Wt,Eu=we?k[0].params.length:-1,Au=xe?k[1].params.length:-1,Fu=je?k[2].params.length:-1,_u=qe?k[3].params.length:-1,Su=at?k[4].params.length:-1,$u=Ye?k[5].params.length:-1,xu=At?6:0,Mu=k.length,Bu=k.map(Ce=>Ce.test),Nu=k.map(Ce=>Ce.implementation),Tu=function(){for(let it=xu;it<Mu;it++)if(Bu[it](arguments))return Nu[it].apply(this,arguments);return s.onMismatch(A,arguments,k)};function rn(Ce,it){return arguments.length===Eu&&yn(Ce)&&fu(it)?gu.apply(this,arguments):arguments.length===Au&&uu(Ce)&&du(it)?Du.apply(this,arguments):arguments.length===Fu&&au(Ce)&&hu(it)?yu.apply(this,arguments):arguments.length===_u&&su(Ce)&&pu(it)?bu.apply(this,arguments):arguments.length===Su&&lu(Ce)&&vu(it)?wu.apply(this,arguments):arguments.length===$u&&cu(Ce)&&mu(it)?Cu.apply(this,arguments):Tu.apply(this,arguments)}try{Object.defineProperty(rn,"name",{value:A})}catch{}return rn.signatures=O,rn._typedFunctionData={signatures:k,signatureMap:ve},rn}function Z(A,S,B){throw M(A,S,B)}function se(A){return ie(A,0,A.length-1)}function re(A){return A[A.length-1]}function ie(A,S,B){return Array.prototype.slice.call(A,S,B)}function be(A,S){for(let B=0;B<A.length;B++)if(S(A[B]))return A[B]}function he(A,S){return Array.prototype.concat.apply([],A.map(S))}function ce(){const A=se(arguments).map(B=>w(C(B))),S=re(arguments);if(typeof S!="function")throw new TypeError("Callback function expected as last argument");return Se(A,S)}function Se(A,S){return{referTo:{references:A,callback:S}}}function He(A){if(typeof A!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:A}}}function tt(A){return A&&typeof A.referTo=="object"&&Array.isArray(A.referTo.references)&&typeof A.referTo.callback=="function"}function fe(A){return A&&typeof A.referToSelf=="object"&&typeof A.referToSelf.callback=="function"}function ae(A,S){if(!A)return S;if(S&&S!==A){const B=new Error("Function names do not match (expected: "+A+", actual: "+S+")");throw B.data={actual:S,expected:A},B}return A}function Q(A){let S;for(const B in A)Object.prototype.hasOwnProperty.call(A,B)&&(l(A[B])||typeof A[B].signature=="string")&&(S=ae(S,A[B].name));return S}function de(A,S){let B;for(B in S)if(Object.prototype.hasOwnProperty.call(S,B)){if(B in A&&S[B]!==A[B]){const T=new Error('Signature "'+B+'" is defined twice');throw T.data={signature:B,sourceFunction:S[B],destFunction:A[B]},T}A[B]=S[B]}}const $e=s;s=function(A){const S=typeof A=="string",B=S?1:0;let T=S?A:"";const O={};for(let N=B;N<arguments.length;++N){const q=arguments[N];let L={},V;if(typeof q=="function"?(V=q.name,typeof q.signature=="string"?L[q.signature]=q:l(q)&&(L=q.signatures)):e(q)&&(L=q,S||(V=Q(q))),Object.keys(L).length===0){const k=new TypeError("Argument to 'typed' at index "+N+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw k.data={index:N,argument:q},k}S||(T=ae(T,V)),de(O,L)}return K(T||"",O)},s.create=Do,s.createCount=$e.createCount,s.onMismatch=Z,s.throwMismatchError=Z,s.createError=M,s.clear=h,s.clearConversions=a,s.addTypes=f,s._findType=c,s.referTo=ce,s.referToSelf=He,s.convert=p,s.findSignature=d,s.find=y,s.isTypedFunction=l,s.warnAgainstDeprecatedThis=!0,s.addType=function(A,S){let B="any";S!==!1&&r.has("Object")&&(B="Object"),s.addTypes([A],B)};function Oe(A){if(!A||typeof A.from!="string"||typeof A.to!="string"||typeof A.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(A.to===A.from)throw new SyntaxError('Illegal to define conversion from "'+A.from+'" to itself.')}return s.addConversion=function(A){Oe(A);const S=c(A.to);if(S.conversionsTo.every(function(B){return B.from!==A.from}))S.conversionsTo.push({from:A.from,convert:A.convert,index:o++});else throw new Error('There is already a conversion from "'+A.from+'" to "'+S.name+'"')},s.addConversions=function(A){A.forEach(s.addConversion)},s.removeConversion=function(A){Oe(A);const S=c(A.to),B=be(S.conversionsTo,O=>O.from===A.from);if(!B)throw new Error("Attempt to remove nonexistent conversion from "+A.from+" to "+A.to);if(B.convert!==A.convert)throw new Error("Conversion to remove does not match existing conversion");const T=S.conversionsTo.indexOf(B);S.conversionsTo.splice(T,1)},s.resolve=function(A,S){if(!l(A))throw new TypeError(ii);const B=A._typedFunctionData.signatures;for(let T=0;T<B.length;++T)if(B[T].test(S))return B[T];return null},s}const oi=Do();function Ve(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Zn(e,t,n){var r={2:"0b",8:"0o",16:"0x"},i=r[t],o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ve(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Ve(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),o="i".concat(n)}var s="";return e<0&&(e=-e,s="-"),"".concat(s).concat(i).concat(e.toString(t)).concat(o)}function rr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:r,wordSize:i}=yo(t);switch(n){case"fixed":return Gl(e,r);case"exponential":return bo(e,r);case"engineering":return Xl(e,r);case"bin":return Zn(e,2,i);case"oct":return Zn(e,8,i);case"hex":return Zn(e,16,i);case"auto":return jl(e,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function yo(e){var t="auto",n,r;if(e!==void 0)if(Me(e))n=e;else if(Ke(e))n=e.toNumber();else if(br(e))e.precision!==void 0&&(n=ui(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(r=ui(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:n,wordSize:r}}function Wn(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return s.length===0&&(s.push(0),i++),{sign:n,coefficients:s,exponent:i}}function Xl(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Wn(e),r=Vn(n,t),i=r.exponent,o=r.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Me(t))for(;t>o.length||i-s+1>o.length;)o.push(0);else for(var c=Math.abs(i-s)-(o.length-1),f=0;f<c;f++)o.push(0);for(var h=Math.abs(i-s),a=1;h>0;)a++,h--;var u=o.slice(a).join(""),l=Me(t)&&u.length||u.match(/[1-9]/)?"."+u:"",d=o.slice(0,a).join("")+l+"e"+(i>=0?"+":"")+s.toString();return r.sign+d}function Gl(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Wn(e),r=typeof t=="number"?Vn(n,n.exponent+1+t):n,i=r.coefficients,o=r.exponent+1,s=o+(t||0);return i.length<s&&(i=i.concat(Gt(s-i.length))),o<0&&(i=Gt(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),r.sign+i.join("")}function bo(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=Wn(e),r=t?Vn(n,t):n,i=r.coefficients,o=r.exponent;i.length<t&&(i=i.concat(Gt(t-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function jl(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=ai(n==null?void 0:n.lowerExp,-3),i=ai(n==null?void 0:n.upperExp,5),o=Wn(e),s=t?Vn(o,t):o;if(s.exponent<r||s.exponent>=i)return bo(e,t);var c=s.coefficients,f=s.exponent;c.length<t&&(c=c.concat(Gt(t-c.length))),c=c.concat(Gt(f-c.length+1+(c.length<t?t-c.length:0))),c=Gt(-f).concat(c);var h=f>0?f:0;return h<c.length-1&&c.splice(h+1,0,"."),s.sign+c.join("")}function Vn(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t){var i=r.splice(t,r.length-t);if(i[0]>=5){var o=t-1;for(r[o]++;r[o]===10;)r.pop(),o===0&&(r.unshift(0),n.exponent++,o++),o--,r[o]++}}return n}function Gt(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Yl(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Zl=Number.EPSILON||2220446049250313e-31;function Pn(e,t,n){if(n==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<=Zl?!0:r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}function ui(e,t){if(Me(e))return e;if(Ke(e))return e.toNumber();t()}function ai(e,t){return Me(e)?e:Ke(e)?e.toNumber():t}function Jn(e,t,n){var r=e.constructor,i=new r(2),o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ve(n))throw new Error("size must be an integer");if(e.greaterThan(i.pow(n-1).sub(1))||e.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(n))),o="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(o);case 8:return"".concat(e.toOctal()).concat(o);case 16:return"".concat(e.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(t," not supported "))}}function Jl(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:r,wordSize:i}=yo(t);switch(n){case"fixed":return ec(e,r);case"exponential":return si(e,r);case"engineering":return Ql(e,r);case"bin":return Jn(e,2,i);case"oct":return Jn(e,8,i);case"hex":return Jn(e,16,i);case"auto":{var o=li(t==null?void 0:t.lowerExp,-3),s=li(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var c,f=e.toSignificantDigits(r),h=f.e;return h>=o&&h<s?c=f.toFixed():c=si(e,r),c.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],u=arguments[4];return a!=="."?a+u:u})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ql(e,t){var n=e.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),o=i.toPrecision(t);if(o.indexOf("e")!==-1){var s=e.constructor;o=new s(o).toFixed()}return o+"e"+(n>=0?"+":"")+r.toString()}function si(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function ec(e,t){return e.toFixed(t)}function li(e,t){return Me(e)?e:Ke(e)?e.toNumber():t}function Le(e,t){var n=tc(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function tc(e,t){if(typeof e=="number")return rr(e,t);if(Ke(e))return Jl(e,t);if(nc(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return wo(e,t);if(gt(e))return ci(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(r=>ci(r)+": "+Le(e[r],t));return"{"+n.join(", ")+"}"}return String(e)}function ci(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);n+=i in fi?fi[i]:i,r++}return'"'+n+'"'}var fi={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function wo(e,t){if(Array.isArray(e)){for(var n="[",r=e.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=wo(e[i],t);return n+="]",n}else return Le(e,t)}function nc(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function Ne(e,t,n){if(!(this instanceof Ne))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Ne.prototype=new RangeError;Ne.prototype.constructor=RangeError;Ne.prototype.name="DimensionError";Ne.prototype.isDimensionError=!0;function tn(e,t,n){if(!(this instanceof tn))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}tn.prototype=new RangeError;tn.prototype.constructor=RangeError;tn.prototype.name="IndexError";tn.prototype.isIndexError=!0;function ft(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Co(e,t,n){var r,i=e.length;if(i!==t[n])throw new Ne(i,t[n]);if(n<t.length-1){var o=n+1;for(r=0;r<i;r++){var s=e[r];if(!Array.isArray(s))throw new Ne(t.length-1,t.length,"<");Co(e[r],t,o)}}else for(r=0;r<i;r++)if(Array.isArray(e[r]))throw new Ne(t.length+1,t.length,">")}function di(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new Ne(e.length,0)}else Co(e,t,0)}function Ie(e,t){if(e!==void 0){if(!Me(e)||!Ve(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new tn(e,t)}}function ir(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!Me(i)||!Ve(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Le(t)+")")}),(Me(e)||Ke(e))&&(e=[e]);var r=n!==void 0?n:0;return or(e,t,0,r),e}function or(e,t,n,r){var i,o,s=e.length,c=t[n],f=Math.min(s,c);if(e.length=c,n<t.length-1){var h=n+1;for(i=0;i<f;i++)o=e[i],Array.isArray(o)||(o=[o],e[i]=o),or(o,t,h,r);for(i=f;i<c;i++)o=[],e[i]=o,or(o,t,h,r)}else{for(i=0;i<f;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=f;i<c;i++)e[i]=r}}function Eo(e,t){var n=ic(e),r=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Ne(0,r,"!=");t=wr(t,r);var i=Ao(t);if(r!==i)throw new Ne(i,r,"!=");try{return rc(n,t)}catch(o){throw o instanceof Ne?new Ne(i,r,"!="):o}}function wr(e,t){var n=Ao(e),r=e.slice(),i=-1,o=e.indexOf(i),s=e.indexOf(i,o+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var c=o>=0,f=t%n===0;if(c)if(f)r[o]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return r}function Ao(e){return e.reduce((t,n)=>t*n,1)}function rc(e,t){for(var n=e,r,i=t.length-1;i>0;i--){var o=t[i];r=[];for(var s=n.length/o,c=0;c<s;c++)r.push(n.slice(c*o,(c+1)*o));n=r}return n}function Fo(e,t,n,r){var i=r||ft(e);if(n)for(var o=0;o<n;o++)e=[e],i.unshift(1);for(e=_o(e,t,0);i.length<t;)i.push(1);return e}function _o(e,t,n){var r,i;if(Array.isArray(e)){var o=n+1;for(r=0,i=e.length;r<i;r++)e[r]=_o(e[r],t,o)}else for(var s=n;s<t;s++)e=[e];return e}function ic(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(r){Array.isArray(r)?r.forEach(n):t.push(r)}),t}function On(e,t){for(var n,r=0,i=0;i<e.length;i++){var o=e[i],s=Array.isArray(o);if(i===0&&s&&(r=o.length),s&&o.length!==r)return;var c=s?On(o,t):t(o);if(n===void 0)n=c;else if(n!==c)return"mixed"}return n}function So(e,t,n,r){if(r<n){if(e.length!==t.length)throw new Ne(e.length,t.length);for(var i=[],o=0;o<e.length;o++)i[o]=So(e[o],t[o],n,r+1);return i}else return e.concat(t)}function oc(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,r){return So(n,r,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function uc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.map(l=>l.length),i=Math.max(...r),o=new Array(i).fill(null),s=0;s<t.length;s++)for(var c=t[s],f=r[s],h=0;h<f;h++){var a=i-f+h;c[h]>o[a]&&(o[a]=c[h])}for(var u=0;u<t.length;u++)$o(t[u],o);return o}function $o(e,t){for(var n=t.length,r=e.length,i=0;i<r;i++){var o=n-r+i;if(e[i]<t[o]&&e[i]>1||e[i]>t[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(r," with size ").concat(e[i]," to size ").concat(t[o]))}}function hi(e,t){var n=ft(e);if(Jt(n,t))return e;$o(n,t);var r=uc(n,t),i=r.length,o=[...Array(i-n.length).fill(1),...n],s=sc(e);n.length<i&&(s=Eo(s,o),n=ft(s));for(var c=0;c<i;c++)n[c]<r[c]&&(s=ac(s,r[c],c),n=ft(s));return s}function ac(e,t,n){return oc(...Array(t).fill(e),n)}function sc(e){return J([],e)}function De(e,t,n,r){function i(o){var s=Wl(o,t.map(fc));return lc(e,t,o),n(s)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function lc(e,t,n){var r=t.filter(o=>!cc(o)).every(o=>n[o]!==void 0);if(!r){var i=t.filter(o=>n[o]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function cc(e){return e&&e[0]==="?"}function fc(e){return e&&e[0]==="?"?e.slice(1):e}function dc(e,t){if(Mo(e)&&xo(e,t))return e[t];throw typeof e[t]=="function"&&vc(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function hc(e,t,n){if(Mo(e)&&xo(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function pc(e,t){return t in e}function xo(e,t){return!e||typeof e!="object"?!1:pn(mc,t)?!0:!(t in Object.prototype||t in Function.prototype)}function vc(e,t){return e==null||typeof e[t]!="function"||pn(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:pn(gc,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Mo(e){return typeof e=="object"&&e&&e.constructor===Object}var mc={length:!0,name:!0},gc={toString:!0,valueOf:!0,toLocaleString:!0};class Dc{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(t){return dc(this.wrappedObject,t)}set(t,n){return hc(this.wrappedObject,t,n),this}has(t){return pc(this.wrappedObject,t)}entries(){return yc(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var n of this.keys())t(this.get(n),n,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function yc(e,t){return{next:()=>{var n=e.next();return n.done?n:{value:t(n.value),done:!1}}}}function bc(e){return e?e instanceof Map||e instanceof Dc||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Bo=function(){return Bo=oi.create,oi},wc=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Cc=De("typed",wc,function(t){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:o}=t,s=Bo();return s.clear(),s.addTypes([{name:"number",test:Me},{name:"Complex",test:vo},{name:"BigNumber",test:Ke},{name:"Fraction",test:mo},{name:"Unit",test:go},{name:"identifier",test:c=>gt&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(c)},{name:"string",test:gt},{name:"Chain",test:Kl},{name:"Array",test:Te},{name:"Matrix",test:Xe},{name:"DenseMatrix",test:pl},{name:"SparseMatrix",test:vl},{name:"Range",test:ml},{name:"Index",test:yr},{name:"boolean",test:gl},{name:"ResultSet",test:Dl},{name:"Help",test:yl},{name:"function",test:bl},{name:"Date",test:wl},{name:"RegExp",test:Cl},{name:"null",test:El},{name:"undefined",test:Al},{name:"AccessorNode",test:Fl},{name:"ArrayNode",test:_l},{name:"AssignmentNode",test:Sl},{name:"BlockNode",test:$l},{name:"ConditionalNode",test:xl},{name:"ConstantNode",test:Ml},{name:"FunctionNode",test:Nl},{name:"FunctionAssignmentNode",test:Bl},{name:"IndexNode",test:Tl},{name:"Node",test:Il},{name:"ObjectNode",test:Pl},{name:"OperatorNode",test:Ol},{name:"ParenthesisNode",test:Rl},{name:"RangeNode",test:zl},{name:"RelationalNode",test:Ll},{name:"SymbolNode",test:kl},{name:"Map",test:bc},{name:"Object",test:br}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(n||Qn(f),Yl(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new n(f)}},{from:"number",to:"Complex",convert:function(f){return r||En(f),new r(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return r||En(f),new r(f.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return r||En(f),new r(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){o||er(f);var h=new o(f);if(h.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(f){var h=Number(f);if(isNaN(h))throw new Error('Cannot convert "'+f+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(f){n||Qn(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(f){o||er(f);try{return new o(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){r||En(f);try{return new r(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return n||Qn(f),new n(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return o||er(f),new o(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return i||Ec(),new i(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),s.onMismatch=(c,f,h)=>{var a=s.createError(c,f,h);if(["wrongType","mismatch"].includes(a.data.category)&&f.length===1&&In(f[0])&&h.some(l=>!l.params.includes(","))){var u=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw u.data=a.data,u}throw a},s.onMismatch=(c,f,h)=>{var a=s.createError(c,f,h);if(["wrongType","mismatch"].includes(a.data.category)&&f.length===1&&In(f[0])&&h.some(l=>!l.params.includes(","))){var u=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw u.data=a.data,u}throw a},s});function Qn(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function En(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Ec(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function er(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Vt=9e15,Pt=1e9,ur="0123456789abcdef",Rn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",zn="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ar={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Vt,maxE:Vt,crypto:!1},No,wt,le=!0,Un="[DecimalError] ",Nt=Un+"Invalid argument: ",To=Un+"Precision limit exceeded",Io=Un+"crypto unavailable",Po="[object Decimal]",et=Math.floor,We=Math.pow,Ac=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Fc=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_c=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Oo=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mt=1e7,oe=7,Sc=9007199254740991,$c=Rn.length-1,sr=zn.length-1,P={toStringTag:Po};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ee(e)};P.ceil=function(){return ee(new this.constructor(this),this.e+1,2)};P.clampedTo=P.clamp=function(e,t){var n,r=this,i=r.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(Nt+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new i(r)};P.comparedTo=P.cmp=function(e){var t,n,r,i,o=this,s=o.d,c=(e=new o.constructor(e)).d,f=o.s,h=e.s;if(!s||!c)return!f||!h?NaN:f!==h?f:s===c?0:!s^f<0?1:-1;if(!s[0]||!c[0])return s[0]?f:c[0]?-h:0;if(f!==h)return f;if(o.e!==e.e)return o.e>e.e^f<0?1:-1;for(r=s.length,i=c.length,t=0,n=r<i?r:i;t<n;++t)if(s[t]!==c[t])return s[t]>c[t]^f<0?1:-1;return r===i?0:r>i^f<0?1:-1};P.cosine=P.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+oe,r.rounding=1,n=xc(r,Ko(r,n)),r.precision=e,r.rounding=t,ee(wt==2||wt==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};P.cubeRoot=P.cbrt=function(){var e,t,n,r,i,o,s,c,f,h,a=this,u=a.constructor;if(!a.isFinite()||a.isZero())return new u(a);for(le=!1,o=a.s*We(a.s*a,1/3),!o||Math.abs(o)==1/0?(n=Je(a.d),e=a.e,(o=(e-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=We(n,1/3),e=et((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?n="5e"+e:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new u(n),r.s=a.s):r=new u(o.toString()),s=(e=u.precision)+3;;)if(c=r,f=c.times(c).times(c),h=f.plus(a),r=_e(h.plus(a).times(c),h.plus(f),s+2,1),Je(c.d).slice(0,s)===(n=Je(r.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!i&&n=="4999"){if(!i&&(ee(c,e+1,0),c.times(c).times(c).eq(a))){r=c;break}s+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(ee(r,e+1,1),t=!r.times(r).times(r).eq(a));break}return le=!0,ee(r,e,u.rounding,t)};P.decimalPlaces=P.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-et(this.e/oe))*oe,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};P.dividedBy=P.div=function(e){return _e(this,new this.constructor(e))};P.dividedToIntegerBy=P.divToInt=function(e){var t=this,n=t.constructor;return ee(_e(t,new n(e),0,1,1),n.precision,n.rounding)};P.equals=P.eq=function(e){return this.cmp(e)===0};P.floor=function(){return ee(new this.constructor(this),this.e+1,3)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){var t=this.cmp(e);return t==1||t===0};P.hyperbolicCosine=P.cosh=function(){var e,t,n,r,i,o=this,s=o.constructor,c=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return c;n=s.precision,r=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,i=o.d.length,i<32?(e=Math.ceil(i/3),t=(1/Gn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),o=Qt(s,1,o.times(t),new s(1),!0);for(var f,h=e,a=new s(8);h--;)f=o.times(o),o=c.minus(f.times(a.minus(f.times(a))));return ee(o,s.precision=n,s.rounding=r,!0)};P.hyperbolicSine=P.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=Qt(o,2,i,i,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,i=i.times(1/Gn(5,e)),i=Qt(o,2,i,i,!0);for(var s,c=new o(5),f=new o(16),h=new o(20);e--;)s=i.times(i),i=i.times(c.plus(s.times(f.times(s).plus(h))))}return o.precision=t,o.rounding=n,ee(i,t,n,!0)};P.hyperbolicTangent=P.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,_e(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};P.inverseCosine=P.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return r!==-1?r===0?t.isNeg()?pt(n,i,o):new n(0):new n(NaN):t.isZero()?pt(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=pt(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))};P.inverseHyperbolicCosine=P.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,le=!1,n=n.times(n).minus(1).sqrt().plus(n),le=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};P.inverseHyperbolicSine=P.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,le=!1,n=n.times(n).plus(1).sqrt().plus(n),le=!0,r.precision=e,r.rounding=t,n.ln())};P.inverseHyperbolicTangent=P.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?ee(new o(i),e,t,!0):(o.precision=n=r-i.e,i=_e(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)};P.inverseSine=P.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,t!==-1?t===0?(e=pt(o,n+4,r).times(.5),e.s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))};P.inverseTangent=P.atan=function(){var e,t,n,r,i,o,s,c,f,h=this,a=h.constructor,u=a.precision,l=a.rounding;if(h.isFinite()){if(h.isZero())return new a(h);if(h.abs().eq(1)&&u+4<=sr)return s=pt(a,u+4,l).times(.25),s.s=h.s,s}else{if(!h.s)return new a(NaN);if(u+4<=sr)return s=pt(a,u+4,l).times(.5),s.s=h.s,s}for(a.precision=c=u+10,a.rounding=1,n=Math.min(28,c/oe+2|0),e=n;e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(le=!1,t=Math.ceil(c/oe),r=1,f=h.times(h),s=new a(h),i=h;e!==-1;)if(i=i.times(f),o=s.minus(i.div(r+=2)),i=i.times(f),s=o.plus(i.div(r+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),le=!0,ee(s,a.precision=u,a.rounding=l,!0)};P.isFinite=function(){return!!this.d};P.isInteger=P.isInt=function(){return!!this.d&&et(this.e/oe)>this.d.length-2};P.isNaN=function(){return!this.s};P.isNegative=P.isNeg=function(){return this.s<0};P.isPositive=P.isPos=function(){return this.s>0};P.isZero=function(){return!!this.d&&this.d[0]===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var t,n,r,i,o,s,c,f,h=this,a=h.constructor,u=a.precision,l=a.rounding,d=5;if(e==null)e=new a(10),t=!0;else{if(e=new a(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new a(NaN);t=e.eq(10)}if(n=h.d,h.s<0||!n||!n[0]||h.eq(1))return new a(n&&!n[0]?-1/0:h.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=i!==1}if(le=!1,c=u+d,s=St(h,c),r=t?Ln(a,c+10):St(e,c),f=_e(s,r,c,1),vn(f.d,i=u,l))do if(c+=10,s=St(h,c),r=t?Ln(a,c+10):St(e,c),f=_e(s,r,c,1),!o){+Je(f.d).slice(i+1,i+15)+1==1e14&&(f=ee(f,u+1,0));break}while(vn(f.d,i+=10,l));return le=!0,ee(f,u,l)};P.minus=P.sub=function(e){var t,n,r,i,o,s,c,f,h,a,u,l,d=this,y=d.constructor;if(e=new y(e),!d.d||!e.d)return!d.s||!e.s?e=new y(NaN):d.d?e.s=-e.s:e=new y(e.d||d.s!==e.s?d:NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(h=d.d,l=e.d,c=y.precision,f=y.rounding,!h[0]||!l[0]){if(l[0])e.s=-e.s;else if(h[0])e=new y(d);else return new y(f===3?-0:0);return le?ee(e,c,f):e}if(n=et(e.e/oe),a=et(d.e/oe),h=h.slice(),o=a-n,o){for(u=o<0,u?(t=h,o=-o,s=l.length):(t=l,n=a,s=h.length),r=Math.max(Math.ceil(c/oe),s)+2,o>r&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for(r=h.length,s=l.length,u=r<s,u&&(s=r),r=0;r<s;r++)if(h[r]!=l[r]){u=h[r]<l[r];break}o=0}for(u&&(t=h,h=l,l=t,e.s=-e.s),s=h.length,r=l.length-s;r>0;--r)h[s++]=0;for(r=l.length;r>o;){if(h[--r]<l[r]){for(i=r;i&&h[--i]===0;)h[i]=mt-1;--h[i],h[r]+=mt}h[r]-=l[r]}for(;h[--s]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(e.d=h,e.e=Xn(h,n),le?ee(e,c,f):e):new y(f===3?-0:0)};P.modulo=P.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?ee(new r(n),r.precision,r.rounding):(le=!1,r.modulo==9?(t=_e(n,e.abs(),0,3,1),t.s*=e.s):t=_e(n,e,0,r.modulo,1),t=t.times(e),le=!0,n.minus(t))};P.naturalExponential=P.exp=function(){return lr(this)};P.naturalLogarithm=P.ln=function(){return St(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ee(e)};P.plus=P.add=function(e){var t,n,r,i,o,s,c,f,h,a,u=this,l=u.constructor;if(e=new l(e),!u.d||!e.d)return!u.s||!e.s?e=new l(NaN):u.d||(e=new l(e.d||u.s===e.s?u:NaN)),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(h=u.d,a=e.d,c=l.precision,f=l.rounding,!h[0]||!a[0])return a[0]||(e=new l(u)),le?ee(e,c,f):e;if(o=et(u.e/oe),r=et(e.e/oe),h=h.slice(),i=o-r,i){for(i<0?(n=h,i=-i,s=a.length):(n=a,r=o,s=h.length),o=Math.ceil(c/oe),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=h.length,i=a.length,s-i<0&&(i=s,n=a,a=h,h=n),t=0;i;)t=(h[--i]=h[i]+a[i]+t)/mt|0,h[i]%=mt;for(t&&(h.unshift(t),++r),s=h.length;h[--s]==0;)h.pop();return e.d=h,e.e=Xn(h,r),le?ee(e,c,f):e};P.precision=P.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Nt+e);return n.d?(t=Ro(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};P.round=function(){var e=this,t=e.constructor;return ee(new t(e),e.e+1,t.rounding)};P.sine=P.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+oe,r.rounding=1,n=Bc(r,Ko(r,n)),r.precision=e,r.rounding=t,ee(wt>2?n.neg():n,e,t,!0)):new r(NaN)};P.squareRoot=P.sqrt=function(){var e,t,n,r,i,o,s=this,c=s.d,f=s.e,h=s.s,a=s.constructor;if(h!==1||!c||!c[0])return new a(!h||h<0&&(!c||c[0])?NaN:c?s:1/0);for(le=!1,h=Math.sqrt(+s),h==0||h==1/0?(t=Je(c),(t.length+f)%2==0&&(t+="0"),h=Math.sqrt(t),f=et((f+1)/2)-(f<0||f%2),h==1/0?t="5e"+f:(t=h.toExponential(),t=t.slice(0,t.indexOf("e")+1)+f),r=new a(t)):r=new a(h.toString()),n=(f=a.precision)+3;;)if(o=r,r=o.plus(_e(s,o,n+2,1)).times(.5),Je(o.d).slice(0,n)===(t=Je(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!i&&t=="4999"){if(!i&&(ee(o,f+1,0),o.times(o).eq(s))){r=o;break}n+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ee(r,f+1,1),e=!r.times(r).eq(s));break}return le=!0,ee(r,f,a.rounding,e)};P.tangent=P.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=_e(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,ee(wt==2||wt==4?n.neg():n,e,t,!0)):new r(NaN)};P.times=P.mul=function(e){var t,n,r,i,o,s,c,f,h,a=this,u=a.constructor,l=a.d,d=(e=new u(e)).d;if(e.s*=a.s,!l||!l[0]||!d||!d[0])return new u(!e.s||l&&!l[0]&&!d||d&&!d[0]&&!l?NaN:!l||!d?e.s/0:e.s*0);for(n=et(a.e/oe)+et(e.e/oe),f=l.length,h=d.length,f<h&&(o=l,l=d,d=o,s=f,f=h,h=s),o=[],s=f+h,r=s;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,i=f+r;i>r;)c=o[i]+d[r]*l[i-r-1]+t,o[i--]=c%mt|0,t=c/mt|0;o[i]=(o[i]+t)%mt|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=Xn(o,n),le?ee(e,u.precision,u.rounding):e};P.toBinary=function(e,t){return Cr(this,2,e,t)};P.toDecimalPlaces=P.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ut(e,0,Pt),t===void 0?t=r.rounding:ut(t,0,8),ee(n,e+n.e+1,t))};P.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Dt(r,!0):(ut(e,0,Pt),t===void 0?t=i.rounding:ut(t,0,8),r=ee(new i(r),e+1,t),n=Dt(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};P.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?n=Dt(i):(ut(e,0,Pt),t===void 0?t=o.rounding:ut(t,0,8),r=ee(new o(i),e+i.e+1,t),n=Dt(r,!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};P.toFraction=function(e){var t,n,r,i,o,s,c,f,h,a,u,l,d=this,y=d.d,p=d.constructor;if(!y)return new p(d);if(h=n=new p(1),r=f=new p(0),t=new p(r),o=t.e=Ro(y)-d.e-1,s=o%oe,t.d[0]=We(10,s<0?oe+s:s),e==null)e=o>0?t:h;else{if(c=new p(e),!c.isInt()||c.lt(h))throw Error(Nt+c);e=c.gt(t)?o>0?t:h:c}for(le=!1,c=new p(Je(y)),a=p.precision,p.precision=o=y.length*oe*2;u=_e(c,t,0,1,1),i=n.plus(u.times(r)),i.cmp(e)!=1;)n=r,r=i,i=h,h=f.plus(u.times(i)),f=i,i=t,t=c.minus(u.times(i)),c=i;return i=_e(e.minus(n),r,0,1,1),f=f.plus(i.times(h)),n=n.plus(i.times(r)),f.s=h.s=d.s,l=_e(h,r,o,1).minus(d).abs().cmp(_e(f,n,o,1).minus(d).abs())<1?[h,r]:[f,n],p.precision=a,le=!0,l};P.toHexadecimal=P.toHex=function(e,t){return Cr(this,16,e,t)};P.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:ut(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(le=!1,n=_e(n,e,0,t,1).times(e),le=!0,ee(n)):(e.s=n.s,n=e),n};P.toNumber=function(){return+this};P.toOctal=function(e,t){return Cr(this,8,e,t)};P.toPower=P.pow=function(e){var t,n,r,i,o,s,c=this,f=c.constructor,h=+(e=new f(e));if(!c.d||!e.d||!c.d[0]||!e.d[0])return new f(We(+c,h));if(c=new f(c),c.eq(1))return c;if(r=f.precision,o=f.rounding,e.eq(1))return ee(c,r,o);if(t=et(e.e/oe),t>=e.d.length-1&&(n=h<0?-h:h)<=Sc)return i=zo(f,c,n,r),e.s<0?new f(1).div(i):ee(i,r,o);if(s=c.s,s<0){if(t<e.d.length-1)return new f(NaN);if(e.d[t]&1||(s=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=s,c}return n=We(+c,h),t=n==0||!isFinite(n)?et(h*(Math.log("0."+Je(c.d))/Math.LN10+c.e+1)):new f(n+"").e,t>f.maxE+1||t<f.minE-1?new f(t>0?s/0:0):(le=!1,f.rounding=c.s=1,n=Math.min(12,(t+"").length),i=lr(e.times(St(c,r+n)),r),i.d&&(i=ee(i,r+5,1),vn(i.d,r,o)&&(t=r+10,i=ee(lr(e.times(St(c,t+n)),t),t+5,1),+Je(i.d).slice(r+1,r+15)+1==1e14&&(i=ee(i,r+1,0)))),i.s=s,le=!0,f.rounding=o,ee(i,r,o))};P.toPrecision=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Dt(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(ut(e,1,Pt),t===void 0?t=i.rounding:ut(t,0,8),r=ee(new i(r),e,t),n=Dt(r,e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};P.toSignificantDigits=P.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ut(e,1,Pt),t===void 0?t=r.rounding:ut(t,0,8)),ee(new r(n),e,t)};P.toString=function(){var e=this,t=e.constructor,n=Dt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};P.truncated=P.trunc=function(){return ee(new this.constructor(this),this.e+1,1)};P.valueOf=P.toJSON=function(){var e=this,t=e.constructor,n=Dt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Je(e){var t,n,r,i=e.length-1,o="",s=e[0];if(i>0){for(o+=s,t=1;t<i;t++)r=e[t]+"",n=oe-r.length,n&&(o+=Ft(n)),o+=r;s=e[t],r=s+"",n=oe-r.length,n&&(o+=Ft(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function ut(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Nt+e)}function vn(e,t,n,r){var i,o,s,c;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=oe,i=0):(i=Math.ceil((t+1)/oe),t%=oe),o=We(10,oe-t),c=e[i]%o|0,r==null?t<3?(t==0?c=c/100|0:t==1&&(c=c/10|0),s=n<4&&c==99999||n>3&&c==49999||c==5e4||c==0):s=(n<4&&c+1==o||n>3&&c+1==o/2)&&(e[i+1]/o/100|0)==We(10,t-2)-1||(c==o/2||c==0)&&(e[i+1]/o/100|0)==0:t<4?(t==0?c=c/1e3|0:t==1?c=c/100|0:t==2&&(c=c/10|0),s=(r||n<4)&&c==9999||!r&&n>3&&c==4999):s=((r||n<4)&&c+1==o||!r&&n>3&&c+1==o/2)&&(e[i+1]/o/1e3|0)==We(10,t-3)-1,s}function _n(e,t,n){for(var r,i=[0],o,s=0,c=e.length;s<c;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=ur.indexOf(e.charAt(s++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function xc(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),i=(1/Gn(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),e.precision+=n,t=Qt(e,1,t.times(i),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}var _e=function(){function e(r,i,o){var s,c=0,f=r.length;for(r=r.slice();f--;)s=r[f]*i+c,r[f]=s%o|0,c=s/o|0;return c&&r.unshift(c),r}function t(r,i,o,s){var c,f;if(o!=s)f=o>s?1:-1;else for(c=f=0;c<o;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,o,s){for(var c=0;o--;)r[o]-=c,c=r[o]<i[o]?1:0,r[o]=c*s+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s,c,f){var h,a,u,l,d,y,p,w,v,b,D,C,m,g,E,F,_,x,$,M,H=r.constructor,W=r.s==i.s?1:-1,z=r.d,I=i.d;if(!z||!z[0]||!I||!I[0])return new H(!r.s||!i.s||(z?I&&z[0]==I[0]:!I)?NaN:z&&z[0]==0||!I?W*0:W/0);for(f?(d=1,a=r.e-i.e):(f=mt,d=oe,a=et(r.e/d)-et(i.e/d)),$=I.length,_=z.length,v=new H(W),b=v.d=[],u=0;I[u]==(z[u]||0);u++);if(I[u]>(z[u]||0)&&a--,o==null?(g=o=H.precision,s=H.rounding):c?g=o+(r.e-i.e)+1:g=o,g<0)b.push(1),y=!0;else{if(g=g/d+2|0,u=0,$==1){for(l=0,I=I[0],g++;(u<_||l)&&g--;u++)E=l*f+(z[u]||0),b[u]=E/I|0,l=E%I|0;y=l||u<_}else{for(l=f/(I[0]+1)|0,l>1&&(I=e(I,l,f),z=e(z,l,f),$=I.length,_=z.length),F=$,D=z.slice(0,$),C=D.length;C<$;)D[C++]=0;M=I.slice(),M.unshift(0),x=I[0],I[1]>=f/2&&++x;do l=0,h=t(I,D,$,C),h<0?(m=D[0],$!=C&&(m=m*f+(D[1]||0)),l=m/x|0,l>1?(l>=f&&(l=f-1),p=e(I,l,f),w=p.length,C=D.length,h=t(p,D,w,C),h==1&&(l--,n(p,$<w?M:I,w,f))):(l==0&&(h=l=1),p=I.slice()),w=p.length,w<C&&p.unshift(0),n(D,p,C,f),h==-1&&(C=D.length,h=t(I,D,$,C),h<1&&(l++,n(D,$<C?M:I,C,f))),C=D.length):h===0&&(l++,D=[0]),b[u++]=l,h&&D[0]?D[C++]=z[F]||0:(D=[z[F]],C=1);while((F++<_||D[0]!==void 0)&&g--);y=D[0]!==void 0}b[0]||b.shift()}if(d==1)v.e=a,No=y;else{for(u=1,l=b[0];l>=10;l/=10)u++;v.e=u+a*d-1,ee(v,c?o+v.e+1:o,s,y)}return v}}();function ee(e,t,n,r){var i,o,s,c,f,h,a,u,l,d=e.constructor;e:if(t!=null){if(u=e.d,!u)return e;for(i=1,c=u[0];c>=10;c/=10)i++;if(o=t-i,o<0)o+=oe,s=t,a=u[l=0],f=a/We(10,i-s-1)%10|0;else if(l=Math.ceil((o+1)/oe),c=u.length,l>=c)if(r){for(;c++<=l;)u.push(0);a=f=0,i=1,o%=oe,s=o-oe+1}else break e;else{for(a=c=u[l],i=1;c>=10;c/=10)i++;o%=oe,s=o-oe+i,f=s<0?0:a/We(10,i-s-1)%10|0}if(r=r||t<0||u[l+1]!==void 0||(s<0?a:a%We(10,i-s-1)),h=n<4?(f||r)&&(n==0||n==(e.s<0?3:2)):f>5||f==5&&(n==4||r||n==6&&(o>0?s>0?a/We(10,i-s):0:u[l-1])%10&1||n==(e.s<0?8:7)),t<1||!u[0])return u.length=0,h?(t-=e.e+1,u[0]=We(10,(oe-t%oe)%oe),e.e=-t||0):u[0]=e.e=0,e;if(o==0?(u.length=l,c=1,l--):(u.length=l+1,c=We(10,oe-o),u[l]=s>0?(a/We(10,i-s)%We(10,s)|0)*c:0),h)for(;;)if(l==0){for(o=1,s=u[0];s>=10;s/=10)o++;for(s=u[0]+=c,c=1;s>=10;s/=10)c++;o!=c&&(e.e++,u[0]==mt&&(u[0]=1));break}else{if(u[l]+=c,u[l]!=mt)break;u[l--]=0,c=1}for(o=u.length;u[--o]===0;)u.pop()}return le&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function Dt(e,t,n){if(!e.isFinite())return ko(e);var r,i=e.e,o=Je(e.d),s=o.length;return t?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ft(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+Ft(-i-1)+o,n&&(r=n-s)>0&&(o+=Ft(r))):i>=s?(o+=Ft(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ft(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ft(r))),o}function Xn(e,t){var n=e[0];for(t*=oe;n>=10;n/=10)t++;return t}function Ln(e,t,n){if(t>$c)throw le=!0,n&&(e.precision=n),Error(To);return ee(new e(Rn),t,1,!0)}function pt(e,t,n){if(t>sr)throw Error(To);return ee(new e(zn),t,n,!0)}function Ro(e){var t=e.length-1,n=t*oe+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Ft(e){for(var t="";e--;)t+="0";return t}function zo(e,t,n,r){var i,o=new e(1),s=Math.ceil(r/oe+4);for(le=!1;;){if(n%2&&(o=o.times(t),vi(o.d,s)&&(i=!0)),n=et(n/2),n===0){n=o.d.length-1,i&&o.d[n]===0&&++o.d[n];break}t=t.times(t),vi(t.d,s)}return le=!0,o}function pi(e){return e.d[e.d.length-1]&1}function Lo(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;)if(r=new e(t[o]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function lr(e,t){var n,r,i,o,s,c,f,h=0,a=0,u=0,l=e.constructor,d=l.rounding,y=l.precision;if(!e.d||!e.d[0]||e.e>17)return new l(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(le=!1,f=y):f=t,c=new l(.03125);e.e>-2;)e=e.times(c),u+=5;for(r=Math.log(We(2,u))/Math.LN10*2+5|0,f+=r,n=o=s=new l(1),l.precision=f;;){if(o=ee(o.times(e),f,1),n=n.times(++a),c=s.plus(_e(o,n,f,1)),Je(c.d).slice(0,f)===Je(s.d).slice(0,f)){for(i=u;i--;)s=ee(s.times(s),f,1);if(t==null)if(h<3&&vn(s.d,f-r,d,h))l.precision=f+=10,n=o=c=new l(1),a=0,h++;else return ee(s,l.precision=y,d,le=!0);else return l.precision=y,s}s=c}}function St(e,t){var n,r,i,o,s,c,f,h,a,u,l,d=1,y=10,p=e,w=p.d,v=p.constructor,b=v.rounding,D=v.precision;if(p.s<0||!w||!w[0]||!p.e&&w[0]==1&&w.length==1)return new v(w&&!w[0]?-1/0:p.s!=1?NaN:w?0:p);if(t==null?(le=!1,a=D):a=t,v.precision=a+=y,n=Je(w),r=n.charAt(0),Math.abs(o=p.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Je(p.d),r=n.charAt(0),d++;o=p.e,r>1?(p=new v("0."+n),o++):p=new v(r+"."+n.slice(1))}else return h=Ln(v,a+2,D).times(o+""),p=St(new v(r+"."+n.slice(1)),a-y).plus(h),v.precision=D,t==null?ee(p,D,b,le=!0):p;for(u=p,f=s=p=_e(p.minus(1),p.plus(1),a,1),l=ee(p.times(p),a,1),i=3;;){if(s=ee(s.times(l),a,1),h=f.plus(_e(s,new v(i),a,1)),Je(h.d).slice(0,a)===Je(f.d).slice(0,a))if(f=f.times(2),o!==0&&(f=f.plus(Ln(v,a+2,D).times(o+""))),f=_e(f,new v(d),a,1),t==null)if(vn(f.d,a-y,b,c))v.precision=a+=y,h=s=p=_e(u.minus(1),u.plus(1),a,1),l=ee(p.times(p),a,1),i=c=1;else return ee(f,v.precision=D,b,le=!0);else return v.precision=D,f;f=h,i+=2}}function ko(e){return String(e.s*e.s/0)}function cr(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i),t){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%oe,n<0&&(r+=oe),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=oe;r<i;)e.d.push(+t.slice(r,r+=oe));t=t.slice(r),r=oe-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),le&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Mc(e,t){var n,r,i,o,s,c,f,h,a;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Oo.test(t))return cr(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Fc.test(t))n=16,t=t.toLowerCase();else if(Ac.test(t))n=2;else if(_c.test(t))n=8;else throw Error(Nt+t);for(o=t.search(/p/i),o>0?(f=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),s=o>=0,r=e.constructor,s&&(t=t.replace(".",""),c=t.length,o=c-o,i=zo(r,new r(n),o,o*2)),h=_n(t,n,mt),a=h.length-1,o=a;h[o]===0;--o)h.pop();return o<0?new r(e.s*0):(e.e=Xn(h,a),e.d=h,le=!1,s&&(e=_e(e,i,c*4)),f&&(e=e.times(Math.abs(f)<54?We(2,f):en.pow(2,f))),le=!0,e)}function Bc(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Qt(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/Gn(5,n)),t=Qt(e,2,t,t);for(var i,o=new e(5),s=new e(16),c=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(s.times(i).minus(c))));return t}function Qt(e,t,n,r,i){var o,s,c,f,h=e.precision,a=Math.ceil(h/oe);for(le=!1,f=n.times(n),c=new e(r);;){if(s=_e(c.times(f),new e(t++*t++),h,1),c=i?r.plus(s):r.minus(s),r=_e(s.times(f),new e(t++*t++),h,1),s=c.plus(r),s.d[a]!==void 0){for(o=a;s.d[o]===c.d[o]&&o--;);if(o==-1)break}o=c,c=r,r=s,s=o}return le=!0,s.d.length=a+1,s}function Gn(e,t){for(var n=e;--t;)n*=e;return n}function Ko(e,t){var n,r=t.s<0,i=pt(e,e.precision,1),o=i.times(.5);if(t=t.abs(),t.lte(o))return wt=r?4:1,t;if(n=t.divToInt(i),n.isZero())wt=r?3:2;else{if(t=t.minus(n.times(i)),t.lte(o))return wt=pi(n)?r?2:3:r?4:1,t;wt=pi(n)?r?1:4:r?3:2}return t.minus(i).abs()}function Cr(e,t,n,r){var i,o,s,c,f,h,a,u,l,d=e.constructor,y=n!==void 0;if(y?(ut(n,1,Pt),r===void 0?r=d.rounding:ut(r,0,8)):(n=d.precision,r=d.rounding),!e.isFinite())a=ko(e);else{for(a=Dt(e),s=a.indexOf("."),y?(i=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):i=t,s>=0&&(a=a.replace(".",""),l=new d(1),l.e=a.length-s,l.d=_n(Dt(l),10,i),l.e=l.d.length),u=_n(a,10,i),o=f=u.length;u[--f]==0;)u.pop();if(!u[0])a=y?"0p+0":"0";else{if(s<0?o--:(e=new d(e),e.d=u,e.e=o,e=_e(e,l,n,r,0,i),u=e.d,o=e.e,h=No),s=u[n],c=i/2,h=h||u[n+1]!==void 0,h=r<4?(s!==void 0||h)&&(r===0||r===(e.s<0?3:2)):s>c||s===c&&(r===4||h||r===6&&u[n-1]&1||r===(e.s<0?8:7)),u.length=n,h)for(;++u[--n]>i-1;)u[n]=0,n||(++o,u.unshift(1));for(f=u.length;!u[f-1];--f);for(s=0,a="";s<f;s++)a+=ur.charAt(u[s]);if(y){if(f>1)if(t==16||t==8){for(s=t==16?4:3,--f;f%s;f++)a+="0";for(u=_n(a,i,t),f=u.length;!u[f-1];--f);for(s=1,a="1.";s<f;s++)a+=ur.charAt(u[s])}else a=a.charAt(0)+"."+a.slice(1);a=a+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)a="0"+a;a="0."+a}else if(++o>f)for(o-=f;o--;)a+="0";else o<f&&(a=a.slice(0,o)+"."+a.slice(o))}a=(t==16?"0x":t==2?"0b":t==8?"0o":"")+a}return e.s<0?"-"+a:a}function vi(e,t){if(e.length>t)return e.length=t,!0}function Nc(e){return new this(e).abs()}function Tc(e){return new this(e).acos()}function Ic(e){return new this(e).acosh()}function Pc(e,t){return new this(e).plus(t)}function Oc(e){return new this(e).asin()}function Rc(e){return new this(e).asinh()}function zc(e){return new this(e).atan()}function Lc(e){return new this(e).atanh()}function kc(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=pt(this,o,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?pt(this,r,i):new this(0),n.s=e.s):!e.d||t.isZero()?(n=pt(this,o,1).times(.5),n.s=e.s):t.s<0?(this.precision=o,this.rounding=1,n=this.atan(_e(e,t,o,1)),t=pt(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(_e(e,t,o,1)),n}function Kc(e){return new this(e).cbrt()}function Hc(e){return ee(e=new this(e),e.e+1,2)}function qc(e,t,n){return new this(e).clamp(t,n)}function Wc(e){if(!e||typeof e!="object")throw Error(Un+"Object expected");var t,n,r,i=e.defaults===!0,o=["precision",1,Pt,"rounding",0,8,"toExpNeg",-Vt,0,"toExpPos",0,Vt,"maxE",0,Vt,"minE",-Vt,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=ar[n]),(r=e[n])!==void 0)if(et(r)===r&&r>=o[t+1]&&r<=o[t+2])this[n]=r;else throw Error(Nt+n+": "+r);if(n="crypto",i&&(this[n]=ar[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Io);else this[n]=!1;else throw Error(Nt+n+": "+r);return this}function Vc(e){return new this(e).cos()}function Uc(e){return new this(e).cosh()}function Ho(e){var t,n,r;function i(o){var s,c,f,h=this;if(!(h instanceof i))return new i(o);if(h.constructor=i,mi(o)){h.s=o.s,le?!o.d||o.e>i.maxE?(h.e=NaN,h.d=null):o.e<i.minE?(h.e=0,h.d=[0]):(h.e=o.e,h.d=o.d.slice()):(h.e=o.e,h.d=o.d?o.d.slice():o.d);return}if(f=typeof o,f==="number"){if(o===0){h.s=1/o<0?-1:1,h.e=0,h.d=[0];return}if(o<0?(o=-o,h.s=-1):h.s=1,o===~~o&&o<1e7){for(s=0,c=o;c>=10;c/=10)s++;le?s>i.maxE?(h.e=NaN,h.d=null):s<i.minE?(h.e=0,h.d=[0]):(h.e=s,h.d=[o]):(h.e=s,h.d=[o]);return}else if(o*0!==0){o||(h.s=NaN),h.e=NaN,h.d=null;return}return cr(h,o.toString())}else if(f!=="string")throw Error(Nt+o);return(c=o.charCodeAt(0))===45?(o=o.slice(1),h.s=-1):(c===43&&(o=o.slice(1)),h.s=1),Oo.test(o)?cr(h,o):Mc(h,o)}if(i.prototype=P,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Wc,i.clone=Ho,i.isDecimal=mi,i.abs=Nc,i.acos=Tc,i.acosh=Ic,i.add=Pc,i.asin=Oc,i.asinh=Rc,i.atan=zc,i.atanh=Lc,i.atan2=kc,i.cbrt=Kc,i.ceil=Hc,i.clamp=qc,i.cos=Vc,i.cosh=Uc,i.div=Xc,i.exp=Gc,i.floor=jc,i.hypot=Yc,i.ln=Zc,i.log=Jc,i.log10=ef,i.log2=Qc,i.max=tf,i.min=nf,i.mod=rf,i.mul=of,i.pow=uf,i.random=af,i.round=sf,i.sign=lf,i.sin=cf,i.sinh=ff,i.sqrt=df,i.sub=hf,i.sum=pf,i.tan=vf,i.tanh=mf,i.trunc=gf,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Xc(e,t){return new this(e).div(t)}function Gc(e){return new this(e).exp()}function jc(e){return ee(e=new this(e),e.e+1,3)}function Yc(){var e,t,n=new this(0);for(le=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return le=!0,new this(1/0);n=t}return le=!0,n.sqrt()}function mi(e){return e instanceof en||e&&e.toStringTag===Po||!1}function Zc(e){return new this(e).ln()}function Jc(e,t){return new this(e).log(t)}function Qc(e){return new this(e).log(2)}function ef(e){return new this(e).log(10)}function tf(){return Lo(this,arguments,"lt")}function nf(){return Lo(this,arguments,"gt")}function rf(e,t){return new this(e).mod(t)}function of(e,t){return new this(e).mul(t)}function uf(e,t){return new this(e).pow(t)}function af(e){var t,n,r,i,o=0,s=new this(1),c=[];if(e===void 0?e=this.precision:ut(e,1,Pt),r=Math.ceil(e/oe),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)i=t[o],i>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:c[o++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);o<r;)i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((t[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,o):(c.push(i%1e7),o+=4);o=r/4}else throw Error(Io);else for(;o<r;)c[o++]=Math.random()*1e7|0;for(r=c[--o],e%=oe,r&&e&&(i=We(10,oe-e),c[o]=(r/i|0)*i);c[o]===0;o--)c.pop();if(o<0)n=0,c=[0];else{for(n=-1;c[0]===0;n-=oe)c.shift();for(r=1,i=c[0];i>=10;i/=10)r++;r<oe&&(n-=oe-r)}return s.e=n,s.d=c,s}function sf(e){return ee(e=new this(e),e.e+1,this.rounding)}function lf(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function cf(e){return new this(e).sin()}function ff(e){return new this(e).sinh()}function df(e){return new this(e).sqrt()}function hf(e,t){return new this(e).sub(t)}function pf(){var e=0,t=arguments,n=new this(t[e]);for(le=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return le=!0,ee(n,this.precision,this.rounding)}function vf(e){return new this(e).tan()}function mf(e){return new this(e).tanh()}function gf(e){return ee(e=new this(e),e.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString;P[Symbol.toStringTag]="Decimal";var en=P.constructor=Ho(ar);Rn=new en(Rn);zn=new en(zn);var Df="BigNumber",yf=["?on","config"],bf=De(Df,yf,e=>{var{on:t,config:n}=e,r=en.clone({precision:n.precision,modulo:en.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},t&&t("config",function(i,o){i.precision!==o.precision&&r.config({precision:i.precision})}),r},{isClass:!0}),qo={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var r=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},i=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},o=function(u){var l=Math.PI/4;if(-l>u||u>l)return Math.cos(u)-1;var d=u*u;return d*(d*(d*(d*(d*(d*(d*(d/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},s=function(u,l){var d=Math.abs(u),y=Math.abs(l);return d<3e3&&y<3e3?Math.sqrt(d*d+y*y):(d<y?(d=y,y=u/l):y=l/u,d*Math.sqrt(1+y*y))},c=function(){throw SyntaxError("Invalid Param")};function f(u,l){var d=Math.abs(u),y=Math.abs(l);return u===0?Math.log(y):l===0?Math.log(d):d<3e3&&y<3e3?Math.log(u*u+l*l)*.5:(u=u/2,l=l/2,.5*Math.log(u*u+l*l)+Math.LN2)}var h=function(u,l){var d={re:0,im:0};if(u==null)d.re=d.im=0;else if(l!==void 0)d.re=u,d.im=l;else switch(typeof u){case"object":if("im"in u&&"re"in u)d.re=u.re,d.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return a.INFINITY;d.re=u.abs*Math.cos(u.arg),d.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return a.INFINITY;d.re=u.r*Math.cos(u.phi),d.im=u.r*Math.sin(u.phi)}else u.length===2?(d.re=u[0],d.im=u[1]):c();break;case"string":d.im=d.re=0;var y=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,w=0;y===null&&c();for(var v=0;v<y.length;v++){var b=y[v];b===" "||b==="	"||b===`
`||(b==="+"?p++:b==="-"?w++:b==="i"||b==="I"?(p+w===0&&c(),y[v+1]!==" "&&!isNaN(y[v+1])?(d.im+=parseFloat((w%2?"-":"")+y[v+1]),v++):d.im+=parseFloat((w%2?"-":"")+"1"),p=w=0):((p+w===0||isNaN(b))&&c(),y[v+1]==="i"||y[v+1]==="I"?(d.im+=parseFloat((w%2?"-":"")+b),v++):d.re+=parseFloat((w%2?"-":"")+b),p=w=0))}p+w>0&&c();break;case"number":d.im=0,d.re=u;break;default:c()}return isNaN(d.re)||isNaN(d.im),d};function a(u,l){if(!(this instanceof a))return new a(u,l);var d=h(u,l);this.re=d.re,this.im=d.im}a.prototype={re:0,im:0,sign:function(){var u=this.abs();return new a(this.re/u,this.im/u)},add:function(u,l){var d=new a(u,l);return this.isInfinite()&&d.isInfinite()?a.NAN:this.isInfinite()||d.isInfinite()?a.INFINITY:new a(this.re+d.re,this.im+d.im)},sub:function(u,l){var d=new a(u,l);return this.isInfinite()&&d.isInfinite()?a.NAN:this.isInfinite()||d.isInfinite()?a.INFINITY:new a(this.re-d.re,this.im-d.im)},mul:function(u,l){var d=new a(u,l);return this.isInfinite()&&d.isZero()||this.isZero()&&d.isInfinite()?a.NAN:this.isInfinite()||d.isInfinite()?a.INFINITY:d.im===0&&this.im===0?new a(this.re*d.re,0):new a(this.re*d.re-this.im*d.im,this.re*d.im+this.im*d.re)},div:function(u,l){var d=new a(u,l);if(this.isZero()&&d.isZero()||this.isInfinite()&&d.isInfinite())return a.NAN;if(this.isInfinite()||d.isZero())return a.INFINITY;if(this.isZero()||d.isInfinite())return a.ZERO;u=this.re,l=this.im;var y=d.re,p=d.im,w,v;return p===0?new a(u/y,l/y):Math.abs(y)<Math.abs(p)?(v=y/p,w=y*v+p,new a((u*v+l)/w,(l*v-u)/w)):(v=p/y,w=p*v+y,new a((u+l*v)/w,(l-u*v)/w))},pow:function(u,l){var d=new a(u,l);if(u=this.re,l=this.im,d.isZero())return a.ONE;if(d.im===0){if(l===0&&u>0)return new a(Math.pow(u,d.re),0);if(u===0)switch((d.re%4+4)%4){case 0:return new a(Math.pow(l,d.re),0);case 1:return new a(0,Math.pow(l,d.re));case 2:return new a(-Math.pow(l,d.re),0);case 3:return new a(0,-Math.pow(l,d.re))}}if(u===0&&l===0&&d.re>0&&d.im>=0)return a.ZERO;var y=Math.atan2(l,u),p=f(u,l);return u=Math.exp(d.re*p-d.im*y),l=d.im*p+d.re*y,new a(u*Math.cos(l),u*Math.sin(l))},sqrt:function(){var u=this.re,l=this.im,d=this.abs(),y,p;if(u>=0){if(l===0)return new a(Math.sqrt(u),0);y=.5*Math.sqrt(2*(d+u))}else y=Math.abs(l)/Math.sqrt(2*(d-u));return u<=0?p=.5*Math.sqrt(2*(d-u)):p=Math.abs(l)/Math.sqrt(2*(d+u)),new a(y,l<0?-p:p)},exp:function(){var u=Math.exp(this.re);return this.im,new a(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,l=this.im;return new a(Math.expm1(u)*Math.cos(l)+o(l),Math.exp(u)*Math.sin(l))},log:function(){var u=this.re,l=this.im;return new a(f(u,l),Math.atan2(l,u))},abs:function(){return s(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,l=this.im;return new a(Math.sin(u)*r(l),Math.cos(u)*i(l))},cos:function(){var u=this.re,l=this.im;return new a(Math.cos(u)*r(l),-Math.sin(u)*i(l))},tan:function(){var u=2*this.re,l=2*this.im,d=Math.cos(u)+r(l);return new a(Math.sin(u)/d,i(l)/d)},cot:function(){var u=2*this.re,l=2*this.im,d=Math.cos(u)-r(l);return new a(-Math.sin(u)/d,i(l)/d)},sec:function(){var u=this.re,l=this.im,d=.5*r(2*l)+.5*Math.cos(2*u);return new a(Math.cos(u)*r(l)/d,Math.sin(u)*i(l)/d)},csc:function(){var u=this.re,l=this.im,d=.5*r(2*l)-.5*Math.cos(2*u);return new a(Math.sin(u)*r(l)/d,-Math.cos(u)*i(l)/d)},asin:function(){var u=this.re,l=this.im,d=new a(l*l-u*u+1,-2*u*l).sqrt(),y=new a(d.re-l,d.im+u).log();return new a(y.im,-y.re)},acos:function(){var u=this.re,l=this.im,d=new a(l*l-u*u+1,-2*u*l).sqrt(),y=new a(d.re-l,d.im+u).log();return new a(Math.PI/2-y.im,y.re)},atan:function(){var u=this.re,l=this.im;if(u===0){if(l===1)return new a(0,1/0);if(l===-1)return new a(0,-1/0)}var d=u*u+(1-l)*(1-l),y=new a((1-l*l-u*u)/d,-2*u/d).log();return new a(-.5*y.im,.5*y.re)},acot:function(){var u=this.re,l=this.im;if(l===0)return new a(Math.atan2(1,u),0);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).atan():new a(u!==0?u/0:0,l!==0?-l/0:0).atan()},asec:function(){var u=this.re,l=this.im;if(u===0&&l===0)return new a(0,1/0);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).acos():new a(u!==0?u/0:0,l!==0?-l/0:0).acos()},acsc:function(){var u=this.re,l=this.im;if(u===0&&l===0)return new a(Math.PI/2,1/0);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).asin():new a(u!==0?u/0:0,l!==0?-l/0:0).asin()},sinh:function(){var u=this.re,l=this.im;return new a(i(u)*Math.cos(l),r(u)*Math.sin(l))},cosh:function(){var u=this.re,l=this.im;return new a(r(u)*Math.cos(l),i(u)*Math.sin(l))},tanh:function(){var u=2*this.re,l=2*this.im,d=r(u)+Math.cos(l);return new a(i(u)/d,Math.sin(l)/d)},coth:function(){var u=2*this.re,l=2*this.im,d=r(u)-Math.cos(l);return new a(i(u)/d,-Math.sin(l)/d)},csch:function(){var u=this.re,l=this.im,d=Math.cos(2*l)-r(2*u);return new a(-2*i(u)*Math.cos(l)/d,2*r(u)*Math.sin(l)/d)},sech:function(){var u=this.re,l=this.im,d=Math.cos(2*l)+r(2*u);return new a(2*r(u)*Math.cos(l)/d,-2*i(u)*Math.sin(l)/d)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var l=this.asin();return this.re=-this.im,this.im=u,u=l.re,l.re=-l.im,l.im=u,l},acosh:function(){var u=this.acos();if(u.im<=0){var l=u.re;u.re=-u.im,u.im=l}else{var l=u.im;u.im=-u.re,u.re=l}return u},atanh:function(){var u=this.re,l=this.im,d=u>1&&l===0,y=1-u,p=1+u,w=y*y+l*l,v=w!==0?new a((p*y-l*l)/w,(l*y+p*l)/w):new a(u!==-1?u/0:0,l!==0?l/0:0),b=v.re;return v.re=f(v.re,v.im)/2,v.im=Math.atan2(v.im,b)/2,d&&(v.im=-v.im),v},acoth:function(){var u=this.re,l=this.im;if(u===0&&l===0)return new a(0,Math.PI/2);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).atanh():new a(u!==0?u/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var u=this.re,l=this.im;if(l===0)return new a(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).asinh():new a(u!==0?u/0:0,l!==0?-l/0:0).asinh()},asech:function(){var u=this.re,l=this.im;if(this.isZero())return a.INFINITY;var d=u*u+l*l;return d!==0?new a(u/d,-l/d).acosh():new a(u!==0?u/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return a.INFINITY;if(this.isInfinite())return a.ZERO;var u=this.re,l=this.im,d=u*u+l*l;return new a(u/d,-l/d)},conjugate:function(){return new a(this.re,-this.im)},neg:function(){return new a(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new a(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new a(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new a(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,l){var d=new a(u,l);return Math.abs(d.re-this.re)<=a.EPSILON&&Math.abs(d.im-this.im)<=a.EPSILON},clone:function(){return new a(this.re,this.im)},toString:function(){var u=this.re,l=this.im,d="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<a.EPSILON&&(u=0),Math.abs(l)<a.EPSILON&&(l=0),l===0?d+u:(u!==0?(d+=u,d+=" ",l<0?(l=-l,d+="-"):d+="+",d+=" "):l<0&&(l=-l,d+="-"),l!==1&&(d+=l),d+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},a.ZERO=new a(0,0),a.ONE=new a(1,0),a.I=new a(0,1),a.PI=new a(Math.PI,0),a.E=new a(Math.E,0),a.INFINITY=new a(1/0,1/0),a.NAN=new a(NaN,NaN),a.EPSILON=1e-15,Object.defineProperty(a,"__esModule",{value:!0}),a.default=a,a.Complex=a,e.exports=a})()})(qo);var wf=qo.exports;const Ze=so(wf);var Cf="Complex",Ef=[],Af=De(Cf,Ef,()=>(Object.defineProperty(Ze,"name",{value:"Complex"}),Ze.prototype.constructor=Ze,Ze.prototype.type="Complex",Ze.prototype.isComplex=!0,Ze.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ze.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ze.prototype.format=function(e){var t="",n=this.im,r=this.re,i=rr(this.re,e),o=rr(this.im,e),s=Me(e)?e:e?e.precision:null;if(s!==null){var c=Math.pow(10,-s);Math.abs(r/n)<c&&(r=0),Math.abs(n/r)<c&&(n=0)}return n===0?t=i:r===0?n===1?t="i":n===-1?t="-i":t=o+"i":n<0?n===-1?t=i+" - i":t=i+" - "+o.substring(1)+"i":n===1?t=i+" + i":t=i+" + "+o+"i",t},Ze.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Ze(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(Me(n)){if(go(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Me(r))return new Ze({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ze.prototype.valueOf=Ze.prototype.toString,Ze.fromJSON=function(e){return new Ze(e)},Ze.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Ze),{isClass:!0}),Wo={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var r=2e3,i={s:1,n:0,d:1};function o(v,b){if(isNaN(v=parseInt(v,10)))throw p();return v*b}function s(v,b){if(b===0)throw y();var D=Object.create(d.prototype);D.s=v<0?-1:1,v=v<0?-v:v;var C=l(v,b);return D.n=v/C,D.d=b/C,D}function c(v){for(var b={},D=v,C=2,m=4;m<=D;){for(;D%C===0;)D/=C,b[C]=(b[C]||0)+1;m+=1+2*C++}return D!==v?D>1&&(b[D]=(b[D]||0)+1):b[v]=(b[v]||0)+1,b}var f=function(v,b){var D=0,C=1,m=1,g=0,E=0,F=0,_=1,x=1,$=0,M=1,H=1,W=1,z=1e7,I;if(v!=null)if(b!==void 0){if(D=v,C=b,m=D*C,D%1!==0||C%1!==0)throw w()}else switch(typeof v){case"object":{if("d"in v&&"n"in v)D=v.n,C=v.d,"s"in v&&(D*=v.s);else if(0 in v)D=v[0],1 in v&&(C=v[1]);else throw p();m=D*C;break}case"number":{if(v<0&&(m=v,v=-v),v%1===0)D=v;else if(v>0){for(v>=1&&(x=Math.pow(10,Math.floor(1+Math.log(v)/Math.LN10)),v/=x);M<=z&&W<=z;)if(I=($+H)/(M+W),v===I){M+W<=z?(D=$+H,C=M+W):W>M?(D=H,C=W):(D=$,C=M);break}else v>I?($+=H,M+=W):(H+=$,W+=M),M>z?(D=H,C=W):(D=$,C=M);D*=x}else(isNaN(v)||isNaN(b))&&(C=D=NaN);break}case"string":{if(M=v.match(/\d+|./g),M===null)throw p();if(M[$]==="-"?(m=-1,$++):M[$]==="+"&&$++,M.length===$+1?E=o(M[$++],m):M[$+1]==="."||M[$]==="."?(M[$]!=="."&&(g=o(M[$++],m)),$++,($+1===M.length||M[$+1]==="("&&M[$+3]===")"||M[$+1]==="'"&&M[$+3]==="'")&&(E=o(M[$],m),_=Math.pow(10,M[$].length),$++),(M[$]==="("&&M[$+2]===")"||M[$]==="'"&&M[$+2]==="'")&&(F=o(M[$+1],m),x=Math.pow(10,M[$+1].length)-1,$+=3)):M[$+1]==="/"||M[$+1]===":"?(E=o(M[$],m),_=o(M[$+2],1),$+=3):M[$+3]==="/"&&M[$+1]===" "&&(g=o(M[$],m),E=o(M[$+2],m),_=o(M[$+4],1),$+=5),M.length<=$){C=_*x,m=D=F+C*g+x*E;break}}default:throw p()}if(C===0)throw y();i.s=m<0?-1:1,i.n=Math.abs(D),i.d=Math.abs(C)};function h(v,b,D){for(var C=1;b>0;v=v*v%D,b>>=1)b&1&&(C=C*v%D);return C}function a(v,b){for(;b%2===0;b/=2);for(;b%5===0;b/=5);if(b===1)return 0;for(var D=10%b,C=1;D!==1;C++)if(D=D*10%b,C>r)return 0;return C}function u(v,b,D){for(var C=1,m=h(10,D,b),g=0;g<300;g++){if(C===m)return g;C=C*10%b,m=m*10%b}return 0}function l(v,b){if(!v)return b;if(!b)return v;for(;;){if(v%=b,!v)return b;if(b%=v,!b)return v}}function d(v,b){if(f(v,b),this instanceof d)v=l(i.d,i.n),this.s=i.s,this.n=i.n/v,this.d=i.d/v;else return s(i.s*i.n,i.d)}var y=function(){return new Error("Division by Zero")},p=function(){return new Error("Invalid argument")},w=function(){return new Error("Parameters must be integer")};d.prototype={s:1,n:0,d:1,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(v,b){return f(v,b),s(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(v,b){return f(v,b),s(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(v,b){return f(v,b),s(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(v,b){return f(v,b),s(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(v,b){if(isNaN(this.n)||isNaN(this.d))return new d(NaN);if(v===void 0)return s(this.s*this.n%this.d,1);if(f(v,b),i.n===0&&this.d===0)throw y();return s(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(v,b){return f(v,b),s(l(i.n,this.n)*l(i.d,this.d),i.d*this.d)},lcm:function(v,b){return f(v,b),i.n===0&&this.n===0?s(0,1):s(i.n*this.n,l(i.n,this.n)*l(i.d,this.d))},ceil:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):s(Math.ceil(v*this.s*this.n/this.d),v)},floor:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):s(Math.floor(v*this.s*this.n/this.d),v)},round:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):s(Math.round(v*this.s*this.n/this.d),v)},inverse:function(){return s(this.s*this.d,this.n)},pow:function(v,b){if(f(v,b),i.d===1)return i.s<0?s(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):s(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var D=c(this.n),C=c(this.d),m=1,g=1;for(var E in D)if(E!=="1"){if(E==="0"){m=0;break}if(D[E]*=i.n,D[E]%i.d===0)D[E]/=i.d;else return null;m*=Math.pow(E,D[E])}for(var E in C)if(E!=="1"){if(C[E]*=i.n,C[E]%i.d===0)C[E]/=i.d;else return null;g*=Math.pow(E,C[E])}return i.s<0?s(g,m):s(m,g)},equals:function(v,b){return f(v,b),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(v,b){f(v,b);var D=this.s*this.n*i.d-i.s*i.n*this.d;return(0<D)-(D<0)},simplify:function(v){if(isNaN(this.n)||isNaN(this.d))return this;v=v||.001;for(var b=this.abs(),D=b.toContinued(),C=1;C<D.length;C++){for(var m=s(D[C-1],1),g=C-2;g>=0;g--)m=m.inverse().add(D[g]);if(Math.abs(m.sub(b).valueOf())<v)return m.mul(this.s)}return this},divisible:function(v,b){return f(v,b),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(v){var b,D="",C=this.n,m=this.d;return this.s<0&&(D+="-"),m===1?D+=C:(v&&(b=Math.floor(C/m))>0&&(D+=b,D+=" ",C%=m),D+=C,D+="/",D+=m),D},toLatex:function(v){var b,D="",C=this.n,m=this.d;return this.s<0&&(D+="-"),m===1?D+=C:(v&&(b=Math.floor(C/m))>0&&(D+=b,C%=m),D+="\\frac{",D+=C,D+="}{",D+=m,D+="}"),D},toContinued:function(){var v,b=this.n,D=this.d,C=[];if(isNaN(b)||isNaN(D))return C;do C.push(Math.floor(b/D)),v=b%D,b=D,D=v;while(b!==1);return C},toString:function(v){var b=this.n,D=this.d;if(isNaN(b)||isNaN(D))return"NaN";v=v||15;var C=a(b,D),m=u(b,D,C),g=this.s<0?"-":"";if(g+=b/D|0,b%=D,b*=10,b&&(g+="."),C){for(var E=m;E--;)g+=b/D|0,b%=D,b*=10;g+="(";for(var E=C;E--;)g+=b/D|0,b%=D,b*=10;g+=")"}else for(var E=v;b&&E--;)g+=b/D|0,b%=D,b*=10;return g}},Object.defineProperty(d,"__esModule",{value:!0}),d.default=d,d.Fraction=d,e.exports=d})()})(Wo);var Ff=Wo.exports;const bt=so(Ff);var _f="Fraction",Sf=[],$f=De(_f,Sf,()=>(Object.defineProperty(bt,"name",{value:"Fraction"}),bt.prototype.constructor=bt,bt.prototype.type="Fraction",bt.prototype.isFraction=!0,bt.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},bt.fromJSON=function(e){return new bt(e)},bt),{isClass:!0}),xf="Matrix",Mf=[],Bf=De(xf,Mf,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,r){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Vo(e){return Object.keys(e.signatures||{}).reduce(function(t,n){var r=(n.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)}var Nf="DenseMatrix",Tf=["Matrix"],If=De(Nf,Tf,e=>{var{Matrix:t}=e;function n(a,u){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!gt(u))throw new Error("Invalid datatype: "+u);if(Xe(a))a.type==="DenseMatrix"?(this._data=Re(a._data),this._size=Re(a._size),this._datatype=u||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=u||a._datatype);else if(a&&Te(a.data)&&Te(a.size))this._data=a.data,this._size=a.size,di(this._data,this._size),this._datatype=u||a.datatype;else if(Te(a))this._data=h(a),this._size=ft(this._data),di(this._data,this._size),this._datatype=u;else{if(a)throw new TypeError("Unsupported type of data ("+Xt(a)+")");this._data=[],this._size=[0],this._datatype=u}}n.prototype=new t,n.prototype.createDenseMatrix=function(a,u){return new n(a,u)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return On(this._data,Xt)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(a,u){return new n(a,u)},n.prototype.subset=function(a,u,l){switch(arguments.length){case 1:return r(this,a);case 2:case 3:return o(this,a,u,l);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(a){if(!Te(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new Ne(a.length,this._size.length);for(var u=0;u<a.length;u++)Ie(a[u],this._size[u]);for(var l=this._data,d=0,y=a.length;d<y;d++){var p=a[d];Ie(p,l.length),l=l[p]}return l},n.prototype.set=function(a,u,l){if(!Te(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new Ne(a.length,this._size.length,"<");var d,y,p,w=a.map(function(b){return b+1});f(this,w,l);var v=this._data;for(d=0,y=a.length-1;d<y;d++)p=a[d],Ie(p,v.length),v=v[p];return p=a[a.length-1],Ie(p,v.length),v[p]=u,this};function r(a,u){if(!yr(u))throw new TypeError("Invalid index");var l=u.isScalar();if(l)return a.get(u.min());var d=u.size();if(d.length!==a._size.length)throw new Ne(d.length,a._size.length);for(var y=u.min(),p=u.max(),w=0,v=a._size.length;w<v;w++)Ie(y[w],a._size[w]),Ie(p[w],a._size[w]);return new n(i(a._data,u,d.length,0),a._datatype)}function i(a,u,l,d){var y=d===l-1,p=u.dimension(d);return y?p.map(function(w){return Ie(w,a.length),a[w]}).valueOf():p.map(function(w){Ie(w,a.length);var v=a[w];return i(v,u,l,d+1)}).valueOf()}function o(a,u,l,d){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var y=u.size(),p=u.isScalar(),w;if(Xe(l)?(w=l.size(),l=l.valueOf()):w=ft(l),p){if(w.length!==0)throw new TypeError("Scalar expected");a.set(u.min(),l,d)}else{if(!Jt(w,y))try{w.length===0?l=hi([l],y):l=hi(l,y),w=ft(l)}catch{}if(y.length<a._size.length)throw new Ne(y.length,a._size.length,"<");if(w.length<y.length){for(var v=0,b=0;y[v]===1&&w[v]===1;)v++;for(;y[v]===1;)b++,v++;l=Fo(l,y.length,b,w)}if(!Jt(y,w))throw new Ne(y,w,">");var D=u.max().map(function(g){return g+1});f(a,D,d);var C=y.length,m=0;s(a._data,u,l,C,m)}return a}function s(a,u,l,d,y){var p=y===d-1,w=u.dimension(y);p?w.forEach(function(v,b){Ie(v),a[v]=l[b[0]]}):w.forEach(function(v,b){Ie(v),s(a[v],u,l[b[0]],d,y+1)})}n.prototype.resize=function(a,u,l){if(!In(a))throw new TypeError("Array or Matrix expected");var d=a.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),y=l?this.clone():this;return c(y,d,u)};function c(a,u,l){if(u.length===0){for(var d=a._data;Te(d);)d=d[0];return d}return a._size=u.slice(0),a._data=ir(a._data,a._size,l),a}n.prototype.reshape=function(a,u){var l=u?this.clone():this;l._data=Eo(l._data,a);var d=l._size.reduce((y,p)=>y*p);return l._size=wr(a,d),l};function f(a,u,l){for(var d=a._size.slice(0),y=!1;d.length<u.length;)d.push(0),y=!0;for(var p=0,w=u.length;p<w;p++)u[p]>d[p]&&(d[p]=u[p],y=!0);y&&c(a,d,l)}n.prototype.clone=function(){var a=new n({data:Re(this._data),size:Re(this._size),datatype:this._datatype});return a},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(a){var u=this,l=Vo(a),d=function w(v,b){return Te(v)?v.map(function(D,C){return w(D,b.concat(C))}):l===1?a(v):l===2?a(v,b):a(v,b,u)},y=d(this._data,[]),p=this._datatype!==void 0?On(y,Xt):void 0;return new n(y,p)},n.prototype.forEach=function(a){var u=this,l=function d(y,p){Te(y)?y.forEach(function(w,v){d(w,p.concat(v))}):a(y,p,u)};l(this._data,[])},n.prototype[Symbol.iterator]=function*(){var a=function*u(l,d){if(Te(l))for(var y=0;y<l.length;y++)yield*u(l[y],d.concat(y));else yield{value:l,index:d}};yield*a(this._data,[])},n.prototype.rows=function(){var a=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var d of l)a.push(new n([d],this._datatype));return a},n.prototype.columns=function(){var a=this,u=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,y=function(v){var b=d.map(D=>[D[v]]);u.push(new n(b,a._datatype))},p=0;p<l[1];p++)y(p);return u},n.prototype.toArray=function(){return Re(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(a){return Le(this._data,a)},n.prototype.toString=function(){return Le(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(a){if(a){if(Ke(a)&&(a=a.toNumber()),!Me(a)||!Ve(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var u=a>0?a:0,l=a<0?-a:0,d=this._size[0],y=this._size[1],p=Math.min(d-l,y-u),w=[],v=0;v<p;v++)w[v]=this._data[v+l][v+u];return new n({data:w,size:[p],datatype:this._datatype})},n.diagonal=function(a,u,l,d){if(!Te(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(E){if(Ke(E)&&(E=E.toNumber()),!Me(E)||!Ve(E)||E<1)throw new Error("Size values must be positive integers");return E}),l){if(Ke(l)&&(l=l.toNumber()),!Me(l)||!Ve(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var y=l>0?l:0,p=l<0?-l:0,w=a[0],v=a[1],b=Math.min(w-p,v-y),D;if(Te(u)){if(u.length!==b)throw new Error("Invalid value array length");D=function(F){return u[F]}}else if(Xe(u)){var C=u.size();if(C.length!==1||C[0]!==b)throw new Error("Invalid matrix length");D=function(F){return u.get([F])}}else D=function(){return u};d||(d=Ke(D(0))?D(0).mul(0):0);var m=[];if(a.length>0){m=ir(m,a,d);for(var g=0;g<b;g++)m[g+p][g+y]=D(g)}return new n({data:m,size:[w,v]})},n.fromJSON=function(a){return new n(a)},n.prototype.swapRows=function(a,u){if(!Me(a)||!Ve(a)||!Me(u)||!Ve(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ie(a,this._size[0]),Ie(u,this._size[0]),n._swapRows(a,u,this._data),this},n._swapRows=function(a,u,l){var d=l[a];l[a]=l[u],l[u]=d};function h(a){return Xe(a)?h(a.valueOf()):Te(a)?a.map(h):a}return n},{isClass:!0});function Ot(e,t,n){return e&&typeof e.map=="function"?e.map(function(r){return Ot(r,t)}):t(e)}var Uo="number",Er="number, number";function Xo(e){return Math.abs(e)}Xo.signature=Uo;function Go(e,t){return e+t}Go.signature=Er;function jo(e,t){return e-t}jo.signature=Er;function Yo(e,t){return e*t}Yo.signature=Er;function Zo(e){return-e}Zo.signature=Uo;var Pf="number";function Jo(e){return e===0}Jo.signature=Pf;var gi="isZero",Of=["typed"],Rf=De(gi,Of,e=>{var{typed:t}=e;return t(gi,{number:Jo,BigNumber:function(r){return r.isZero()},Complex:function(r){return r.re===0&&r.im===0},Fraction:function(r){return r.d===1&&r.n===0},Unit:t.referToSelf(n=>r=>t.find(n,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(n=>r=>Ot(r,n))})});function zf(e,t,n){if(n==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}function Lf(e,t,n){return Pn(e.re,t.re,n)&&Pn(e.im,t.im,n)}var kf=De("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),kn="equalScalar",Kf=["typed","config"],Hf=De(kn,Kf,e=>{var{typed:t,config:n}=e,r=kf({typed:t});return t(kn,{"boolean, boolean":function(o,s){return o===s},"number, number":function(o,s){return Pn(o,s,n.epsilon)},"BigNumber, BigNumber":function(o,s){return o.eq(s)||zf(o,s,n.epsilon)},"Fraction, Fraction":function(o,s){return o.equals(s)},"Complex, Complex":function(o,s){return Lf(o,s,n.epsilon)}},r)});De(kn,["typed","config"],e=>{var{typed:t,config:n}=e;return t(kn,{"number, number":function(i,o){return Pn(i,o,n.epsilon)}})});var qf="SparseMatrix",Wf=["typed","equalScalar","Matrix"],Vf=De(qf,Wf,e=>{var{typed:t,equalScalar:n,Matrix:r}=e;function i(p,w){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(w&&!gt(w))throw new Error("Invalid datatype: "+w);if(Xe(p))o(this,p,w);else if(p&&Te(p.index)&&Te(p.ptr)&&Te(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=w||p.datatype;else if(Te(p))s(this,p,w);else{if(p)throw new TypeError("Unsupported type of data ("+Xt(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=w}}function o(p,w,v){w.type==="SparseMatrix"?(p._values=w._values?Re(w._values):void 0,p._index=Re(w._index),p._ptr=Re(w._ptr),p._size=Re(w._size),p._datatype=v||w._datatype):s(p,w.valueOf(),v||w._datatype)}function s(p,w,v){p._values=[],p._index=[],p._ptr=[],p._datatype=v;var b=w.length,D=0,C=n,m=0;if(gt(v)&&(C=t.find(n,[v,v])||n,m=t.convert(0,v)),b>0){var g=0;do{p._ptr.push(p._index.length);for(var E=0;E<b;E++){var F=w[E];if(Te(F)){if(g===0&&D<F.length&&(D=F.length),g<F.length){var _=F[g];C(_,m)||(p._values.push(_),p._index.push(E))}}else g===0&&D<1&&(D=1),C(F,m)||(p._values.push(F),p._index.push(E))}g++}while(g<D)}p._ptr.push(p._index.length),p._size=[b,D]}i.prototype=new r,i.prototype.createSparseMatrix=function(p,w){return new i(p,w)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return On(this._values,Xt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,w){return new i(p,w)},i.prototype.density=function(){var p=this._size[0],w=this._size[1];return p!==0&&w!==0?this._index.length/(p*w):0},i.prototype.subset=function(p,w,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,p);case 2:case 3:return f(this,p,w,v);default:throw new SyntaxError("Wrong number of arguments")}};function c(p,w){if(!yr(w))throw new TypeError("Invalid index");var v=w.isScalar();if(v)return p.get(w.min());var b=w.size();if(b.length!==p._size.length)throw new Ne(b.length,p._size.length);var D,C,m,g,E=w.min(),F=w.max();for(D=0,C=p._size.length;D<C;D++)Ie(E[D],p._size[D]),Ie(F[D],p._size[D]);var _=p._values,x=p._index,$=p._ptr,M=w.dimension(0),H=w.dimension(1),W=[],z=[];M.forEach(function(U,ne){z[U]=ne[0],W[U]=!0});var I=_?[]:void 0,X=[],j=[];return H.forEach(function(U){for(j.push(X.length),m=$[U],g=$[U+1];m<g;m++)D=x[m],W[D]===!0&&(X.push(z[D]),I&&I.push(_[m]))}),j.push(X.length),new i({values:I,index:X,ptr:j,size:b,datatype:p._datatype})}function f(p,w,v,b){if(!w||w.isIndex!==!0)throw new TypeError("Invalid index");var D=w.size(),C=w.isScalar(),m;if(Xe(v)?(m=v.size(),v=v.toArray()):m=ft(v),C){if(m.length!==0)throw new TypeError("Scalar expected");p.set(w.min(),v,b)}else{if(D.length!==1&&D.length!==2)throw new Ne(D.length,p._size.length,"<");if(m.length<D.length){for(var g=0,E=0;D[g]===1&&m[g]===1;)g++;for(;D[g]===1;)E++,g++;v=Fo(v,D.length,E,m)}if(!Jt(D,m))throw new Ne(D,m,">");if(D.length===1){var F=w.dimension(0);F.forEach(function($,M){Ie($),p.set([$,0],v[M[0]],b)})}else{var _=w.dimension(0),x=w.dimension(1);_.forEach(function($,M){Ie($),x.forEach(function(H,W){Ie(H),p.set([$,H],v[M[0]][W[0]],b)})})}}return p}i.prototype.get=function(p){if(!Te(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new Ne(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var w=p[0],v=p[1];Ie(w,this._size[0]),Ie(v,this._size[1]);var b=h(w,this._ptr[v],this._ptr[v+1],this._index);return b<this._ptr[v+1]&&this._index[b]===w?this._values[b]:0},i.prototype.set=function(p,w,v){if(!Te(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new Ne(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=p[0],D=p[1],C=this._size[0],m=this._size[1],g=n,E=0;gt(this._datatype)&&(g=t.find(n,[this._datatype,this._datatype])||n,E=t.convert(0,this._datatype)),(b>C-1||D>m-1)&&(l(this,Math.max(b+1,C),Math.max(D+1,m),v),C=this._size[0],m=this._size[1]),Ie(b,C),Ie(D,m);var F=h(b,this._ptr[D],this._ptr[D+1],this._index);return F<this._ptr[D+1]&&this._index[F]===b?g(w,E)?a(F,D,this._values,this._index,this._ptr):this._values[F]=w:g(w,E)||u(F,b,D,w,this._values,this._index,this._ptr),this};function h(p,w,v,b){if(v-w===0)return v;for(var D=w;D<v;D++)if(b[D]===p)return D;return w}function a(p,w,v,b,D){v.splice(p,1),b.splice(p,1);for(var C=w+1;C<D.length;C++)D[C]--}function u(p,w,v,b,D,C,m){D.splice(p,0,b),C.splice(p,0,w);for(var g=v+1;g<m.length;g++)m[g]++}i.prototype.resize=function(p,w,v){if(!In(p))throw new TypeError("Array or Matrix expected");var b=p.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");b.forEach(function(C){if(!Me(C)||!Ve(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Le(b)+")")});var D=v?this.clone():this;return l(D,b[0],b[1],w)};function l(p,w,v,b){var D=b||0,C=n,m=0;gt(p._datatype)&&(C=t.find(n,[p._datatype,p._datatype])||n,m=t.convert(0,p._datatype),D=t.convert(D,p._datatype));var g=!C(D,m),E=p._size[0],F=p._size[1],_,x,$;if(v>F){for(x=F;x<v;x++)if(p._ptr[x]=p._values.length,g)for(_=0;_<E;_++)p._values.push(D),p._index.push(_);p._ptr[v]=p._values.length}else v<F&&(p._ptr.splice(v+1,F-v),p._values.splice(p._ptr[v],p._values.length),p._index.splice(p._ptr[v],p._index.length));if(F=v,w>E){if(g){var M=0;for(x=0;x<F;x++){p._ptr[x]=p._ptr[x]+M,$=p._ptr[x+1]+M;var H=0;for(_=E;_<w;_++,H++)p._values.splice($+H,0,D),p._index.splice($+H,0,_),M++}p._ptr[F]=p._values.length}}else if(w<E){var W=0;for(x=0;x<F;x++){p._ptr[x]=p._ptr[x]-W;var z=p._ptr[x],I=p._ptr[x+1]-W;for($=z;$<I;$++)_=p._index[$],_>w-1&&(p._values.splice($,1),p._index.splice($,1),W++)}p._ptr[x]=p._values.length}return p._size[0]=w,p._size[1]=v,p}i.prototype.reshape=function(p,w){if(!Te(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(U){if(!Me(U)||!Ve(U)||U<=-2||U===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Le(p)+")")});var v=this._size[0]*this._size[1];p=wr(p,v);var b=p[0]*p[1];if(v!==b)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var D=w?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return D;for(var C=[],m=0;m<D._ptr.length;m++)for(var g=0;g<D._ptr[m+1]-D._ptr[m];g++)C.push(m);for(var E=D._values.slice(),F=D._index.slice(),_=0;_<D._index.length;_++){var x=F[_],$=C[_],M=x*D._size[1]+$;C[_]=M%p[1],F[_]=Math.floor(M/p[1])}D._values.length=0,D._index.length=0,D._ptr.length=p[1]+1,D._size=p.slice();for(var H=0;H<D._ptr.length;H++)D._ptr[H]=0;for(var W=0;W<E.length;W++){var z=F[W],I=C[W],X=E[W],j=h(z,D._ptr[I],D._ptr[I+1],D._index);u(j,z,I,X,D._values,D._index,D._ptr)}return D},i.prototype.clone=function(){var p=new i({values:this._values?Re(this._values):void 0,index:Re(this._index),ptr:Re(this._ptr),size:Re(this._size),datatype:this._datatype});return p},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,w){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,b=this._size[0],D=this._size[1],C=Vo(p),m=function(E,F,_){return C===1?p(E):C===2?p(E,[F,_]):p(E,[F,_],v)};return d(this,0,b-1,0,D-1,m,w)};function d(p,w,v,b,D,C,m){var g=[],E=[],F=[],_=n,x=0;gt(p._datatype)&&(_=t.find(n,[p._datatype,p._datatype])||n,x=t.convert(0,p._datatype));for(var $=function(ue,me,ge){ue=C(ue,me,ge),_(ue,x)||(g.push(ue),E.push(me))},M=b;M<=D;M++){F.push(g.length);var H=p._ptr[M],W=p._ptr[M+1];if(m)for(var z=H;z<W;z++){var I=p._index[z];I>=w&&I<=v&&$(p._values[z],I-w,M-b)}else{for(var X={},j=H;j<W;j++){var U=p._index[j];X[U]=p._values[j]}for(var ne=w;ne<=v;ne++){var G=ne in X?X[ne]:0;$(G,ne-w,M-b)}}}return F.push(g.length),new i({values:g,index:E,ptr:F,size:[v-w+1,D-b+1]})}i.prototype.forEach=function(p,w){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,b=this._size[0],D=this._size[1],C=0;C<D;C++){var m=this._ptr[C],g=this._ptr[C+1];if(w)for(var E=m;E<g;E++){var F=this._index[E];p(this._values[E],[F,C],v)}else{for(var _={},x=m;x<g;x++){var $=this._index[x];_[$]=this._values[x]}for(var M=0;M<b;M++){var H=M in _?_[M]:0;p(H,[M,C],v)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],w=0;w<p;w++)for(var v=this._ptr[w],b=this._ptr[w+1],D=v;D<b;D++){var C=this._index[D];yield{value:this._values[D],index:[C,w]}}},i.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(p,w,v,b,D){var C=b[0],m=b[1],g=[],E,F;for(E=0;E<C;E++)for(g[E]=[],F=0;F<m;F++)g[E][F]=0;for(F=0;F<m;F++)for(var _=v[F],x=v[F+1],$=_;$<x;$++)E=w[$],g[E][F]=p?D?Re(p[$]):p[$]:1;return g}return i.prototype.format=function(p){for(var w=this._size[0],v=this._size[1],b=this.density(),D="Sparse Matrix ["+Le(w,p)+" x "+Le(v,p)+"] density: "+Le(b,p)+`
`,C=0;C<v;C++)for(var m=this._ptr[C],g=this._ptr[C+1],E=m;E<g;E++){var F=this._index[E];D+=`
    (`+Le(F,p)+", "+Le(C,p)+") ==> "+(this._values?Le(this._values[E],p):"X")}return D},i.prototype.toString=function(){return Le(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(Ke(p)&&(p=p.toNumber()),!Me(p)||!Ve(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var w=p>0?p:0,v=p<0?-p:0,b=this._size[0],D=this._size[1],C=Math.min(b-v,D-w),m=[],g=[],E=[];E[0]=0;for(var F=w;F<D&&m.length<C;F++)for(var _=this._ptr[F],x=this._ptr[F+1],$=_;$<x;$++){var M=this._index[$];if(M===F-w+v){m.push(this._values[$]),g[m.length-1]=M-v;break}}return E.push(m.length),new i({values:m,index:g,ptr:E,size:[C,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,w,v,b,D){if(!Te(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(U){if(Ke(U)&&(U=U.toNumber()),!Me(U)||!Ve(U)||U<1)throw new Error("Size values must be positive integers");return U}),v){if(Ke(v)&&(v=v.toNumber()),!Me(v)||!Ve(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var C=n,m=0;gt(D)&&(C=t.find(n,[D,D])||n,m=t.convert(0,D));var g=v>0?v:0,E=v<0?-v:0,F=p[0],_=p[1],x=Math.min(F-E,_-g),$;if(Te(w)){if(w.length!==x)throw new Error("Invalid value array length");$=function(ne){return w[ne]}}else if(Xe(w)){var M=w.size();if(M.length!==1||M[0]!==x)throw new Error("Invalid matrix length");$=function(ne){return w.get([ne])}}else $=function(){return w};for(var H=[],W=[],z=[],I=0;I<_;I++){z.push(H.length);var X=I-g;if(X>=0&&X<x){var j=$(X);C(j,m)||(W.push(X+E),H.push(j))}}return z.push(H.length),new i({values:H,index:W,ptr:z,size:[F,_]})},i.prototype.swapRows=function(p,w){if(!Me(p)||!Ve(p)||!Me(w)||!Ve(w))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ie(p,this._size[0]),Ie(w,this._size[0]),i._swapRows(p,w,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,w,v,b,D){for(var C=b[p],m=b[p+1],g=C;g<m;g++)D(v[g],w[g])},i._swapRows=function(p,w,v,b,D,C){for(var m=0;m<v;m++){var g=C[m],E=C[m+1],F=h(p,g,E,D),_=h(w,g,E,D);if(F<E&&_<E&&D[F]===p&&D[_]===w){if(b){var x=b[F];b[F]=b[_],b[_]=x}continue}if(F<E&&D[F]===p&&(_>=E||D[_]!==w)){var $=b?b[F]:void 0;D.splice(_,0,w),b&&b.splice(_,0,$),D.splice(_<=F?F+1:F,1),b&&b.splice(_<=F?F+1:F,1);continue}if(_<E&&D[_]===w&&(F>=E||D[F]!==p)){var M=b?b[_]:void 0;D.splice(F,0,p),b&&b.splice(F,0,M),D.splice(F<=_?_+1:_,1),b&&b.splice(F<=_?_+1:_,1)}}},i},{isClass:!0}),Uf="number",Xf=["typed"];function Gf(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var n={"0b":2,"0o":8,"0x":16}[t[1]],r=t[2],i=t[3];return{input:e,radix:n,integerPart:r,fractionalPart:i}}else return null}function jf(e){for(var t=parseInt(e.integerPart,e.radix),n=0,r=0;r<e.fractionalPart.length;r++){var i=parseInt(e.fractionalPart[r],e.radix);n+=i/Math.pow(e.radix,r+1)}var o=t+n;if(isNaN(o))throw new SyntaxError('String "'+e.input+'" is not a valid number');return o}var Yf=De(Uf,Xf,e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=Gf(i);if(o)return jf(o);var s=0,c=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(s=Number(c[2]),i=c[1]);var f=Number(i);if(isNaN(f))throw new SyntaxError('String "'+i+'" is not a valid number');if(c){if(f>2**s-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));f>=2**(s-1)&&(f=f-2**s)}return f},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:t.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":t.referToSelf(r=>i=>Ot(i,r))});return n.fromJSON=function(r){return parseFloat(r.value)},n}),Zf="bignumber",Jf=["typed","BigNumber"],Qf=De(Zf,Jf,e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var s=o[2],c=n(o[1]),f=new n(2).pow(Number(s));if(c.gt(f.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var h=new n(2).pow(Number(s)-1);return c.gte(h)?c.sub(f):c}return new n(i)},BigNumber:function(i){return i},Unit:t.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),Fraction:function(i){return new n(i.n).div(i.d).times(i.s)},null:function(i){return new n(0)},"Array | Matrix":t.referToSelf(r=>i=>Ot(i,r))})}),ed="fraction",td=["typed","Fraction"],nd=De(ed,td,e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new n(i)},string:function(i){return new n(i)},"number, number":function(i,o){return new n(i,o)},null:function(i){return new n(0)},BigNumber:function(i){return new n(i.toString())},Fraction:function(i){return i},Unit:t.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),Object:function(i){return new n(i)},"Array | Matrix":t.referToSelf(r=>i=>Ot(i,r))})}),Di="matrix",rd=["typed","Matrix","DenseMatrix","SparseMatrix"],id=De(Di,rd,e=>{var{typed:t,Matrix:n,DenseMatrix:r,SparseMatrix:i}=e;return t(Di,{"":function(){return o([])},string:function(c){return o([],c)},"string, string":function(c,f){return o([],c,f)},Array:function(c){return o(c)},Matrix:function(c){return o(c,c.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(s,c,f){if(c==="dense"||c==="default"||c===void 0)return new r(s,f);if(c==="sparse")return new i(s,f);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),yi="unaryMinus",od=["typed"],ud=De(yi,od,e=>{var{typed:t}=e;return t(yi,{number:Zo,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:t.referToSelf(n=>r=>{var i=r.clone();return i.value=t.find(n,i.valueType())(r.value),i}),"Array | Matrix":t.referToSelf(n=>r=>Ot(r,n))})}),bi="abs",ad=["typed"],sd=De(bi,ad,e=>{var{typed:t}=e;return t(bi,{number:Xo,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":t.referToSelf(n=>r=>Ot(r,n))})}),wi="addScalar",ld=["typed"],cd=De(wi,ld,e=>{var{typed:t}=e;return t(wi,{"number, number":Go,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=t.find(n,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),Ci="subtractScalar",fd=["typed"],dd=De(Ci,fd,e=>{var{typed:t}=e;return t(Ci,{"number, number":jo,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":t.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=t.find(n,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),hd="matAlgo11xS0s",pd=["typed","equalScalar"],Qo=De(hd,pd,e=>{var{typed:t,equalScalar:n}=e;return function(i,o,s,c){var f=i._values,h=i._index,a=i._ptr,u=i._size,l=i._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=u[0],y=u[1],p,w=n,v=0,b=s;typeof l=="string"&&(p=l,w=t.find(n,[p,p]),v=t.convert(0,p),o=t.convert(o,p),b=t.find(s,[p,p]));for(var D=[],C=[],m=[],g=0;g<y;g++){m[g]=C.length;for(var E=a[g],F=a[g+1],_=E;_<F;_++){var x=h[_],$=c?b(o,f[_]):b(f[_],o);w($,v)||(C.push(x),D.push($))}}return m[y]=C.length,i.createSparseMatrix({values:D,index:C,ptr:m,size:[d,y],datatype:p})}}),vd="matAlgo14xDs",md=["typed"],eu=De(vd,md,e=>{var{typed:t}=e;return function(i,o,s,c){var f=i._data,h=i._size,a=i._datatype,u,l=s;typeof a=="string"&&(u=a,o=t.convert(o,u),l=t.find(s,[u,u]));var d=h.length>0?n(l,0,h,h[0],f,o,c):[];return i.createDenseMatrix({data:d,size:Re(h),datatype:u})};function n(r,i,o,s,c,f,h){var a=[];if(i===o.length-1)for(var u=0;u<s;u++)a[u]=h?r(f,c[u]):r(c[u],f);else for(var l=0;l<s;l++)a[l]=n(r,i+1,o,o[i+1],c[l],f,h);return a}}),gd="multiplyScalar",Dd=["typed"],yd=De(gd,Dd,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Yo,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(n,r)=>r.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,r)=>n.multiply(r)})}),Ei="multiply",bd=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],wd=De(Ei,bd,e=>{var{typed:t,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:o,dot:s}=e,c=Qo({typed:t,equalScalar:o}),f=eu({typed:t});function h(m,g){switch(m.length){case 1:switch(g.length){case 1:if(m[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(m[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+m[0]+") must match Matrix rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;case 2:switch(g.length){case 1:if(m[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+m[1]+") must match Vector length ("+g[0]+")");break;case 2:if(m[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+m[1]+") must match Matrix B rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+m.length+" dimensions)")}}function a(m,g,E){if(E===0)throw new Error("Cannot multiply two empty vectors");return s(m,g)}function u(m,g){if(g.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return l(m,g)}function l(m,g){var E=m._data,F=m._size,_=m._datatype||m.getDataType(),x=g._data,$=g._size,M=g._datatype||g.getDataType(),H=F[0],W=$[1],z,I=r,X=i;_&&M&&_===M&&typeof _=="string"&&_!=="mixed"&&(z=_,I=t.find(r,[z,z]),X=t.find(i,[z,z]));for(var j=[],U=0;U<W;U++){for(var ne=X(E[0],x[0][U]),G=1;G<H;G++)ne=I(ne,X(E[G],x[G][U]));j[U]=ne}return m.createDenseMatrix({data:j,size:[W],datatype:_===m._datatype&&M===g._datatype?z:void 0})}var d=t("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":b}),y=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":w,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":D,"SparseMatrix, SparseMatrix":C});function p(m,g){var E=m._data,F=m._size,_=m._datatype||m.getDataType(),x=g._data,$=g._datatype||g.getDataType(),M=F[0],H=F[1],W,z=r,I=i;_&&$&&_===$&&typeof _=="string"&&_!=="mixed"&&(W=_,z=t.find(r,[W,W]),I=t.find(i,[W,W]));for(var X=[],j=0;j<M;j++){for(var U=E[j],ne=I(U[0],x[0]),G=1;G<H;G++)ne=z(ne,I(U[G],x[G]));X[j]=ne}return m.createDenseMatrix({data:X,size:[M],datatype:_===m._datatype&&$===g._datatype?W:void 0})}function w(m,g){var E=m._data,F=m._size,_=m._datatype||m.getDataType(),x=g._data,$=g._size,M=g._datatype||g.getDataType(),H=F[0],W=F[1],z=$[1],I,X=r,j=i;_&&M&&_===M&&typeof _=="string"&&_!=="mixed"&&_!=="mixed"&&(I=_,X=t.find(r,[I,I]),j=t.find(i,[I,I]));for(var U=[],ne=0;ne<H;ne++){var G=E[ne];U[ne]=[];for(var te=0;te<z;te++){for(var ue=j(G[0],x[0][te]),me=1;me<W;me++)ue=X(ue,j(G[me],x[me][te]));U[ne][te]=ue}}return m.createDenseMatrix({data:U,size:[H,z],datatype:_===m._datatype&&M===g._datatype?I:void 0})}function v(m,g){var E=m._data,F=m._size,_=m._datatype||m.getDataType(),x=g._values,$=g._index,M=g._ptr,H=g._size,W=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!x)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var z=F[0],I=H[1],X,j=r,U=i,ne=o,G=0;_&&W&&_===W&&typeof _=="string"&&_!=="mixed"&&(X=_,j=t.find(r,[X,X]),U=t.find(i,[X,X]),ne=t.find(o,[X,X]),G=t.convert(0,X));for(var te=[],ue=[],me=[],ge=g.createSparseMatrix({values:te,index:ue,ptr:me,size:[z,I],datatype:_===m._datatype&&W===g._datatype?X:void 0}),K=0;K<I;K++){me[K]=ue.length;var Z=M[K],se=M[K+1];if(se>Z)for(var re=0,ie=0;ie<z;ie++){for(var be=ie+1,he=void 0,ce=Z;ce<se;ce++){var Se=$[ce];re!==be?(he=U(E[ie][Se],x[ce]),re=be):he=j(he,U(E[ie][Se],x[ce]))}re===be&&!ne(he,G)&&(ue.push(ie),te.push(he))}}return me[I]=ue.length,ge}function b(m,g){var E=m._values,F=m._index,_=m._ptr,x=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!E)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var $=g._data,M=g._datatype||g.getDataType(),H=m._size[0],W=g._size[0],z=[],I=[],X=[],j,U=r,ne=i,G=o,te=0;x&&M&&x===M&&typeof x=="string"&&x!=="mixed"&&(j=x,U=t.find(r,[j,j]),ne=t.find(i,[j,j]),G=t.find(o,[j,j]),te=t.convert(0,j));var ue=[],me=[];X[0]=0;for(var ge=0;ge<W;ge++){var K=$[ge];if(!G(K,te))for(var Z=_[ge],se=_[ge+1],re=Z;re<se;re++){var ie=F[re];me[ie]?ue[ie]=U(ue[ie],ne(K,E[re])):(me[ie]=!0,I.push(ie),ue[ie]=ne(K,E[re]))}}for(var be=I.length,he=0;he<be;he++){var ce=I[he];z[he]=ue[ce]}return X[1]=I.length,m.createSparseMatrix({values:z,index:I,ptr:X,size:[H,1],datatype:x===m._datatype&&M===g._datatype?j:void 0})}function D(m,g){var E=m._values,F=m._index,_=m._ptr,x=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!E)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var $=g._data,M=g._datatype||g.getDataType(),H=m._size[0],W=g._size[0],z=g._size[1],I,X=r,j=i,U=o,ne=0;x&&M&&x===M&&typeof x=="string"&&x!=="mixed"&&(I=x,X=t.find(r,[I,I]),j=t.find(i,[I,I]),U=t.find(o,[I,I]),ne=t.convert(0,I));for(var G=[],te=[],ue=[],me=m.createSparseMatrix({values:G,index:te,ptr:ue,size:[H,z],datatype:x===m._datatype&&M===g._datatype?I:void 0}),ge=[],K=[],Z=0;Z<z;Z++){ue[Z]=te.length;for(var se=Z+1,re=0;re<W;re++){var ie=$[re][Z];if(!U(ie,ne))for(var be=_[re],he=_[re+1],ce=be;ce<he;ce++){var Se=F[ce];K[Se]!==se?(K[Se]=se,te.push(Se),ge[Se]=j(ie,E[ce])):ge[Se]=X(ge[Se],j(ie,E[ce]))}}for(var He=ue[Z],tt=te.length,fe=He;fe<tt;fe++){var ae=te[fe];G[fe]=ge[ae]}}return ue[z]=te.length,me}function C(m,g){var E=m._values,F=m._index,_=m._ptr,x=m._datatype||m._data===void 0?m._datatype:m.getDataType(),$=g._values,M=g._index,H=g._ptr,W=g._datatype||g._data===void 0?g._datatype:g.getDataType(),z=m._size[0],I=g._size[1],X=E&&$,j,U=r,ne=i;x&&W&&x===W&&typeof x=="string"&&x!=="mixed"&&(j=x,U=t.find(r,[j,j]),ne=t.find(i,[j,j]));for(var G=X?[]:void 0,te=[],ue=[],me=m.createSparseMatrix({values:G,index:te,ptr:ue,size:[z,I],datatype:x===m._datatype&&W===g._datatype?j:void 0}),ge=X?[]:void 0,K=[],Z,se,re,ie,be,he,ce,Se,He=0;He<I;He++){ue[He]=te.length;var tt=He+1;for(be=H[He],he=H[He+1],ie=be;ie<he;ie++)if(Se=M[ie],X)for(se=_[Se],re=_[Se+1],Z=se;Z<re;Z++)ce=F[Z],K[ce]!==tt?(K[ce]=tt,te.push(ce),ge[ce]=ne($[ie],E[Z])):ge[ce]=U(ge[ce],ne($[ie],E[Z]));else for(se=_[Se],re=_[Se+1],Z=se;Z<re;Z++)ce=F[Z],K[ce]!==tt&&(K[ce]=tt,te.push(ce));if(X)for(var fe=ue[He],ae=te.length,Q=fe;Q<ae;Q++){var de=te[Q];G[Q]=ge[de]}}return ue[I]=te.length,me}return t(Ei,i,{"Array, Array":t.referTo("Matrix, Matrix",m=>(g,E)=>{h(ft(g),ft(E));var F=m(n(g),n(E));return Xe(F)?F.valueOf():F}),"Matrix, Matrix":function(g,E){var F=g.size(),_=E.size();return h(F,_),F.length===1?_.length===1?a(g,E,F[0]):u(g,E):_.length===1?d(g,E):y(g,E)},"Matrix, Array":t.referTo("Matrix,Matrix",m=>(g,E)=>m(g,n(E))),"Array, Matrix":t.referToSelf(m=>(g,E)=>m(n(g,E.storage()),E)),"SparseMatrix, any":function(g,E){return c(g,E,i,!1)},"DenseMatrix, any":function(g,E){return f(g,E,i,!1)},"any, SparseMatrix":function(g,E){return c(E,g,i,!0)},"any, DenseMatrix":function(g,E){return f(E,g,i,!0)},"Array, any":function(g,E){return f(n(g),E,i,!1).valueOf()},"any, Array":function(g,E){return f(n(E),g,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(m=>(g,E,F)=>{for(var _=m(g,E),x=0;x<F.length;x++)_=m(_,F[x]);return _})})}),Ai="conj",Cd=["typed"],Ed=De(Ai,Cd,e=>{var{typed:t}=e;return t(Ai,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":t.referToSelf(n=>r=>Ot(r,n))})}),Fi="identity",Ad=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Fd=De(Fi,Ad,e=>{var{typed:t,config:n,matrix:r,BigNumber:i,DenseMatrix:o,SparseMatrix:s}=e;return t(Fi,{"":function(){return n.matrix==="Matrix"?r([]):[]},string:function(a){return r(a)},"number | BigNumber":function(a){return f(a,a,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,u){return f(a,a,u)},"number | BigNumber, number | BigNumber":function(a,u){return f(a,u,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,u,l){return f(a,u,l)},Array:function(a){return c(a)},"Array, string":function(a,u){return c(a,u)},Matrix:function(a){return c(a.valueOf(),a.storage())},"Matrix, string":function(a,u){return c(a.valueOf(),u)}});function c(h,a){switch(h.length){case 0:return a?r(a):[];case 1:return f(h[0],h[0],a);case 2:return f(h[0],h[1],a);default:throw new Error("Vector containing two values expected")}}function f(h,a,u){var l=Ke(h)||Ke(a)?i:null;if(Ke(h)&&(h=h.toNumber()),Ke(a)&&(a=a.toNumber()),!Ve(h)||h<1)throw new Error("Parameters in function identity must be positive integers");if(!Ve(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var d=l?new i(1):1,y=l?new l(0):0,p=[h,a];if(u){if(u==="sparse")return s.diagonal(p,d,0,y);if(u==="dense")return o.diagonal(p,d,0,y);throw new TypeError('Unknown matrix type "'.concat(u,'"'))}for(var w=ir([],p,y),v=h<a?h:a,b=0;b<v;b++)w[b][b]=d;return w}});function _d(){throw new Error('No "bignumber" implementation available')}function Sd(){throw new Error('No "fraction" implementation available')}function $d(){throw new Error('No "matrix" implementation available')}var _i="size",xd=["typed","config","?matrix"],Md=De(_i,xd,e=>{var{typed:t,config:n,matrix:r}=e;return t(_i,{Matrix:function(o){return o.create(o.size())},Array:ft,string:function(o){return n.matrix==="Array"?[o.length]:r([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return n.matrix==="Array"?[]:r?r([]):$d()}})}),Bd="numeric",Nd=["number","?bignumber","?fraction"],Td=De(Bd,Nd,e=>{var{number:t,bignumber:n,fraction:r}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:s=>t(s),BigNumber:n?s=>n(s):_d,Fraction:r?s=>r(s):Sd};return function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",h=arguments.length>2?arguments[2]:void 0;if(h!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=Xt(c);if(!(a in i))throw new TypeError("Cannot convert "+c+' of type "'+a+'"; valid input types are '+Object.keys(i).join(", "));if(!(f in o))throw new TypeError("Cannot convert "+c+' to type "'+f+'"; valid output types are '+Object.keys(o).join(", "));return f===a?c:o[f](c)}}),Si="divideScalar",Id=["typed","numeric"],Pd=De(Si,Id,e=>{var{typed:t,numeric:n}=e;return t(Si,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),$i="dot",Od=["typed","addScalar","multiplyScalar","conj","size"],Rd=De($i,Od,e=>{var{typed:t,addScalar:n,multiplyScalar:r,conj:i,size:o}=e;return t($i,{"Array | DenseMatrix, Array | DenseMatrix":c,"SparseMatrix, SparseMatrix":f});function s(a,u){var l=h(a),d=h(u),y,p;if(l.length===1)y=l[0];else if(l.length===2&&l[1]===1)y=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(y!==p)throw new RangeError("Vectors must have equal length ("+y+" != "+p+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function c(a,u){var l=s(a,u),d=Xe(a)?a._data:a,y=Xe(a)?a._datatype||a.getDataType():void 0,p=Xe(u)?u._data:u,w=Xe(u)?u._datatype||u.getDataType():void 0,v=h(a).length===2,b=h(u).length===2,D=n,C=r;if(y&&w&&y===w&&typeof y=="string"&&y!=="mixed"){var m=y;D=t.find(n,[m,m]),C=t.find(r,[m,m])}if(!v&&!b){for(var g=C(i(d[0]),p[0]),E=1;E<l;E++)g=D(g,C(i(d[E]),p[E]));return g}if(!v&&b){for(var F=C(i(d[0]),p[0][0]),_=1;_<l;_++)F=D(F,C(i(d[_]),p[_][0]));return F}if(v&&!b){for(var x=C(i(d[0][0]),p[0]),$=1;$<l;$++)x=D(x,C(i(d[$][0]),p[$]));return x}if(v&&b){for(var M=C(i(d[0][0]),p[0][0]),H=1;H<l;H++)M=D(M,C(i(d[H][0]),p[H][0]));return M}}function f(a,u){s(a,u);for(var l=a._index,d=a._values,y=u._index,p=u._values,w=0,v=n,b=r,D=0,C=0;D<l.length&&C<y.length;){var m=l[D],g=y[C];if(m<g){D++;continue}if(m>g){C++;continue}m===g&&(w=v(w,b(d[D],p[C])),D++,C++)}return w}function h(a){return Xe(a)?a.size():o(a)}}),xi="det",zd=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Ld=De(xi,zd,e=>{var{typed:t,matrix:n,subtractScalar:r,multiply:i,divideScalar:o,isZero:s,unaryMinus:c}=e;return t(xi,{any:function(a){return Re(a)},"Array | Matrix":function(a){var u;switch(Xe(a)?u=a.size():Array.isArray(a)?(a=n(a),u=a.size()):u=[],u.length){case 0:return Re(a);case 1:if(u[0]===1)return Re(a.valueOf()[0]);if(u[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Le(u)+")");case 2:{var l=u[0],d=u[1];if(l===d)return f(a.clone().valueOf(),l);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+Le(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Le(u)+")")}}});function f(h,a,u){if(a===1)return Re(h[0][0]);if(a===2)return r(i(h[0][0],h[1][1]),i(h[1][0],h[0][1]));for(var l=!1,d=new Array(a).fill(0).map((E,F)=>F),y=0;y<a;y++){var p=d[y];if(s(h[p][y])){var w=void 0;for(w=y+1;w<a;w++)if(!s(h[d[w]][y])){p=d[w],d[w]=d[y],d[y]=p,l=!l;break}if(w===a)return h[p][y]}for(var v=h[p][y],b=y===0?1:h[d[y-1]][y-1],D=y+1;D<a;D++)for(var C=d[D],m=y+1;m<a;m++)h[C][m]=o(r(i(h[C][m],v),i(h[C][y],h[p][m])),b)}var g=h[d[a-1]][a-1];return l?c(g):g}}),Mi="inv",kd=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Kd=De(Mi,kd,e=>{var{typed:t,matrix:n,divideScalar:r,addScalar:i,multiply:o,unaryMinus:s,det:c,identity:f,abs:h}=e;return t(Mi,{"Array | Matrix":function(l){var d=Xe(l)?l.size():ft(l);switch(d.length){case 1:if(d[0]===1)return Xe(l)?n([r(1,l.valueOf()[0])]):[r(1,l[0])];throw new RangeError("Matrix must be square (size: "+Le(d)+")");case 2:{var y=d[0],p=d[1];if(y===p)return Xe(l)?n(a(l.valueOf(),y,p),l.storage()):a(l,y,p);throw new RangeError("Matrix must be square (size: "+Le(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Le(d)+")")}},any:function(l){return r(1,l)}});function a(u,l,d){var y,p,w,v,b;if(l===1){if(v=u[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,v)]]}else if(l===2){var D=c(u);if(D===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(u[1][1],D),r(s(u[0][1]),D)],[r(s(u[1][0]),D),r(u[0][0],D)]]}else{var C=u.concat();for(y=0;y<l;y++)C[y]=C[y].concat();for(var m=f(l).valueOf(),g=0;g<d;g++){var E=h(C[g][g]),F=g;for(y=g+1;y<l;)h(C[y][g])>E&&(E=h(C[y][g]),F=y),y++;if(E===0)throw Error("Cannot calculate inverse, determinant is zero");y=F,y!==g&&(b=C[g],C[g]=C[y],C[y]=b,b=m[g],m[g]=m[y],m[y]=b);var _=C[g],x=m[g];for(y=0;y<l;y++){var $=C[y],M=m[y];if(y!==g){if($[g]!==0){for(w=r(s($[g]),_[g]),p=g;p<d;p++)$[p]=i($[p],o(w,_[p]));for(p=0;p<d;p++)M[p]=i(M[p],o(w,x[p]))}}else{for(w=_[g],p=g;p<d;p++)$[p]=r($[p],w);for(p=0;p<d;p++)M[p]=r(M[p],w)}}}return m}}}),Hd="divide",qd=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Wd=De(Hd,qd,e=>{var{typed:t,matrix:n,multiply:r,equalScalar:i,divideScalar:o,inv:s}=e,c=Qo({typed:t,equalScalar:i}),f=eu({typed:t});return t("divide",ql({"Array | Matrix, Array | Matrix":function(a,u){return r(a,s(u))},"DenseMatrix, any":function(a,u){return f(a,u,o,!1)},"SparseMatrix, any":function(a,u){return c(a,u,o,!1)},"Array, any":function(a,u){return f(n(a),u,o,!1).valueOf()},"any, Array | Matrix":function(a,u){return r(a,s(u))}},o.signatures))}),Ar=bf({config:gn}),Vd=Af({}),tu=$f({}),Fr=Bf({}),_r=If({Matrix:Fr}),ze=Cc({BigNumber:Ar,Complex:Vd,DenseMatrix:_r,Fraction:tu}),Ud=sd({typed:ze}),Sr=cd({typed:ze}),Xd=Qf({BigNumber:Ar,typed:ze}),Gd=Ed({typed:ze}),$r=Hf({config:gn,typed:ze}),jd=Rf({typed:ze}),nu=yd({typed:ze}),Yd=Yf({typed:ze}),ru=Vf({Matrix:Fr,equalScalar:$r,typed:ze}),Zd=dd({typed:ze}),iu=ud({typed:ze}),Jd=nd({Fraction:tu,typed:ze}),nn=id({DenseMatrix:_r,Matrix:Fr,SparseMatrix:ru,typed:ze}),Qd=Td({bignumber:Xd,fraction:Jd,number:Yd}),e0=Md({matrix:nn,config:gn,typed:ze}),xr=Pd({numeric:Qd,typed:ze}),t0=Fd({BigNumber:Ar,DenseMatrix:_r,SparseMatrix:ru,config:gn,matrix:nn,typed:ze}),n0=Rd({addScalar:Sr,conj:Gd,multiplyScalar:nu,size:e0,typed:ze}),Dn=wd({addScalar:Sr,dot:n0,equalScalar:$r,matrix:nn,multiplyScalar:nu,typed:ze}),r0=Ld({divideScalar:xr,isZero:jd,matrix:nn,multiply:Dn,subtractScalar:Zd,typed:ze,unaryMinus:iu}),i0=Kd({abs:Ud,addScalar:Sr,det:r0,divideScalar:xr,identity:t0,matrix:nn,multiply:Dn,typed:ze,unaryMinus:iu}),ou=Wd({divideScalar:xr,equalScalar:$r,inv:i0,matrix:nn,multiply:Dn,typed:ze});function Bi(e,t){return Dn(e,ou(parseInt(t),100))}function Ut(e){return e*Math.PI/180}function Fe(e,t,n){return{x:(e.x-t.x)*Math.cos(Ut(n))-(e.y-t.y)*Math.sin(Ut(n))+t.x,y:(e.x-t.x)*Math.sin(Ut(n))+(e.y-t.y)*Math.cos(Ut(n))+t.y}}function Tt(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}}function Ni(e){return Math.abs(Math.sin(Ut(e)))}function Ti(e){return Math.abs(Math.cos(Ut(e)))}function Ii(e){return(e+360)%360}function o0(e){const t={};return["width","height","top","left","rotate"].forEach(n=>{n!="rotate"?t[n]=e[n]+"px":t.transform="rotate("+e[n]+"deg)"}),t}const u0=["width","height","scale"];function a0(e){const t={};return Object.keys(e).filter(n=>!u0.includes(n)).forEach(n=>{t[n]=e[n],n==="fontSize"&&(t[n]+="px")}),t}const s0=["fontSize","width","height","top","left","borderWidth","letterSpacing","borderRadius"];function l0(e,t=[]){const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(r!="rotate"?e[r]!==""&&(n[r]=e[r],s0.includes(r)&&(n[r]+="px")):n.transform=r+"("+e[r]+"deg)")}),n}function Kn(e){if(e={...e},e.rotate!=0){const t=e.width*Ti(e.rotate)+e.height*Ni(e.rotate),n=(e.width-t)/2;e.left+=n,e.right=e.left+t;const r=e.height*Ti(e.rotate)+e.width*Ni(e.rotate),i=(r-e.height)/2;e.top-=i,e.bottom=e.top+r,e.width=t,e.height=r}else e.bottom=e.top+e.height,e.right=e.left+e.width;return e}const c0={class:"mark-line"},f0={__name:"MarkLine",setup(e){const t=Rt(["xt","xc","xb","yl","yc","yr"]),n=pe(3),r=Rt({xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}),i=new Array(t.length).fill(),o=ot();function s(u,l){const d=o.componentData,y=Kn(o.curComponent.style),p=y.width/2,w=y.height/2;c(),d.forEach(v=>{if(v==o.curComponent)return;const b=Kn(v.style),{top:D,left:C,bottom:m,right:g}=b,E=b.width/2,F=b.height/2,_={top:[{isNearly:a(y.top,D),lineNode:i[0],line:"xt",dragShift:D,lineShift:D},{isNearly:a(y.bottom,D),lineNode:i[0],line:"xt",dragShift:D-y.height,lineShift:D},{isNearly:a(y.top+w,D+F),lineNode:i[1],line:"xc",dragShift:D+F-w,lineShift:D+F},{isNearly:a(y.top,m),lineNode:i[2],line:"xb",dragShift:m,lineShift:m},{isNearly:a(y.bottom,m),lineNode:i[2],line:"xb",dragShift:m-y.height,lineShift:m}],left:[{isNearly:a(y.left,C),lineNode:i[3],line:"yl",dragShift:C,lineShift:C},{isNearly:a(y.right,C),lineNode:i[3],line:"yl",dragShift:C-y.width,lineShift:C},{isNearly:a(y.left+p,C+E),lineNode:i[4],line:"yc",dragShift:C+E-p,lineShift:C+E},{isNearly:a(y.left,g),lineNode:i[5],line:"yr",dragShift:g,lineShift:g},{isNearly:a(y.right,g),lineNode:i[5],line:"yr",dragShift:g-y.width,lineShift:g}]},x=[],{rotate:$}=o.curComponent.style;Object.keys(_).forEach(M=>{_[M].forEach(H=>{H.isNearly&&(o.setShapeSingleStyle({key:M,value:$!=0?f(M,H,y):H.dragShift}),H.lineNode.style[M]=`${H.lineShift}px`,x.push(H.line))})}),x.length&&h(x,u,l)})}function c(){Object.keys(r).forEach(u=>{r[u]=!1})}function f(u,l,d){const{width:y,height:p}=o.curComponent.style;return u=="top"?Math.round(l.dragShift-(p-d.height)/2):Math.round(l.dragShift-(y-d.width)/2)}function h(u,l,d){d?u.includes("yr")?r.yr=!0:u.includes("yc")?r.yc=!0:u.includes("yl")&&(r.yl=!0):u.includes("yl")?r.yl=!0:u.includes("yc")?r.yc=!0:u.includes("yr")&&(r.yr=!0),l?u.includes("xb")?r.xb=!0:u.includes("xc")?r.xc=!0:u.includes("xt")&&(r.xt=!0):u.includes("xt")?r.xt=!0:u.includes("xc")?r.xc=!0:u.includes("xb")&&(r.xb=!0)}function a(u,l){return Math.abs(u-l)<=n.value}return Bt(()=>{Tn.on("move",(u,l)=>{s(u,l)}),Tn.on("unmove",()=>{c()})}),(u,l)=>(Be(),ke("div",c0,[(Be(!0),ke(Ct,null,mn(t,(d,y)=>dn((Be(),ke("div",{key:d,ref_for:!0,ref:p=>Ae(i)[y]=p,class:vt(["line",d.includes("x")?"xline":"yline"])},null,2)),[[hn,r[d]||!1]])),128))]))}},d0=yt(f0,[["__scopeId","data-v-6bf52baa"]]),h0={__name:"Area",props:{start:{type:Object,default:()=>({})},width:{type:Number,default:0},height:{type:Number,default:0}},setup(e){return(t,n)=>(Be(),ke("div",{style:ln({left:e.start.x+"px",top:e.start.y+"px",width:e.width+"px",height:e.height+"px"}),class:"area"},null,4))}},p0=yt(h0,[["__scopeId","data-v-cbe222fe"]]),v0={lt:m0,t:b0,rt:g0,r:w0,rb:D0,b:C0,lb:y0,l:E0};function m0(e,t,n,r,i){const{symmetricPoint:o}=i;let s=Tt(t,o),c=Fe(t,s,-e.rotate),f=Fe(o,s,-e.rotate),h=f.x-c.x,a=f.y-c.y;if(r){h/a>n?(c.x+=Math.abs(h-a*n),h=a*n):(c.y+=Math.abs(a-h/n),a=h/n);const u=Fe(c,s,e.rotate);s=Tt(u,o),c=Fe(u,s,-e.rotate),f=Fe(o,s,-e.rotate),h=f.x-c.x,a=f.y-c.y}h>0&&a>0&&(e.width=Math.round(h),e.height=Math.round(a),e.left=Math.round(c.x),e.top=Math.round(c.y))}function g0(e,t,n,r,i){const{symmetricPoint:o}=i;let s=Tt(t,o),c=Fe(t,s,-e.rotate),f=Fe(o,s,-e.rotate),h=c.x-f.x,a=f.y-c.y;if(r){h/a>n?(c.x-=Math.abs(h-a*n),h=a*n):(c.y+=Math.abs(a-h/n),a=h/n);const u=Fe(c,s,e.rotate);s=Tt(u,o),c=Fe(u,s,-e.rotate),f=Fe(o,s,-e.rotate),h=c.x-f.x,a=f.y-c.y}h>0&&a>0&&(e.width=Math.round(h),e.height=Math.round(a),e.left=Math.round(f.x),e.top=Math.round(c.y))}function D0(e,t,n,r,i){const{symmetricPoint:o}=i;let s=Tt(t,o),c=Fe(o,s,-e.rotate),f=Fe(t,s,-e.rotate),h=f.x-c.x,a=f.y-c.y;if(r){h/a>n?(f.x-=Math.abs(h-a*n),h=a*n):(f.y-=Math.abs(a-h/n),a=h/n);const u=Fe(f,s,e.rotate);s=Tt(u,o),c=Fe(o,s,-e.rotate),f=Fe(u,s,-e.rotate),h=f.x-c.x,a=f.y-c.y}h>0&&a>0&&(e.width=Math.round(h),e.height=Math.round(a),e.left=Math.round(c.x),e.top=Math.round(c.y))}function y0(e,t,n,r,i){const{symmetricPoint:o}=i;let s=Tt(t,o),c=Fe(o,s,-e.rotate),f=Fe(t,s,-e.rotate),h=c.x-f.x,a=f.y-c.y;if(r){h/a>n?(f.x+=Math.abs(h-a*n),h=a*n):(f.y-=Math.abs(a-h/n),a=h/n);const u=Fe(f,s,e.rotate);s=Tt(u,o),c=Fe(o,s,-e.rotate),f=Fe(u,s,-e.rotate),h=c.x-f.x,a=f.y-c.y}h>0&&a>0&&(e.width=Math.round(h),e.height=Math.round(a),e.left=Math.round(f.x),e.top=Math.round(c.y))}function b0(e,t,n,r,i){const{symmetricPoint:o,curPoint:s}=i,c=Fe(t,s,-e.rotate),f=Fe({x:s.x,y:c.y},s,e.rotate),h=Math.sqrt((f.x-o.x)**2+(f.y-o.y)**2),a={x:f.x-(f.x-o.x)/2,y:f.y+(o.y-f.y)/2};let u=e.width;r&&(u=h*n),e.width=u,e.height=Math.round(h),e.top=Math.round(a.y-h/2),e.left=Math.round(a.x-e.width/2)}function w0(e,t,n,r,i){const{symmetricPoint:o,curPoint:s}=i,c=Fe(t,s,-e.rotate),f=Fe({x:c.x,y:s.y},s,e.rotate),h=Math.sqrt((f.x-o.x)**2+(f.y-o.y)**2),a={x:f.x-(f.x-o.x)/2,y:f.y+(o.y-f.y)/2};let u=e.height;r&&(u=h/n),e.height=u,e.width=Math.round(h),e.top=Math.round(a.y-e.height/2),e.left=Math.round(a.x-h/2)}function C0(e,t,n,r,i){const{symmetricPoint:o,curPoint:s}=i,c=Fe(t,s,-e.rotate),f=Fe({x:s.x,y:c.y},s,e.rotate),h=Math.sqrt((f.x-o.x)**2+(f.y-o.y)**2),a={x:f.x-(f.x-o.x)/2,y:f.y+(o.y-f.y)/2};let u=e.width;r&&(u=h*n),e.width=u,e.height=Math.round(h),e.top=Math.round(a.y-h/2),e.left=Math.round(a.x-e.width/2)}function E0(e,t,n,r,i){const{symmetricPoint:o,curPoint:s}=i,c=Fe(t,s,-e.rotate),f=Fe({x:c.x,y:s.y},s,e.rotate),h=Math.sqrt((f.x-o.x)**2+(f.y-o.y)**2),a={x:f.x-(f.x-o.x)/2,y:f.y+(o.y-f.y)/2};let u=e.height;r&&(u=h/n),e.height=u,e.width=Math.round(h),e.top=Math.round(a.y-e.height/2),e.left=Math.round(a.x-h/2)}function A0(e,t,n,r,i,o){v0[e](t,n,r,i,o)}const F0={class:"iconfont icon-suo"},_0=["onMousedown"],S0={__name:"Shape",props:{active:{type:Boolean,default:!1},defaultStyle:{required:!0,type:Object,default:()=>{}},element:{required:!0,type:Object,default:()=>{}},index:{required:!0,type:[Number,String],default:0}},setup(e){const t=e,n=Rt(["lt","t","rt","r","rb","b","lb","l"]),r=Rt(["r","l"]),i=pe(null),o=Rt({lt:0,t:45,rt:90,r:135,rb:180,b:225,lb:270,l:315}),s=Rt([{start:338,end:23,cursor:"nw"},{start:23,end:68,cursor:"n"},{start:68,end:113,cursor:"ne"},{start:113,end:158,cursor:"e"},{start:158,end:203,cursor:"se"},{start:203,end:248,cursor:"s"},{start:248,end:293,cursor:"sw"},{start:293,end:338,cursor:"w"}]);let c=pe({});const f=Y(()=>t.active&&!t.element.isLock),h=Y(()=>t.element.component==="line-shape"?r:n),a=ot(),u=qn(),l=Dr();function d(C){C.stopPropagation(),C.preventDefault()}function y(C){if(C.stopPropagation(),a.setClickOutSideCompStatus(!0),a.setCurComponent({component:t.element,index:t.index}),t.element.isLock)return;c.value=b();const m={...t.defaultStyle},g=C.clientY,E=C.clientX,F=Number(m.top),_=Number(m.left);let x=!1;const $=H=>{x=!0;const W=H.clientX,z=H.clientY;m.top=z-g+F,m.left=W-E+_,a.setShapeStyle(m),pa(()=>{Tn.emit("move",z-g>0,W-E>0)})},M=()=>{x&&u.recordSnapshot(),Tn.emit("unmove"),document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",$),document.addEventListener("mouseup",M)}function p(C){a.setClickOutSideCompStatus(!0),C.preventDefault(),C.stopPropagation();const m={...t.defaultStyle},g=C.clientY,E=C.clientX,F=m.rotate,_=i.value.getBoundingClientRect(),x=_.left+_.width/2,$=_.top+_.height/2,M=Math.atan2(g-$,E-x)/(Math.PI/180);let H=!1;const W=I=>{H=!0;const X=I.clientX,j=I.clientY,U=Math.atan2(j-$,X-x)/(Math.PI/180);m.rotate=F+U-M,a.setShapeStyle(m)},z=()=>{H&&u.recordSnapshot(),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",z),c.value=b()};document.addEventListener("mousemove",W),document.addEventListener("mouseup",z)}function w(C){const{width:m,height:g}=t.defaultStyle,E=/t/.test(C),F=/b/.test(C),_=/l/.test(C),x=/r/.test(C);let $=0,M=0;return C.length===2?($=_?0:m,M=E?0:g):((E||F)&&($=Math.floor(m/2),M=E?0:g),(_||x)&&($=_?0:m,M=Math.floor(g/2))),{marginLeft:"-4px",marginTop:"-4px",left:`${$}px`,top:`${M}px`,cursor:c.value[C]}}function v(C,m){m.stopPropagation(),m.preventDefault(),a.setClickOutSideCompStatus(!0);const g={...t.defaultStyle},E=g.width/g.height,F={x:g.left+g.width/2,y:g.top+g.height/2},_=l.editor.getBoundingClientRect(),x=m.target.getBoundingClientRect(),$={x:Math.round(x.left-_.left+m.target.offsetWidth/2),y:Math.round(x.top-_.top+m.target.offsetHeight/2)},M={x:F.x-($.x-F.x),y:F.y-($.y-F.y)};let H=!1,W=!0;const z=D(),I=j=>{if(W){W=!1;return}H=!0;const U={x:j.clientX-Math.round(_.left),y:j.clientY-Math.round(_.top)};A0(C,g,U,E,z,{center:F,curPoint:$,symmetricPoint:M}),a.setShapeStyle(g)},X=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",X),H&&u.recordSnapshot()};document.addEventListener("mousemove",I),document.addEventListener("mouseup",X)}function b(){const C=Ii(a.curComponent.style.rotate),m={};let g=-1;return n.forEach(E=>{const F=Ii(o[E]+C),_=s.length;for(;;){g=(g+1)%_;const x=s[g];if(F<23||F>=338){m[E]="nw-resize";return}if(x.start<=F&&F<x.end){m[E]=x.cursor+"-resize";return}}}),m}function D(){if(t.element.component!="Group")return!1}return Bt(()=>{a.curComponent&&(c.value=b())}),(C,m)=>(Be(),ke("div",{ref_key:"rootRef",ref:i,class:vt(["shape",{active:e.active}]),onClick:d,onMousedown:y},[dn(rt("span",{class:"iconfont icon-xiangyouxuanzhuan",onMousedown:p},null,544),[[hn,f.value]]),dn(rt("span",F0,null,512),[[hn,e.element.isLock]]),(Be(!0),ke(Ct,null,mn(f.value?h.value:[],g=>(Be(),ke("div",{key:g,class:"shape-point",style:ln(w(g)),onMousedown:E=>v(g,E)},null,44,_0))),128)),ha(C.$slots,"default",{},void 0,!0)],34))}},$0=yt(S0,[["__scopeId","data-v-3d5f3542"]]),x0={__name:"index",props:{isEdit:{type:Boolean,default:!0}},setup(e){const t=pe(!1),n=pe(0),r=pe(0),i=pe(0),o=pe(0),s=Rt({x:0,y:0}),c=["width","height","top","left","rotate"],f=ot(),h=Dr();function a(){}function u(){t.value=!1,n.value=0,r.value=0,h.setAreaData({style:{left:0,top:0,width:0,height:0},components:[]})}function l(){const w=[],{x:v,y:b}=s,{value:D}=n,{value:C}=r;return f.componentData.forEach(m=>{if(m.isLock)return;const{left:g,top:E,width:F,height:_}=Kn(m.style);v<=g&&b<=E&&g+F<=v+D&&E+_<=b+C&&w.push(m)}),w}function d(){const w=l();if(w.length<=1){u();return}let v=1/0,b=1/0,D=-1/0,C=-1/0;w.forEach(m=>{let g={};g=Kn(m.style),g.left<b&&(b=g.left),g.top<v&&(v=g.top),g.right>D&&(D=g.right),g.bottom>C&&(C=g.bottom)}),s.x=b,s.y=v,n.value=D-b,r.value=C-v,h.setAreaData({style:{left:b,top:v,width:n.value,height:r.value},components:w})}function y(w){f.curComponent||w.preventDefault(),u();const v=h.editor.getBoundingClientRect();i.value=v.x,o.value=v.y;const b=w.clientX,D=w.clientY;s.x=b-i.value,s.y=D-o.value,t.value=!0;const C=g=>{n.value=Math.abs(g.clientX-b),r.value=Math.abs(g.clientY-D),g.clientX<b&&(s.x=g.clientX-i.value),g.clientY<D&&(s.y=g.clientY-o.value)},m=g=>{if(document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",m),g.clientX==b&&g.clientY==D){u();return}d()};document.addEventListener("mousemove",C),document.addEventListener("mouseup",m)}function p(w){return l0(w,c)}return Bt(()=>{h.setEditor()}),(w,v)=>(Be(),ke("div",{id:"editor",class:vt(["editor",{edit:e.isEdit}]),style:ln({...Ae(a0)(Ae(f).canvasStyleData),width:Ae(Bi)(Ae(f).canvasStyleData.width,Ae(f).canvasStyleData.scale)+"px",height:Ae(Bi)(Ae(f).canvasStyleData.height,Ae(f).canvasStyleData.scale)+"px"}),onContextmenu:a,onMousedown:y},[R(ll),(Be(!0),ke(Ct,null,mn(Ae(f).componentData,(b,D)=>(Be(),$n($0,{key:b.id,element:b,style:ln(Ae(o0)(b.style)),"default-style":b.style,index:D,class:vt({lock:b.isLock}),active:b.id===(Ae(f).curComponent||{}).id},{default:nt(()=>[(Be(),$n(Ui(b.component),{id:`component-${b.id}`,class:"component",style:ln(p(b.style)),prototies:b.propValue,element:b,request:b.request},null,8,["id","style","prototies","element","request"]))]),_:2},1032,["element","style","default-style","index","class","active"]))),128)),R(dl),R(d0),dn(R(p0,{start:s,width:n.value,height:r.value},null,8,["start","width","height"]),[[hn,t.value]])],38))}},M0=yt(x0,[["__scopeId","data-v-6272b2bb"]]),B0=["width","height","fontSize"];function N0(e){const t=ot();Object.keys(e.style).forEach(n=>{if(B0.includes(n)){if(n==="fontSize"&&e.style[n]==="")return;e.style[n]=T0(e.style[n],t.canvasStyleData.scale)}})}function T0(e,t){return Dn(e,ou(parseFloat(t),100))}const I0={class:"middle"},P0={__name:"HomeView",setup(e){const t=pe(!1),n=pe(!0),r=pe(!0),i=pe("attr"),o=ot(),s=qn(),c=Dr(),f=l=>{l.preventDefault(),l.stopPropagation();const d=l.dataTransfer.getData("index"),y=c.editor.getBoundingClientRect();if(console.log("🚀 ~ handleDrop ~ e:",l.target),console.log("🚀 ~ handleDrop ~ e:",d),d){const p=An(fn[d]);p.style.top=l.clientY-y.y,p.style.left=l.clientX-y.x,p.id=Gs(),N0(p),o.addComp(p),s.recordSnapshot(),l.dataTransfer.clearData()}},h=l=>{l.preventDefault(),l.stopPropagation(),l.dataTransfer.dropEffect="copy"},a=l=>{l.stopPropagation(),o.setClickOutSideCompStatus(!1)},u=()=>{o.clickOutSideComponent||o.setCurComponent({component:null,index:null})};return(l,d)=>{const y=Nn,p=cn;return Be(),ke("div",{class:vt(t.value?"home dark":"home")},[R(ks),rt("main",null,[rt("section",{class:vt(n.value?"left active":"left inactive")},[R(Vs),R(rl)],2),rt("section",I0,[rt("div",{class:"middle-content",onDrop:f,onDragover:h,onMousedown:a,onMouseup:u},[R(M0)],32)]),rt("section",{class:vt(r.value?"right active":"right inactive")},[Ae(o).curComponent?(Be(),$n(p,{key:0,activeKey:i.value,"onUpdate:activeKey":d[0]||(d[0]=w=>i.value=w)},{default:nt(()=>[R(y,{tab:"属性",key:"attr"},{default:nt(()=>[(Be(),$n(Ui(Ae(o).curComponent.component+"Attr")))]),_:1}),R(y,{tab:"动画",key:"animation",style:{"padding-top":"20px"}}),R(y,{tab:"事件",key:"events",style:{"padding-top":"20px"}})]),_:1},8,["activeKey"])):va("",!0)],2)])],2)}}},L0=yt(P0,[["__scopeId","data-v-f2cfa6cb"]]);export{L0 as default};
