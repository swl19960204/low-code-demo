import{l as _r,V as Bi,B as Pu,aP as Ou,aQ as Ru,q as zu,D as Lu,W as ku,aR as Vn,aS as Ni,M as Ku,U as Hu,Q as qu,N as Wu,P as Te,a as ye,c as ot,T as Ti,b as jt,aT as Vu,A as Ii,_ as J,at as Rt,f as ar,O as sn,av as Uu,aI as _t,K as lt,e as sr,w as St,az as Xu,aU as Sr,aV as Pi,aW as ju,a5 as Oi,aa as Ri,a8 as Yn,aX as $r,ao as Gu,a7 as En,aY as Zu,an as xr,a6 as lr,a9 as Yu,ac as zi,as as Ju,h as Je,al as st,R as Mr,aZ as un,a_ as Li,i as ki,o as Qu,aj as gn,ai as ea,ak as ta,a$ as na,b0 as ra,d as ia,u as Br,C as oa,aO as en,aC as Ki,aM as ua}from"./core-CR_wNk74.js";import{d as Xe,r as ve,b as Ve,c as Z,a as k,F as xt,i as Tt,p as kt,m as Nr,u as Tr,s as Ee,f as Lt,v as Hi,T as aa,w as Rn,x as zn,o as Mt,j as zt,K as sa,z as He,A as la,L as qi,B as ze,C as Qe,D as ct,e as vt,I as Et,E as Ln,J as Dt,M as ca,h as Ot,N as bn,O as fa,n as da,G as An,P as Wi,Q as ha}from"./index-B5P5x2zu.js";import{_ as yt}from"./_plugin-vue_export-helper-DlAUqK2U.js";function pa(){}function va(e,t,n,i){if(!_r(e))return e;t=Bi(t,e);for(var r=-1,o=t.length,s=o-1,c=e;c!=null&&++r<o;){var f=Pu(t[r]),h=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(r!=s){var a=c[f];h=i?i(a,f,c):void 0,h===void 0&&(h=_r(a)?a:Ou(t[r+1])?[]:{})}Ru(c,f,h),c=c[f]}return e}function ma(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],c=zu(e,s);n(c,s)&&va(o,Bi(s,e),c)}return o}function ga(e,t){return ma(e,t,function(n,i){return Lu(e,i)})}var Vi=ku(function(e,t){return e==null?{}:ga(e,t)}),Da=1/0,ya=Vn&&1/Ni(new Vn([,-0]))[1]==Da?function(e){return new Vn(e)}:pa,ba=200;function wa(e,t,n){var i=-1,r=Hu,o=e.length,s=!0,c=[],f=c;if(n)s=!1,r=qu;else if(o>=ba){var h=t?null:ya(e);if(h)return Ni(h);s=!1,r=Wu,f=new Ku}else f=t?[]:c;e:for(;++i<o;){var a=e[i],u=t?t(a):a;if(a=n||a!==0?a:0,s&&u===u){for(var l=f.length;l--;)if(f[l]===u)continue e;t&&f.push(u),c.push(a)}else r(f,u,n)||(f!==c&&f.push(u),c.push(a))}return c}function Un(e){return e&&e.length?wa(e):[]}const Kt={adjustX:1,adjustY:1},Ht=[0,0],Ca={topLeft:{points:["bl","tl"],overflow:Kt,offset:[0,-4],targetOffset:Ht},topCenter:{points:["bc","tc"],overflow:Kt,offset:[0,-4],targetOffset:Ht},topRight:{points:["br","tr"],overflow:Kt,offset:[0,-4],targetOffset:Ht},bottomLeft:{points:["tl","bl"],overflow:Kt,offset:[0,4],targetOffset:Ht},bottomCenter:{points:["tc","bc"],overflow:Kt,offset:[0,4],targetOffset:Ht},bottomRight:{points:["tr","br"],overflow:Kt,offset:[0,4],targetOffset:Ht}},Ea=Ca;var Aa=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};const Fa=Xe({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:Te.string.def("rc-dropdown"),transitionName:String,overlayClassName:Te.string.def(""),openClassName:String,animation:Te.any,align:Te.object,overlayStyle:{type:Object,default:void 0},placement:Te.string.def("bottomLeft"),overlay:Te.any,trigger:Te.oneOfType([Te.string,Te.arrayOf(Te.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:Te.array,hideAction:Te.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:Te.number.def(.15),mouseLeaveDelay:Te.number.def(.1)},emits:["visibleChange","overlayClick"],setup(e,t){let{slots:n,emit:i,expose:r}=t;const o=ve(!!e.visible);Ve(()=>e.visible,d=>{d!==void 0&&(o.value=d)});const s=ve();r({triggerRef:s});const c=d=>{e.visible===void 0&&(o.value=!1),i("overlayClick",d)},f=d=>{e.visible===void 0&&(o.value=d),i("visibleChange",d)},h=()=>{var d;const D=(d=n.overlay)===null||d===void 0?void 0:d.call(n),p={prefixCls:`${e.prefixCls}-menu`,onClick:c};return k(xt,{key:Vu},[e.arrow&&k("div",{class:`${e.prefixCls}-arrow`},null),jt(D,p,!1)])},a=Z(()=>{const{minOverlayWidthMatchTrigger:d=!e.alignPoint}=e;return d}),u=()=>{var d;const D=(d=n.default)===null||d===void 0?void 0:d.call(n);return o.value&&D?jt(D[0],{class:e.openClassName||`${e.prefixCls}-open`},!1):D},l=Z(()=>!e.hideAction&&e.trigger.indexOf("contextmenu")!==-1?["click"]:e.hideAction);return()=>{const{prefixCls:d,arrow:D,showAction:p,overlayStyle:b,trigger:v,placement:w,align:y,getPopupContainer:C,transitionName:m,animation:g,overlayClassName:A}=e,F=Aa(e,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return k(Ti,ye(ye({},F),{},{prefixCls:d,ref:s,popupClassName:ot(A,{[`${d}-show-arrow`]:D}),popupStyle:b,builtinPlacements:Ea,action:v,showAction:p,hideAction:l.value||[],popupPlacement:w,popupAlign:y,popupTransitionName:m,popupAnimation:g,popupVisible:o.value,stretch:a.value?"minWidth":"",onPopupVisibleChange:f,getPopupContainer:C}),{popup:h,default:u})}}});var _a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const Sa=_a;function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){$a(e,r,n[r])})}return e}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cr=function(t,n){var i=Ir({},t,n.attrs);return k(Ii,Ir({},i,{icon:Sa}),null)};cr.displayName="EllipsisOutlined";cr.inheritAttrs=!1;const Ui=cr,Xi=Symbol("OverrideContextKey"),ji=()=>Tt(Xi,void 0),xa=e=>{var t,n,i;const{prefixCls:r,mode:o,selectable:s,validator:c,onClick:f,expandIcon:h}=ji()||{};kt(Xi,{prefixCls:Z(()=>{var a,u;return(u=(a=e.prefixCls)===null||a===void 0?void 0:a.value)!==null&&u!==void 0?u:r==null?void 0:r.value}),mode:Z(()=>{var a,u;return(u=(a=e.mode)===null||a===void 0?void 0:a.value)!==null&&u!==void 0?u:o==null?void 0:o.value}),selectable:Z(()=>{var a,u;return(u=(a=e.selectable)===null||a===void 0?void 0:a.value)!==null&&u!==void 0?u:s==null?void 0:s.value}),validator:(t=e.validator)!==null&&t!==void 0?t:c,onClick:(n=e.onClick)!==null&&n!==void 0?n:f,expandIcon:(i=e.expandIcon)!==null&&i!==void 0?i:h==null?void 0:h.value})};function Ma(e,t,n,i){let r=n?n.call(i,e,t):void 0;if(r!==void 0)return!!r;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const c=Object.prototype.hasOwnProperty.bind(t);for(let f=0;f<o.length;f++){const h=o[f];if(!c(h))return!1;const a=e[h],u=t[h];if(r=n?n.call(i,a,u,h):void 0,r===!1||r===void 0&&a!==u)return!1}return!0}function an(e,t){return Ma(Nr(e),Nr(t))}const Gi=Symbol("menuContextKey"),Zi=e=>{kt(Gi,e)},bt=()=>Tt(Gi),Yi=Symbol("ForceRenderKey"),Ba=e=>{kt(Yi,e)},Ji=()=>Tt(Yi,!1),Qi=Symbol("menuFirstLevelContextKey"),eo=e=>{kt(Qi,e)},Na=()=>Tt(Qi,!0),Fn=Xe({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(e,t){let{slots:n}=t;const i=bt(),r=J({},i);return e.mode!==void 0&&(r.mode=Tr(e,"mode")),e.overflowDisabled!==void 0&&(r.overflowDisabled=Tr(e,"overflowDisabled")),Zi(r),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),Ta=Zi,Ia=Symbol("siderCollapsed"),Dn="$$__vc-menu-more__key",to=Symbol("KeyPathContext"),fr=()=>Tt(to,{parentEventKeys:Z(()=>[]),parentKeys:Z(()=>[]),parentInfo:{}}),Pa=(e,t,n)=>{const{parentEventKeys:i,parentKeys:r}=fr(),o=Z(()=>[...i.value,e]),s=Z(()=>[...r.value,t]);return kt(to,{parentEventKeys:o,parentKeys:s,parentInfo:n}),s},no=Symbol("measure"),Pr=Xe({compatConfig:{MODE:3},setup(e,t){let{slots:n}=t;return kt(no,!0),()=>{var i;return(i=n.default)===null||i===void 0?void 0:i.call(n)}}}),dr=()=>Tt(no,!1),Oa=Pa;function ro(e){const{mode:t,rtl:n,inlineIndent:i}=bt();return Z(()=>t.value!=="inline"?null:n.value?{paddingRight:`${e.value*i.value}px`}:{paddingLeft:`${e.value*i.value}px`})}let Ra=0;const za=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:Te.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:_t()}),Gt=Xe({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:za(),slots:Object,setup(e,t){let{slots:n,emit:i,attrs:r}=t;const o=Hi(),s=dr(),c=typeof o.vnode.key=="symbol"?String(o.vnode.key):o.vnode.key;Rt(typeof o.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(c)}"\` not support Symbol type`);const f=`menu_item_${++Ra}_$$_${c}`,{parentEventKeys:h,parentKeys:a}=fr(),{prefixCls:u,activeKeys:l,disabled:d,changeActiveKeys:D,rtl:p,inlineCollapsed:b,siderCollapsed:v,onItemClick:w,selectedKeys:y,registerMenuInfo:C,unRegisterMenuInfo:m}=bt(),g=Na(),A=Ee(!1),F=Z(()=>[...a.value,c]);C(f,{eventKey:f,key:c,parentEventKeys:h,parentKeys:a,isLeaf:!0}),Lt(()=>{m(f)}),Ve(l,()=>{A.value=!!l.value.find(j=>j===c)},{immediate:!0});const x=Z(()=>d.value||e.disabled),$=Z(()=>y.value.includes(c)),M=Z(()=>{const j=`${u.value}-item`;return{[`${j}`]:!0,[`${j}-danger`]:e.danger,[`${j}-active`]:A.value,[`${j}-selected`]:$.value,[`${j}-disabled`]:x.value}}),H=j=>({key:c,eventKey:f,keyPath:F.value,eventKeyPath:[...h.value,f],domEvent:j,item:J(J({},e),r)}),W=j=>{if(x.value)return;const te=H(j);i("click",j),w(te)},R=j=>{x.value||(D(F.value),i("mouseenter",j))},I=j=>{x.value||(D([]),i("mouseleave",j))},X=j=>{if(i("keydown",j),j.which===lt.ENTER){const te=H(j);i("click",j),w(te)}},G=j=>{D(F.value),i("focus",j)},U=(j,te)=>{const ue=k("span",{class:`${u.value}-title-content`},[te]);return(!j||sr(te)&&te.type==="span")&&te&&b.value&&g&&typeof te=="string"?k("div",{class:`${u.value}-inline-collapsed-noicon`},[te.charAt(0)]):ue},ne=ro(Z(()=>F.value.length));return()=>{var j,te,ue,me,ge;if(s)return null;const K=(j=e.title)!==null&&j!==void 0?j:(te=n.title)===null||te===void 0?void 0:te.call(n),Y=ar((ue=n.default)===null||ue===void 0?void 0:ue.call(n)),se=Y.length;let re=K;typeof K>"u"?re=g&&se?Y:"":K===!1&&(re="");const ie={title:re};!v.value&&!b.value&&(ie.title=null,ie.open=!1);const be={};e.role==="option"&&(be["aria-selected"]=$.value);const he=(me=e.icon)!==null&&me!==void 0?me:(ge=n.icon)===null||ge===void 0?void 0:ge.call(n,e);return k(Uu,ye(ye({},ie),{},{placement:p.value?"left":"right",overlayClassName:`${u.value}-inline-collapsed-tooltip`}),{default:()=>[k(sn.Item,ye(ye(ye({component:"li"},r),{},{id:e.id,style:J(J({},r.style||{}),ne.value),class:[M.value,{[`${r.class}`]:!!r.class,[`${u.value}-item-only-child`]:(he?se+1:se)===1}],role:e.role||"menuitem",tabindex:e.disabled?null:-1,"data-menu-id":c,"aria-disabled":e.disabled},be),{},{onMouseenter:R,onMouseleave:I,onClick:W,onKeydown:X,onFocus:G,title:typeof K=="string"?K:void 0}),{default:()=>[jt(typeof he=="function"?he(e.originItemValue):he,{class:`${u.value}-item-icon`},!1),U(he,Y)]})]})}}}),At={adjustX:1,adjustY:1},La={topLeft:{points:["bl","tl"],overflow:At,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:At,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:At,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:At,offset:[4,0]}},ka={topLeft:{points:["bl","tl"],overflow:At,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:At,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:At,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:At,offset:[4,0]}},Ka={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},Or=Xe({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(e,t){let{slots:n,emit:i}=t;const r=Ee(!1),{getPopupContainer:o,rtl:s,subMenuOpenDelay:c,subMenuCloseDelay:f,builtinPlacements:h,triggerSubMenuAction:a,forceSubMenuRender:u,motion:l,defaultMotions:d,rootClassName:D}=bt(),p=Ji(),b=Z(()=>s.value?J(J({},ka),h.value):J(J({},La),h.value)),v=Z(()=>Ka[e.mode]),w=Ee();Ve(()=>e.visible,m=>{St.cancel(w.value),w.value=St(()=>{r.value=m})},{immediate:!0}),Lt(()=>{St.cancel(w.value)});const y=m=>{i("visibleChange",m)},C=Z(()=>{var m,g;const A=l.value||((m=d.value)===null||m===void 0?void 0:m[e.mode])||((g=d.value)===null||g===void 0?void 0:g.other),F=typeof A=="function"?A():A;return F?Xu(F.name,{css:!0}):void 0});return()=>{const{prefixCls:m,popupClassName:g,mode:A,popupOffset:F,disabled:_}=e;return k(Ti,{prefixCls:m,popupClassName:ot(`${m}-popup`,{[`${m}-rtl`]:s.value},g,D.value),stretch:A==="horizontal"?"minWidth":null,getPopupContainer:o.value,builtinPlacements:b.value,popupPlacement:v.value,popupVisible:r.value,popupAlign:F&&{offset:F},action:_?[]:[a.value],mouseEnterDelay:c.value,mouseLeaveDelay:f.value,onPopupVisibleChange:y,forceRender:p||u.value,popupAnimation:C.value},{popup:n.popup,default:n.default})}}}),io=(e,t)=>{let{slots:n,attrs:i}=t;var r;const{prefixCls:o,mode:s}=bt();return k("ul",ye(ye({},i),{},{class:ot(o.value,`${o.value}-sub`,`${o.value}-${s.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(r=n.default)===null||r===void 0?void 0:r.call(n)])};io.displayName="SubMenuList";const oo=io,Ha=Xe({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(e,t){let{slots:n}=t;const i=Z(()=>"inline"),{motion:r,mode:o,defaultMotions:s}=bt(),c=Z(()=>o.value===i.value),f=ve(!c.value),h=Z(()=>c.value?e.open:!1);Ve(o,()=>{c.value&&(f.value=!1)},{flush:"post"});const a=Z(()=>{var u,l;const d=r.value||((u=s.value)===null||u===void 0?void 0:u[i.value])||((l=s.value)===null||l===void 0?void 0:l.other),D=typeof d=="function"?d():d;return J(J({},D),{appear:e.keyPath.length<=1})});return()=>{var u;return f.value?null:k(Fn,{mode:i.value},{default:()=>[k(aa,a.value,{default:()=>[Rn(k(oo,{id:e.id},{default:()=>[(u=n.default)===null||u===void 0?void 0:u.call(n)]}),[[zn,h.value]])]})]})}}});let Rr=0;const qa=()=>({icon:Te.any,title:Te.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:_t()}),Zt=Xe({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:qa(),slots:Object,setup(e,t){let{slots:n,attrs:i,emit:r}=t;var o,s;eo(!1);const c=dr(),f=Hi(),h=typeof f.vnode.key=="symbol"?String(f.vnode.key):f.vnode.key;Rt(typeof f.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(h)}"\` not support Symbol type`);const a=Sr(h)?h:`sub_menu_${++Rr}_$$_not_set_key`,u=(o=e.eventKey)!==null&&o!==void 0?o:Sr(h)?`sub_menu_${++Rr}_$$_${h}`:a,{parentEventKeys:l,parentInfo:d,parentKeys:D}=fr(),p=Z(()=>[...D.value,a]),b=Ee([]),v={eventKey:u,key:a,parentEventKeys:l,childrenEventKeys:b,parentKeys:D};(s=d.childrenEventKeys)===null||s===void 0||s.value.push(u),Lt(()=>{var Q;d.childrenEventKeys&&(d.childrenEventKeys.value=(Q=d.childrenEventKeys)===null||Q===void 0?void 0:Q.value.filter(de=>de!=u))}),Oa(u,a,v);const{prefixCls:w,activeKeys:y,disabled:C,changeActiveKeys:m,mode:g,inlineCollapsed:A,openKeys:F,overflowDisabled:_,onOpenChange:x,registerMenuInfo:$,unRegisterMenuInfo:M,selectedSubMenuKeys:H,expandIcon:W,theme:R}=bt(),I=h!=null,X=!c&&(Ji()||!I);Ba(X),(c&&I||!c&&!I||X)&&($(u,v),Lt(()=>{M(u)}));const G=Z(()=>`${w.value}-submenu`),U=Z(()=>C.value||e.disabled),ne=Ee(),j=Ee(),te=Z(()=>F.value.includes(a)),ue=Z(()=>!_.value&&te.value),me=Z(()=>H.value.includes(a)),ge=Ee(!1);Ve(y,()=>{ge.value=!!y.value.find(Q=>Q===a)},{immediate:!0});const K=Q=>{U.value||(r("titleClick",Q,a),g.value==="inline"&&x(a,!te.value))},Y=Q=>{U.value||(m(p.value),r("mouseenter",Q))},se=Q=>{U.value||(m([]),r("mouseleave",Q))},re=ro(Z(()=>p.value.length)),ie=Q=>{g.value!=="inline"&&x(a,Q)},be=()=>{m(p.value)},he=u&&`${u}-popup`,ce=Z(()=>ot(w.value,`${w.value}-${e.theme||R.value}`,e.popupClassName)),_e=(Q,de)=>{if(!de)return A.value&&!D.value.length&&Q&&typeof Q=="string"?k("div",{class:`${w.value}-inline-collapsed-noicon`},[Q.charAt(0)]):k("span",{class:`${w.value}-title-content`},[Q]);const Se=sr(Q)&&Q.type==="span";return k(xt,null,[jt(typeof de=="function"?de(e.originItemValue):de,{class:`${w.value}-item-icon`},!1),Se?Q:k("span",{class:`${w.value}-title-content`},[Q])])},ke=Z(()=>g.value!=="inline"&&p.value.length>1?"vertical":g.value),tt=Z(()=>g.value==="horizontal"?"vertical":g.value),fe=Z(()=>ke.value==="horizontal"?"vertical":ke.value),ae=()=>{var Q,de;const Se=G.value,Ie=(Q=e.icon)!==null&&Q!==void 0?Q:(de=n.icon)===null||de===void 0?void 0:de.call(n,e),E=e.expandIcon||n.expandIcon||W.value,S=_e(Pi(n,e,"title"),Ie);return k("div",{style:re.value,class:`${Se}-title`,tabindex:U.value?null:-1,ref:ne,title:typeof S=="string"?S:null,"data-menu-id":a,"aria-expanded":ue.value,"aria-haspopup":!0,"aria-controls":he,"aria-disabled":U.value,onClick:K,onFocus:be},[S,g.value!=="horizontal"&&E?E(J(J({},e),{isOpen:ue.value})):k("i",{class:`${Se}-arrow`},null)])};return()=>{var Q;if(c)return I?(Q=n.default)===null||Q===void 0?void 0:Q.call(n):null;const de=G.value;let Se=()=>null;if(!_.value&&g.value!=="inline"){const Ie=g.value==="horizontal"?[0,8]:[10,0];Se=()=>k(Or,{mode:ke.value,prefixCls:de,visible:!e.internalPopupClose&&ue.value,popupClassName:ce.value,popupOffset:e.popupOffset||Ie,disabled:U.value,onVisibleChange:ie},{default:()=>[ae()],popup:()=>k(Fn,{mode:fe.value},{default:()=>[k(oo,{id:he,ref:j},{default:n.default})]})})}else Se=()=>k(Or,null,{default:ae});return k(Fn,{mode:tt.value},{default:()=>[k(sn.Item,ye(ye({component:"li"},i),{},{role:"none",class:ot(de,`${de}-${g.value}`,i.class,{[`${de}-open`]:ue.value,[`${de}-active`]:ge.value,[`${de}-selected`]:me.value,[`${de}-disabled`]:U.value}),onMouseenter:Y,onMouseleave:se,"data-submenu-id":a}),{default:()=>k(xt,null,[Se(),!_.value&&k(Ha,{id:he,open:ue.value,keyPath:p.value},{default:n.default})])})]})}}}),Wa=()=>({title:Te.any,originItemValue:_t()}),_n=Xe({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:Wa(),slots:Object,setup(e,t){let{slots:n,attrs:i}=t;const{prefixCls:r}=bt(),o=Z(()=>`${r.value}-item-group`),s=dr();return()=>{var c,f;return s?(c=n.default)===null||c===void 0?void 0:c.call(n):k("li",ye(ye({},i),{},{onClick:h=>h.stopPropagation(),class:o.value}),[k("div",{title:typeof e.title=="string"?e.title:void 0,class:`${o.value}-title`},[Pi(n,e,"title")]),k("ul",{class:`${o.value}-list`},[(f=n.default)===null||f===void 0?void 0:f.call(n)])])}}}),Va=()=>({prefixCls:String,dashed:Boolean}),Sn=Xe({compatConfig:{MODE:3},name:"AMenuDivider",props:Va(),setup(e){const{prefixCls:t}=bt(),n=Z(()=>({[`${t.value}-item-divider`]:!0,[`${t.value}-item-divider-dashed`]:!!e.dashed}));return()=>k("li",{class:n.value},null)}});var Ua=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n};function Jn(e,t,n){return(e||[]).map((i,r)=>{if(i&&typeof i=="object"){const o=i,{label:s,children:c,key:f,type:h}=o,a=Ua(o,["label","children","key","type"]),u=f??`tmp-${r}`,l=n?n.parentKeys.slice():[],d=[],D={eventKey:u,key:u,parentEventKeys:ve(l),parentKeys:ve(l),childrenEventKeys:ve(d),isLeaf:!1};if(c||h==="group"){if(h==="group"){const b=Jn(c,t,n);return k(_n,ye(ye({key:u},a),{},{title:s,originItemValue:i}),{default:()=>[b]})}t.set(u,D),n&&n.childrenEventKeys.push(u);const p=Jn(c,t,{childrenEventKeys:d,parentKeys:[].concat(l,u)});return k(Zt,ye(ye({key:u},a),{},{title:s,originItemValue:i}),{default:()=>[p]})}return h==="divider"?k(Sn,ye({key:u},a),null):(D.isLeaf=!0,t.set(u,D),k(Gt,ye(ye({key:u},a),{},{originItemValue:i}),{default:()=>[s]}))}return null}).filter(i=>i)}function Xa(e){const t=Ee([]),n=Ee(!1),i=Ee(new Map);return Ve(()=>e.items,()=>{const r=new Map;n.value=!1,e.items?(n.value=!0,t.value=Jn(e.items,r)):t.value=void 0,i.value=r},{immediate:!0,deep:!0}),{itemsNodes:t,store:i,hasItmes:n}}const ja=e=>{const{componentCls:t,motionDurationSlow:n,menuHorizontalHeight:i,colorSplit:r,lineWidth:o,lineType:s,menuItemPaddingInline:c}=e;return{[`${t}-horizontal`]:{lineHeight:`${i}px`,border:0,borderBottom:`${o}px ${s} ${r}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:c},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Ga=ja,Za=e=>{let{componentCls:t,menuArrowOffset:n}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${n})`},"&::after":{transform:`rotate(45deg) translateY(${n})`}}}}},Ya=Za,zr=e=>J({},ju(e)),Ja=(e,t)=>{const{componentCls:n,colorItemText:i,colorItemTextSelected:r,colorGroupTitle:o,colorItemBg:s,colorSubItemBg:c,colorItemBgSelected:f,colorActiveBarHeight:h,colorActiveBarWidth:a,colorActiveBarBorderSize:u,motionDurationSlow:l,motionEaseInOut:d,motionEaseOut:D,menuItemPaddingInline:p,motionDurationMid:b,colorItemTextHover:v,lineType:w,colorSplit:y,colorItemTextDisabled:C,colorDangerItemText:m,colorDangerItemTextHover:g,colorDangerItemTextSelected:A,colorDangerItemBgActive:F,colorDangerItemBgSelected:_,colorItemBgHover:x,menuSubMenuBg:$,colorItemTextSelectedHorizontal:M,colorItemBgSelectedHorizontal:H}=e;return{[`${n}-${t}`]:{color:i,background:s,[`&${n}-root:focus-visible`]:J({},zr(e)),[`${n}-item-group-title`]:{color:o},[`${n}-submenu-selected`]:{[`> ${n}-submenu-title`]:{color:r}},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${C} !important`},[`${n}-item:hover, ${n}-submenu-title:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:v}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:x},"&:active":{backgroundColor:f}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:x},"&:active":{backgroundColor:f}}},[`${n}-item-danger`]:{color:m,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:g}},[`&${n}-item:active`]:{background:F}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:r,[`&${n}-item-danger`]:{color:A},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:f,[`&${n}-item-danger`]:{backgroundColor:_}},[`${n}-item, ${n}-submenu-title`]:{[`&:not(${n}-item-disabled):focus-visible`]:J({},zr(e))},[`&${n}-submenu > ${n}`]:{backgroundColor:$},[`&${n}-popup > ${n}`]:{backgroundColor:s},[`&${n}-horizontal`]:J(J({},t==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:u,marginTop:-u,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:p,bottom:0,borderBottom:`${h}px solid transparent`,transition:`border-color ${l} ${d}`,content:'""'},"&:hover, &-active, &-open":{"&::after":{borderBottomWidth:h,borderBottomColor:M}},"&-selected":{color:M,backgroundColor:H,"&::after":{borderBottomWidth:h,borderBottomColor:M}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${u}px ${w} ${y}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:c},[`${n}-item, ${n}-submenu-title`]:u&&a?{width:`calc(100% + ${u}px)`}:{},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${a}px solid ${r}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${b} ${D}`,`opacity ${b} ${D}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:A}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${b} ${d}`,`opacity ${b} ${d}`].join(",")}}}}}},Lr=Ja,kr=e=>{const{componentCls:t,menuItemHeight:n,itemMarginInline:i,padding:r,menuArrowSize:o,marginXS:s,marginXXS:c}=e,f=r+o+s;return{[`${t}-item`]:{position:"relative"},[`${t}-item, ${t}-submenu-title`]:{height:n,lineHeight:`${n}px`,paddingInline:r,overflow:"hidden",textOverflow:"ellipsis",marginInline:i,marginBlock:c,width:`calc(100% - ${i*2}px)`},[`${t}-submenu`]:{paddingBottom:.02},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:n,lineHeight:`${n}px`},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:f}}},Qa=e=>{const{componentCls:t,iconCls:n,menuItemHeight:i,colorTextLightSolid:r,dropdownWidth:o,controlHeightLG:s,motionDurationMid:c,motionEaseOut:f,paddingXL:h,fontSizeSM:a,fontSizeLG:u,motionDurationSlow:l,paddingXS:d,boxShadowSecondary:D}=e,p={height:i,lineHeight:`${i}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":J({[`&${t}-root`]:{boxShadow:"none"}},kr(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:J(J({},kr(e)),{boxShadow:D})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${s*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${l}`,`background ${l}`,`padding ${c} ${f}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:p,[`& ${t}-item-group-title`]:{paddingInlineStart:h}},[`${t}-item`]:p}},{[`${t}-inline-collapsed`]:{width:i*2,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:u,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${a}px)`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${n}`]:{margin:0,fontSize:u,lineHeight:`${i}px`,"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:r}},[`${t}-item-group-title`]:J(J({},Oi),{paddingInline:d})}}]},es=Qa,Kr=e=>{const{componentCls:t,fontSize:n,motionDurationSlow:i,motionDurationMid:r,motionEaseInOut:o,motionEaseOut:s,iconCls:c,controlHeightSM:f}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${i}`,`background ${i}`,`padding ${i} ${o}`].join(","),[`${t}-item-icon, ${c}`]:{minWidth:n,fontSize:n,transition:[`font-size ${r} ${s}`,`margin ${i} ${o}`,`color ${i}`].join(","),"+ span":{marginInlineStart:f-n,opacity:1,transition:[`opacity ${i} ${o}`,`margin ${i}`,`color ${i}`].join(",")}},[`${t}-item-icon`]:J({},Yu()),[`&${t}-item-only-child`]:{[`> ${c}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Hr=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:i,borderRadius:r,menuArrowSize:o,menuArrowOffset:s}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${i}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:o*.6,height:o*.15,backgroundColor:"currentcolor",borderRadius:r,transition:[`background ${n} ${i}`,`transform ${n} ${i}`,`top ${n} ${i}`,`color ${n} ${i}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${s})`},"&::after":{transform:`rotate(-45deg) translateY(${s})`}}}}},ts=e=>{const{antCls:t,componentCls:n,fontSize:i,motionDurationSlow:r,motionDurationMid:o,motionEaseInOut:s,lineHeight:c,paddingXS:f,padding:h,colorSplit:a,lineWidth:u,zIndexPopup:l,borderRadiusLG:d,radiusSubMenuItem:D,menuArrowSize:p,menuArrowOffset:b,lineType:v,menuPanelMaskInset:w}=e;return[{"":{[`${n}`]:J(J({},xr()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:J(J(J(J(J(J(J({},lr(e)),xr()),{marginBottom:0,paddingInlineStart:0,fontSize:i,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${r} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:e.radiusItem},[`${n}-item-group-title`]:{padding:`${f}px ${h}px`,fontSize:i,lineHeight:c,transition:`all ${r}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${r} ${s}`,`background ${r} ${s}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${r} ${s}`,`background ${r} ${s}`,`padding ${o} ${s}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${r} ${s}`,`padding ${r} ${s}`].join(",")},[`${n}-title-content`]:{transition:`color ${r}`},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:a,borderStyle:v,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),Kr(e)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${i*2}px ${h}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:l,background:"transparent",borderRadius:d,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${w}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:w},[`> ${n}`]:J(J(J({borderRadius:d},Kr(e)),Hr(e)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:D},[`${n}-submenu-title::after`]:{transition:`transform ${r} ${s}`}})}}),Hr(e)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${b})`},"&::after":{transform:`rotate(45deg) translateX(-${b})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(-${p*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${b})`},"&::before":{transform:`rotate(45deg) translateX(${b})`}}})},{[`${t}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},ns=(e,t)=>Ri("Menu",(i,r)=>{let{overrideComponentToken:o}=r;if((t==null?void 0:t.value)===!1)return[];const{colorBgElevated:s,colorPrimary:c,colorError:f,colorErrorHover:h,colorTextLightSolid:a}=i,{controlHeightLG:u,fontSize:l}=i,d=l/7*5,D=Yn(i,{menuItemHeight:u,menuItemPaddingInline:i.margin,menuArrowSize:d,menuHorizontalHeight:u*1.15,menuArrowOffset:`${d*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:s}),p=new $r(a).setAlpha(.65).toRgbString(),b=Yn(D,{colorItemText:p,colorItemTextHover:a,colorGroupTitle:p,colorItemTextSelected:a,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:c,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new $r(a).setAlpha(.25).toRgbString(),colorDangerItemText:f,colorDangerItemTextHover:h,colorDangerItemTextSelected:a,colorDangerItemBgActive:f,colorDangerItemBgSelected:f,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:a,colorItemBgSelectedHorizontal:c},J({},o));return[ts(D),Ga(D),es(D),Lr(D,"light"),Lr(b,"dark"),Ya(D),Gu(D),En(D,"slide-up"),En(D,"slide-down"),Zu(D,"zoom-big")]},i=>{const{colorPrimary:r,colorError:o,colorTextDisabled:s,colorErrorBg:c,colorText:f,colorTextDescription:h,colorBgContainer:a,colorFillAlter:u,colorFillContent:l,lineWidth:d,lineWidthBold:D,controlItemBgActive:p,colorBgTextHover:b}=i;return{dropdownWidth:160,zIndexPopup:i.zIndexPopupBase+50,radiusItem:i.borderRadiusLG,radiusSubMenuItem:i.borderRadiusSM,colorItemText:f,colorItemTextHover:f,colorItemTextHoverHorizontal:r,colorGroupTitle:h,colorItemTextSelected:r,colorItemTextSelectedHorizontal:r,colorItemBg:a,colorItemBgHover:b,colorItemBgActive:l,colorSubItemBg:u,colorItemBgSelected:p,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:D,colorActiveBarBorderSize:d,colorItemTextDisabled:s,colorDangerItemText:o,colorDangerItemTextHover:o,colorDangerItemTextSelected:o,colorDangerItemBgActive:c,colorDangerItemBgSelected:c,itemMarginInline:i.marginXXS}})(e),rs=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),qr=[],$t=Xe({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:rs(),slots:Object,setup(e,t){let{slots:n,emit:i,attrs:r}=t;const{direction:o,getPrefixCls:s}=zi("menu",e),c=ji(),f=Z(()=>{var K;return s("menu",e.prefixCls||((K=c==null?void 0:c.prefixCls)===null||K===void 0?void 0:K.value))}),[h,a]=ns(f,Z(()=>!c)),u=Ee(new Map),l=Tt(Ia,ve(void 0)),d=Z(()=>l.value!==void 0?l.value:e.inlineCollapsed),{itemsNodes:D}=Xa(e),p=Ee(!1);Mt(()=>{p.value=!0}),zt(()=>{Rt(!(e.inlineCollapsed===!0&&e.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),Rt(!(l.value!==void 0&&e.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const b=ve([]),v=ve([]),w=ve({});Ve(u,()=>{const K={};for(const Y of u.value.values())K[Y.key]=Y;w.value=K},{flush:"post"}),zt(()=>{if(e.activeKey!==void 0){let K=[];const Y=e.activeKey?w.value[e.activeKey]:void 0;Y&&e.activeKey!==void 0?K=Un([].concat(He(Y.parentKeys),e.activeKey)):K=[],an(b.value,K)||(b.value=K)}}),Ve(()=>e.selectedKeys,K=>{K&&(v.value=K.slice())},{immediate:!0,deep:!0});const y=ve([]);Ve([w,v],()=>{let K=[];v.value.forEach(Y=>{const se=w.value[Y];se&&(K=K.concat(He(se.parentKeys)))}),K=Un(K),an(y.value,K)||(y.value=K)},{immediate:!0});const C=K=>{if(e.selectable){const{key:Y}=K,se=v.value.includes(Y);let re;e.multiple?se?re=v.value.filter(be=>be!==Y):re=[...v.value,Y]:re=[Y];const ie=J(J({},K),{selectedKeys:re});an(re,v.value)||(e.selectedKeys===void 0&&(v.value=re),i("update:selectedKeys",re),se&&e.multiple?i("deselect",ie):i("select",ie))}x.value!=="inline"&&!e.multiple&&m.value.length&&H(qr)},m=ve([]);Ve(()=>e.openKeys,function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.value;an(m.value,K)||(m.value=K.slice())},{immediate:!0,deep:!0});let g;const A=K=>{clearTimeout(g),g=setTimeout(()=>{e.activeKey===void 0&&(b.value=K),i("update:activeKey",K[K.length-1])})},F=Z(()=>!!e.disabled),_=Z(()=>o.value==="rtl"),x=ve("vertical"),$=Ee(!1);zt(()=>{var K;(e.mode==="inline"||e.mode==="vertical")&&d.value?(x.value="vertical",$.value=d.value):(x.value=e.mode,$.value=!1),!((K=c==null?void 0:c.mode)===null||K===void 0)&&K.value&&(x.value=c.mode.value)});const M=Z(()=>x.value==="inline"),H=K=>{m.value=K,i("update:openKeys",K),i("openChange",K)},W=ve(m.value),R=Ee(!1);Ve(m,()=>{M.value&&(W.value=m.value)},{immediate:!0}),Ve(M,()=>{if(!R.value){R.value=!0;return}M.value?m.value=W.value:H(qr)},{immediate:!0});const I=Z(()=>({[`${f.value}`]:!0,[`${f.value}-root`]:!0,[`${f.value}-${x.value}`]:!0,[`${f.value}-inline-collapsed`]:$.value,[`${f.value}-rtl`]:_.value,[`${f.value}-${e.theme}`]:!0})),X=Z(()=>s()),G=Z(()=>({horizontal:{name:`${X.value}-slide-up`},inline:Ju(`${X.value}-motion-collapse`),other:{name:`${X.value}-zoom-big`}}));eo(!0);const U=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const Y=[],se=u.value;return K.forEach(re=>{const{key:ie,childrenEventKeys:be}=se.get(re);Y.push(ie,...U(He(be)))}),Y},ne=K=>{var Y;i("click",K),C(K),(Y=c==null?void 0:c.onClick)===null||Y===void 0||Y.call(c)},j=(K,Y)=>{var se;const re=((se=w.value[K])===null||se===void 0?void 0:se.childrenEventKeys)||[];let ie=m.value.filter(be=>be!==K);if(Y)ie.push(K);else if(x.value!=="inline"){const be=U(He(re));ie=Un(ie.filter(he=>!be.includes(he)))}an(m,ie)||H(ie)},te=(K,Y)=>{u.value.set(K,Y),u.value=new Map(u.value)},ue=K=>{u.value.delete(K),u.value=new Map(u.value)},me=ve(0),ge=Z(()=>{var K;return e.expandIcon||n.expandIcon||!((K=c==null?void 0:c.expandIcon)===null||K===void 0)&&K.value?Y=>{let se=e.expandIcon||n.expandIcon;return se=typeof se=="function"?se(Y):se,jt(se,{class:`${f.value}-submenu-expand-icon`},!1)}:null});return Ta({prefixCls:f,activeKeys:b,openKeys:m,selectedKeys:v,changeActiveKeys:A,disabled:F,rtl:_,mode:x,inlineIndent:Z(()=>e.inlineIndent),subMenuCloseDelay:Z(()=>e.subMenuCloseDelay),subMenuOpenDelay:Z(()=>e.subMenuOpenDelay),builtinPlacements:Z(()=>e.builtinPlacements),triggerSubMenuAction:Z(()=>e.triggerSubMenuAction),getPopupContainer:Z(()=>e.getPopupContainer),inlineCollapsed:$,theme:Z(()=>e.theme),siderCollapsed:l,defaultMotions:Z(()=>p.value?G.value:null),motion:Z(()=>p.value?e.motion:null),overflowDisabled:Ee(void 0),onOpenChange:j,onItemClick:ne,registerMenuInfo:te,unRegisterMenuInfo:ue,selectedSubMenuKeys:y,expandIcon:ge,forceSubMenuRender:Z(()=>e.forceSubMenuRender),rootClassName:a}),()=>{var K,Y;const se=D.value||ar((K=n.default)===null||K===void 0?void 0:K.call(n)),re=me.value>=se.length-1||x.value!=="horizontal"||e.disabledOverflow,ie=x.value!=="horizontal"||e.disabledOverflow?se:se.map((he,ce)=>k(Fn,{key:he.key,overflowDisabled:ce>me.value},{default:()=>he})),be=((Y=n.overflowedIndicator)===null||Y===void 0?void 0:Y.call(n))||k(Ui,null,null);return h(k(sn,ye(ye({},r),{},{onMousedown:e.onMousedown,prefixCls:`${f.value}-overflow`,component:"ul",itemComponent:Gt,class:[I.value,r.class,a.value],role:"menu",id:e.id,data:ie,renderRawItem:he=>he,renderRawRest:he=>{const ce=he.length,_e=ce?se.slice(-ce):null;return k(xt,null,[k(Zt,{eventKey:Dn,key:Dn,title:be,disabled:re,internalPopupClose:ce===0},{default:()=>_e}),k(Pr,null,{default:()=>[k(Zt,{eventKey:Dn,key:Dn,title:be,disabled:re,internalPopupClose:ce===0},{default:()=>_e})]})])},maxCount:x.value!=="horizontal"||e.disabledOverflow?sn.INVALIDATE:sn.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:he=>{me.value=he}}),{default:()=>[k(sa,{to:"body"},{default:()=>[k("div",{style:{display:"none"},"aria-hidden":!0},[k(Pr,null,{default:()=>[ie]})])]})]}))}}});$t.install=function(e){return e.component($t.name,$t),e.component(Gt.name,Gt),e.component(Zt.name,Zt),e.component(Sn.name,Sn),e.component(_n.name,_n),e};$t.Item=Gt;$t.Divider=Sn;$t.SubMenu=Zt;$t.ItemGroup=_n;function uo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function is(e){const t=Ee(),n=Ee(!1);function i(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];n.value||(St.cancel(t.value),t.value=St(()=>{e(...o)}))}return Lt(()=>{n.value=!0,St.cancel(t.value)}),i}function os(e){const t=Ee([]),n=Ee(typeof e=="function"?e():e),i=is(()=>{let o=n.value;t.value.forEach(s=>{o=s(o)}),t.value=[],n.value=o});function r(o){t.value.push(o),i()}return[n,r]}const us=Xe({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup(e,t){let{expose:n,attrs:i}=t;const r=ve();function o(f){var h;!((h=e.tab)===null||h===void 0)&&h.disabled||e.onClick(f)}n({domRef:r});function s(f){var h;f.preventDefault(),f.stopPropagation(),e.editable.onEdit("remove",{key:(h=e.tab)===null||h===void 0?void 0:h.key,event:f})}const c=Z(()=>{var f;return e.editable&&e.closable!==!1&&!(!((f=e.tab)===null||f===void 0)&&f.disabled)});return()=>{var f;const{prefixCls:h,id:a,active:u,tab:{key:l,tab:d,disabled:D,closeIcon:p},renderWrapper:b,removeAriaLabel:v,editable:w,onFocus:y}=e,C=`${h}-tab`,m=k("div",{key:l,ref:r,class:ot(C,{[`${C}-with-remove`]:c.value,[`${C}-active`]:u,[`${C}-disabled`]:D}),style:i.style,onClick:o},[k("div",{role:"tab","aria-selected":u,id:a&&`${a}-tab-${l}`,class:`${C}-btn`,"aria-controls":a&&`${a}-panel-${l}`,"aria-disabled":D,tabindex:D?null:0,onClick:g=>{g.stopPropagation(),o(g)},onKeydown:g=>{[lt.SPACE,lt.ENTER].includes(g.which)&&(g.preventDefault(),o(g))},onFocus:y},[typeof d=="function"?d():d]),c.value&&k("button",{type:"button","aria-label":v||"remove",tabindex:0,class:`${C}-remove`,onClick:g=>{g.stopPropagation(),s(g)}},[(p==null?void 0:p())||((f=w.removeIcon)===null||f===void 0?void 0:f.call(w))||"×"])]);return b?b(m):m}}}),Wr={width:0,height:0,left:0,top:0};function as(e,t){const n=ve(new Map);return zt(()=>{var i,r;const o=new Map,s=e.value,c=t.value.get((i=s[0])===null||i===void 0?void 0:i.key)||Wr,f=c.left+c.width;for(let h=0;h<s.length;h+=1){const{key:a}=s[h];let u=t.value.get(a);u||(u=t.value.get((r=s[h-1])===null||r===void 0?void 0:r.key)||Wr);const l=o.get(a)||J({},u);l.right=f-l.left-l.width,o.set(a,l)}n.value=new Map(o)}),n}const ao=Xe({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup(e,t){let{expose:n,attrs:i}=t;const r=ve();return n({domRef:r}),()=>{const{prefixCls:o,editable:s,locale:c}=e;return!s||s.showAdd===!1?null:k("button",{ref:r,type:"button",class:`${o}-nav-add`,style:i.style,"aria-label":(c==null?void 0:c.addAriaLabel)||"Add tab",onClick:f=>{s.onEdit("add",{event:f})}},[s.addIcon?s.addIcon():"+"])}}}),ss={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:Te.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function},popupClassName:String,getPopupContainer:st()},ls=Xe({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:ss,emits:["tabClick"],slots:Object,setup(e,t){let{attrs:n,slots:i}=t;const[r,o]=Je(!1),[s,c]=Je(null),f=d=>{const D=e.tabs.filter(v=>!v.disabled);let p=D.findIndex(v=>v.key===s.value)||0;const b=D.length;for(let v=0;v<b;v+=1){p=(p+d+b)%b;const w=D[p];if(!w.disabled){c(w.key);return}}},h=d=>{const{which:D}=d;if(!r.value){[lt.DOWN,lt.SPACE,lt.ENTER].includes(D)&&(o(!0),d.preventDefault());return}switch(D){case lt.UP:f(-1),d.preventDefault();break;case lt.DOWN:f(1),d.preventDefault();break;case lt.ESC:o(!1);break;case lt.SPACE:case lt.ENTER:s.value!==null&&e.onTabClick(s.value,d);break}},a=Z(()=>`${e.id}-more-popup`),u=Z(()=>s.value!==null?`${a.value}-${s.value}`:null),l=(d,D)=>{d.preventDefault(),d.stopPropagation(),e.editable.onEdit("remove",{key:D,event:d})};return Mt(()=>{Ve(s,()=>{const d=document.getElementById(u.value);d&&d.scrollIntoView&&d.scrollIntoView(!1)},{flush:"post",immediate:!0})}),Ve(r,()=>{r.value||c(null)}),xa({}),()=>{var d;const{prefixCls:D,id:p,tabs:b,locale:v,mobile:w,moreIcon:y=((d=i.moreIcon)===null||d===void 0?void 0:d.call(i))||k(Ui,null,null),moreTransitionName:C,editable:m,tabBarGutter:g,rtl:A,onTabClick:F,popupClassName:_}=e;if(!b.length)return null;const x=`${D}-dropdown`,$=v==null?void 0:v.dropdownAriaLabel,M={[A?"marginRight":"marginLeft"]:g};b.length||(M.visibility="hidden",M.order=1);const H=ot({[`${x}-rtl`]:A,[`${_}`]:!0}),W=w?null:k(Fa,{prefixCls:x,trigger:["hover"],visible:r.value,transitionName:C,onVisibleChange:o,overlayClassName:H,mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:e.getPopupContainer},{overlay:()=>k($t,{onClick:R=>{let{key:I,domEvent:X}=R;F(I,X),o(!1)},id:a.value,tabindex:-1,role:"listbox","aria-activedescendant":u.value,selectedKeys:[s.value],"aria-label":$!==void 0?$:"expanded dropdown"},{default:()=>[b.map(R=>{var I,X;const G=m&&R.closable!==!1&&!R.disabled;return k(Gt,{key:R.key,id:`${a.value}-${R.key}`,role:"option","aria-controls":p&&`${p}-panel-${R.key}`,disabled:R.disabled},{default:()=>[k("span",null,[typeof R.tab=="function"?R.tab():R.tab]),G&&k("button",{type:"button","aria-label":e.removeAriaLabel||"remove",tabindex:0,class:`${x}-menu-item-remove`,onClick:U=>{U.stopPropagation(),l(U,R.key)}},[((I=R.closeIcon)===null||I===void 0?void 0:I.call(R))||((X=m.removeIcon)===null||X===void 0?void 0:X.call(m))||"×"])]})})]}),default:()=>k("button",{type:"button",class:`${D}-nav-more`,style:M,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":a.value,id:`${p}-more`,"aria-expanded":r.value,onKeydown:h},[y])});return k("div",{class:ot(`${D}-nav-operations`,n.class),style:n.style},[W,k(ao,{prefixCls:D,locale:v,editable:m},null)])}}}),so=Symbol("tabsContextKey"),cs=e=>{kt(so,e)},lo=()=>Tt(so,{tabs:ve([]),prefixCls:ve()}),fs=.1,Vr=.01,wn=20,Ur=Math.pow(.995,wn);function ds(e,t){const[n,i]=Je(),[r,o]=Je(0),[s,c]=Je(0),[f,h]=Je(),a=ve();function u(m){const{screenX:g,screenY:A}=m.touches[0];i({x:g,y:A}),clearInterval(a.value)}function l(m){if(!n.value)return;m.preventDefault();const{screenX:g,screenY:A}=m.touches[0],F=g-n.value.x,_=A-n.value.y;t(F,_),i({x:g,y:A});const x=Date.now();c(x-r.value),o(x),h({x:F,y:_})}function d(){if(!n.value)return;const m=f.value;if(i(null),h(null),m){const g=m.x/s.value,A=m.y/s.value,F=Math.abs(g),_=Math.abs(A);if(Math.max(F,_)<fs)return;let x=g,$=A;a.value=setInterval(()=>{if(Math.abs(x)<Vr&&Math.abs($)<Vr){clearInterval(a.value);return}x*=Ur,$*=Ur,t(x*wn,$*wn)},wn)}}const D=ve();function p(m){const{deltaX:g,deltaY:A}=m;let F=0;const _=Math.abs(g),x=Math.abs(A);_===x?F=D.value==="x"?g:A:_>x?(F=g,D.value="x"):(F=A,D.value="y"),t(-F,-F)&&m.preventDefault()}const b=ve({onTouchStart:u,onTouchMove:l,onTouchEnd:d,onWheel:p});function v(m){b.value.onTouchStart(m)}function w(m){b.value.onTouchMove(m)}function y(m){b.value.onTouchEnd(m)}function C(m){b.value.onWheel(m)}Mt(()=>{var m,g;document.addEventListener("touchmove",w,{passive:!1}),document.addEventListener("touchend",y,{passive:!1}),(m=e.value)===null||m===void 0||m.addEventListener("touchstart",v,{passive:!1}),(g=e.value)===null||g===void 0||g.addEventListener("wheel",C,{passive:!1})}),Lt(()=>{document.removeEventListener("touchmove",w),document.removeEventListener("touchend",y)})}function Xr(e,t){const n=ve(e);function i(r){const o=typeof r=="function"?r(n.value):r;o!==n.value&&t(o,n.value),n.value=o}return[n,i]}const hs=()=>{const e=ve(new Map),t=n=>i=>{e.value.set(n,i)};return la(()=>{e.value=new Map}),[t,e]},jr={width:0,height:0,left:0,top:0,right:0},ps=()=>({id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:_t(),editable:_t(),moreIcon:Te.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:_t(),popupClassName:String,getPopupContainer:st(),onTabClick:{type:Function},onTabScroll:{type:Function}}),Gr=Xe({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:ps(),slots:Object,emits:["tabClick","tabScroll"],setup(e,t){let{attrs:n,slots:i}=t;const{tabs:r,prefixCls:o}=lo(),s=Ee(),c=Ee(),f=Ee(),h=Ee(),[a,u]=hs(),l=Z(()=>e.tabPosition==="top"||e.tabPosition==="bottom"),[d,D]=Xr(0,(fe,ae)=>{l.value&&e.onTabScroll&&e.onTabScroll({direction:fe>ae?"left":"right"})}),[p,b]=Xr(0,(fe,ae)=>{!l.value&&e.onTabScroll&&e.onTabScroll({direction:fe>ae?"top":"bottom"})}),[v,w]=Je(0),[y,C]=Je(0),[m,g]=Je(null),[A,F]=Je(null),[_,x]=Je(0),[$,M]=Je(0),[H,W]=os(new Map),R=as(r,H),I=Z(()=>`${o.value}-nav-operations-hidden`),X=Ee(0),G=Ee(0);zt(()=>{l.value?e.rtl?(X.value=0,G.value=Math.max(0,v.value-m.value)):(X.value=Math.min(0,m.value-v.value),G.value=0):(X.value=Math.min(0,A.value-y.value),G.value=0)});const U=fe=>fe<X.value?X.value:fe>G.value?G.value:fe,ne=Ee(),[j,te]=Je(),ue=()=>{te(Date.now())},me=()=>{clearTimeout(ne.value)},ge=(fe,ae)=>{fe(Q=>U(Q+ae))};ds(s,(fe,ae)=>{if(l.value){if(m.value>=v.value)return!1;ge(D,fe)}else{if(A.value>=y.value)return!1;ge(b,ae)}return me(),ue(),!0}),Ve(j,()=>{me(),j.value&&(ne.value=setTimeout(()=>{te(0)},100))});const K=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activeKey;const ae=R.value.get(fe)||{width:0,height:0,left:0,right:0,top:0};if(l.value){let Q=d.value;e.rtl?ae.right<d.value?Q=ae.right:ae.right+ae.width>d.value+m.value&&(Q=ae.right+ae.width-m.value):ae.left<-d.value?Q=-ae.left:ae.left+ae.width>-d.value+m.value&&(Q=-(ae.left+ae.width-m.value)),b(0),D(U(Q))}else{let Q=p.value;ae.top<-p.value?Q=-ae.top:ae.top+ae.height>-p.value+A.value&&(Q=-(ae.top+ae.height-A.value)),D(0),b(U(Q))}},Y=Ee(0),se=Ee(0);zt(()=>{let fe,ae,Q,de,Se,Ie;const E=R.value;["top","bottom"].includes(e.tabPosition)?(fe="width",de=m.value,Se=v.value,Ie=_.value,ae=e.rtl?"right":"left",Q=Math.abs(d.value)):(fe="height",de=A.value,Se=v.value,Ie=$.value,ae="top",Q=-p.value);let S=de;Se+Ie>de&&Se<de&&(S=de-Ie);const B=r.value;if(!B.length)return[Y.value,se.value]=[0,0];const T=B.length;let O=T;for(let q=0;q<T;q+=1){const z=E.get(B[q].key)||jr;if(z[ae]+z[fe]>Q+S){O=q-1;break}}let N=0;for(let q=T-1;q>=0;q-=1)if((E.get(B[q].key)||jr)[ae]<Q){N=q+1;break}return[Y.value,se.value]=[N,O]});const re=()=>{var fe,ae,Q,de,Se;const Ie=((fe=s.value)===null||fe===void 0?void 0:fe.offsetWidth)||0,E=((ae=s.value)===null||ae===void 0?void 0:ae.offsetHeight)||0,S=((Q=h.value)===null||Q===void 0?void 0:Q.$el)||{},B=S.offsetWidth||0,T=S.offsetHeight||0;g(Ie),F(E),x(B),M(T);const O=(((de=c.value)===null||de===void 0?void 0:de.offsetWidth)||0)-B,N=(((Se=c.value)===null||Se===void 0?void 0:Se.offsetHeight)||0)-T;w(O),C(N),W(()=>{const q=new Map;return r.value.forEach(z=>{let{key:V}=z;const L=u.value.get(V),pe=(L==null?void 0:L.$el)||L;pe&&q.set(V,{width:pe.offsetWidth,height:pe.offsetHeight,left:pe.offsetLeft,top:pe.offsetTop})}),q})},ie=Z(()=>[...r.value.slice(0,Y.value),...r.value.slice(se.value+1)]),[be,he]=Je(),ce=Z(()=>R.value.get(e.activeKey)),_e=Ee(),ke=()=>{St.cancel(_e.value)};Ve([ce,l,()=>e.rtl],()=>{const fe={};ce.value&&(l.value?(e.rtl?fe.right=un(ce.value.right):fe.left=un(ce.value.left),fe.width=un(ce.value.width)):(fe.top=un(ce.value.top),fe.height=un(ce.value.height))),ke(),_e.value=St(()=>{he(fe)})}),Ve([()=>e.activeKey,ce,R,l],()=>{K()},{flush:"post"}),Ve([()=>e.rtl,()=>e.tabBarGutter,()=>e.activeKey,()=>r.value],()=>{re()},{flush:"post"});const tt=fe=>{let{position:ae,prefixCls:Q,extra:de}=fe;if(!de)return null;const Se=de==null?void 0:de({position:ae});return Se?k("div",{class:`${Q}-extra-content`},[Se]):null};return Lt(()=>{me(),ke()}),()=>{const{id:fe,animated:ae,activeKey:Q,rtl:de,editable:Se,locale:Ie,tabPosition:E,tabBarGutter:S,onTabClick:B}=e,{class:T,style:O}=n,N=o.value,q=!!ie.value.length,z=`${N}-nav-wrap`;let V,L,pe,we;l.value?de?(L=d.value>0,V=d.value+m.value<v.value):(V=d.value<0,L=-d.value+m.value<v.value):(pe=p.value<0,we=-p.value+A.value<y.value);const $e={};E==="top"||E==="bottom"?$e[de?"marginRight":"marginLeft"]=typeof S=="number"?`${S}px`:S:$e.marginTop=typeof S=="number"?`${S}px`:S;const je=r.value.map((Ke,it)=>{const{key:Ge}=Ke;return k(us,{id:fe,prefixCls:N,key:Ge,tab:Ke,style:it===0?void 0:$e,closable:Ke.closable,editable:Se,active:Ge===Q,removeAriaLabel:Ie==null?void 0:Ie.removeAriaLabel,ref:a(Ge),onClick:wt=>{B(Ge,wt)},onFocus:()=>{K(Ge),ue(),s.value&&(de||(s.value.scrollLeft=0),s.value.scrollTop=0)}},i)});return k("div",{role:"tablist",class:ot(`${N}-nav`,T),style:O,onKeydown:()=>{ue()}},[k(tt,{position:"left",prefixCls:N,extra:i.leftExtra},null),k(Mr,{onResize:re},{default:()=>[k("div",{class:ot(z,{[`${z}-ping-left`]:V,[`${z}-ping-right`]:L,[`${z}-ping-top`]:pe,[`${z}-ping-bottom`]:we}),ref:s},[k(Mr,{onResize:re},{default:()=>[k("div",{ref:c,class:`${N}-nav-list`,style:{transform:`translate(${d.value}px, ${p.value}px)`,transition:j.value?"none":void 0}},[je,k(ao,{ref:h,prefixCls:N,locale:Ie,editable:Se,style:J(J({},je.length===0?void 0:$e),{visibility:q?"hidden":null})},null),k("div",{class:ot(`${N}-ink-bar`,{[`${N}-ink-bar-animated`]:ae.inkBar}),style:be.value},null)])]})])]}),k(ls,ye(ye({},e),{},{removeAriaLabel:Ie==null?void 0:Ie.removeAriaLabel,ref:f,prefixCls:N,tabs:ie.value,class:!q&&I.value}),Vi(i,["moreIcon"])),k(tt,{position:"right",prefixCls:N,extra:i.rightExtra},null),k(tt,{position:"right",prefixCls:N,extra:i.tabBarExtraContent},null)])}}}),vs=Xe({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup(e){const{tabs:t,prefixCls:n}=lo();return()=>{const{id:i,activeKey:r,animated:o,tabPosition:s,rtl:c,destroyInactiveTabPane:f}=e,h=o.tabPane,a=n.value,u=t.value.findIndex(l=>l.key===r);return k("div",{class:`${a}-content-holder`},[k("div",{class:[`${a}-content`,`${a}-content-${s}`,{[`${a}-content-animated`]:h}],style:u&&h?{[c?"marginRight":"marginLeft"]:`-${u}00%`}:null},[t.value.map(l=>jt(l.node,{key:l.key,prefixCls:a,tabKey:l.key,id:i,animated:h,active:l.key===r,destroyInactiveTabPane:f}))])])}}});var ms={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const gs=ms;function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),i.forEach(function(r){Ds(e,r,n[r])})}return e}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=function(t,n){var i=Zr({},t,n.attrs);return k(Ii,Zr({},i,{icon:gs}),null)};hr.displayName="PlusOutlined";hr.inheritAttrs=!1;const ys=hr,bs=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[En(e,"slide-up"),En(e,"slide-down")]]},ws=bs,Cs=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeadBackground:i,tabsCardGutter:r,colorSplit:o}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:i,border:`${e.lineWidth}px ${e.lineType} ${o}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:e.colorPrimary,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:`${r}px`}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:`${r}px`}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadiusLG}px 0 0 ${e.borderRadiusLG}px`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},Es=e=>{const{componentCls:t,tabsHoverColor:n,dropdownEdgeChildVerticalPadding:i}=e;return{[`${t}-dropdown`]:J(J({},lr(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${i}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":J(J({},Oi),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${e.paddingXXS}px ${e.paddingSM}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},As=e=>{const{componentCls:t,margin:n,colorSplit:i}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:`0 0 ${n}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${e.lineWidth}px ${e.lineType} ${i}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:`${n}px`,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:e.controlHeight*1.25,[`${t}-tab`]:{padding:`${e.paddingXS}px ${e.paddingLG}px`,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:`${e.margin}px 0 0 0`},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${e.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-e.lineWidth},borderRight:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},Fs=e=>{const{componentCls:t,padding:n}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px 0`,fontSize:e.fontSize}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${n}px 0`,fontSize:e.fontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXXS*1.5}px ${n}px`}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${e.borderRadius}px ${e.borderRadius}px`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${e.borderRadius}px ${e.borderRadius}px 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadius}px ${e.borderRadius}px 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadius}px 0 0 ${e.borderRadius}px`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px ${n}px ${e.paddingXXS*1.5}px`}}}}}},_s=e=>{const{componentCls:t,tabsActiveColor:n,tabsHoverColor:i,iconCls:r,tabsHorizontalGutter:o}=e,s=`${t}-tab`;return{[s]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${e.paddingSM}px 0`,fontSize:`${e.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":J({"&:focus:not(:focus-visible), &:active":{color:n}},Li(e)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-e.marginXXS},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:i},[`&${s}-active ${s}-btn`]:{color:e.colorPrimary,textShadow:e.tabsActiveTextShadow},[`&${s}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${s}-disabled ${s}-btn, &${s}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${s}-remove ${r}`]:{margin:0},[r]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${s} + ${s}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${o}px`}}}},Ss=e=>{const{componentCls:t,tabsHorizontalGutter:n,iconCls:i,tabsCardGutter:r}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${n}px`},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[i]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${e.marginSM}px`}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${e.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${e.marginXXS}px`},[i]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:`${r}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},$s=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeight:i,tabsCardGutter:r,tabsHoverColor:o,tabsActiveColor:s,colorSplit:c}=e;return{[t]:J(J(J(J({},lr(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:J({minWidth:`${i}px`,marginLeft:{_skip_check_:!0,value:`${r}px`},padding:`0 ${e.paddingXS}px`,background:"transparent",border:`${e.lineWidth}px ${e.lineType} ${c}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:s}},Li(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.colorPrimary,pointerEvents:"none"}}),_s(e)),{[`${t}-content`]:{position:"relative",display:"flex",width:"100%","&-animated":{transition:"margin 0.3s"}},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none",flex:"none",width:"100%"}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},xs=Ri("Tabs",e=>{const t=e.controlHeightLG,n=Yn(e,{tabsHoverColor:e.colorPrimaryHover,tabsActiveColor:e.colorPrimaryActive,tabsCardHorizontalPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,tabsCardHeight:t,tabsCardGutter:e.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:e.colorFillAlter,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[Fs(n),Ss(n),As(n),Es(n),Cs(n),$s(n),ws(n)]},e=>({zIndexPopup:e.zIndexPopupBase+50}));let Yr=0;const co=()=>({prefixCls:{type:String},id:{type:String},popupClassName:String,getPopupContainer:st(),activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:gn(),animated:ea([Boolean,Object]),renderTabBar:st(),tabBarGutter:{type:Number},tabBarStyle:_t(),tabPosition:gn(),destroyInactiveTabPane:ta(),hideAdd:Boolean,type:gn(),size:gn(),centered:Boolean,onEdit:st(),onChange:st(),onTabClick:st(),onTabScroll:st(),"onUpdate:activeKey":st(),locale:_t(),onPrevClick:st(),onNextClick:st(),tabBarExtraContent:Te.any});function Ms(e){return e.map(t=>{if(sr(t)){const n=J({},t.props||{});for(const[l,d]of Object.entries(n))delete n[l],n[na(l)]=d;const i=t.children||{},r=t.key!==void 0?t.key:void 0,{tab:o=i.tab,disabled:s,forceRender:c,closable:f,animated:h,active:a,destroyInactiveTabPane:u}=n;return J(J({key:r},n),{node:t,closeIcon:i.closeIcon,tab:o,disabled:s===""||s,forceRender:c===""||c,closable:f===""||f,animated:h===""||h,active:a===""||a,destroyInactiveTabPane:u===""||u})}return null}).filter(t=>t)}const Bs=Xe({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:J(J({},ki(co(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{tabs:ra()}),slots:Object,setup(e,t){let{attrs:n,slots:i}=t;Rt(e.onPrevClick===void 0&&e.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),Rt(e.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),Rt(i.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");const{prefixCls:r,direction:o,size:s,rootPrefixCls:c,getPopupContainer:f}=zi("tabs",e),[h,a]=xs(r),u=Z(()=>o.value==="rtl"),l=Z(()=>{const{animated:A,tabPosition:F}=e;return A===!1||["left","right"].includes(F)?{inkBar:!1,tabPane:!1}:A===!0?{inkBar:!0,tabPane:!0}:J({inkBar:!0,tabPane:!1},typeof A=="object"?A:{})}),[d,D]=Je(!1);Mt(()=>{D(ia())});const[p,b]=Br(()=>{var A;return(A=e.tabs[0])===null||A===void 0?void 0:A.key},{value:Z(()=>e.activeKey),defaultValue:e.defaultActiveKey}),[v,w]=Je(()=>e.tabs.findIndex(A=>A.key===p.value));zt(()=>{var A;let F=e.tabs.findIndex(_=>_.key===p.value);F===-1&&(F=Math.max(0,Math.min(v.value,e.tabs.length-1)),b((A=e.tabs[F])===null||A===void 0?void 0:A.key)),w(F)});const[y,C]=Br(null,{value:Z(()=>e.id)}),m=Z(()=>d.value&&!["left","right"].includes(e.tabPosition)?"top":e.tabPosition);Mt(()=>{e.id||(C(`rc-tabs-${Yr}`),Yr+=1)});const g=(A,F)=>{var _,x;(_=e.onTabClick)===null||_===void 0||_.call(e,A,F);const $=A!==p.value;b(A),$&&((x=e.onChange)===null||x===void 0||x.call(e,A))};return cs({tabs:Z(()=>e.tabs),prefixCls:r}),()=>{const{id:A,type:F,tabBarGutter:_,tabBarStyle:x,locale:$,destroyInactiveTabPane:M,renderTabBar:H=i.renderTabBar,onTabScroll:W,hideAdd:R,centered:I}=e,X={id:y.value,activeKey:p.value,animated:l.value,tabPosition:m.value,rtl:u.value,mobile:d.value};let G;F==="editable-card"&&(G={onEdit:(te,ue)=>{let{key:me,event:ge}=ue;var K;(K=e.onEdit)===null||K===void 0||K.call(e,te==="add"?ge:me,te)},removeIcon:()=>k(oa,null,null),addIcon:i.addIcon?i.addIcon:()=>k(ys,null,null),showAdd:R!==!0});let U;const ne=J(J({},X),{moreTransitionName:`${c.value}-slide-up`,editable:G,locale:$,tabBarGutter:_,onTabClick:g,onTabScroll:W,style:x,getPopupContainer:f.value,popupClassName:ot(e.popupClassName,a.value)});H?U=H(J(J({},ne),{DefaultTabBar:Gr})):U=k(Gr,ne,Vi(i,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));const j=r.value;return h(k("div",ye(ye({},n),{},{id:A,class:ot(j,`${j}-${m.value}`,{[a.value]:!0,[`${j}-${s.value}`]:s.value,[`${j}-card`]:["card","editable-card"].includes(F),[`${j}-editable-card`]:F==="editable-card",[`${j}-centered`]:I,[`${j}-mobile`]:d.value,[`${j}-editable`]:F==="editable-card",[`${j}-rtl`]:u.value},n.class)}),[U,k(vs,ye(ye({destroyInactiveTabPane:M},X),{},{animated:l.value}),null)]))}}}),ln=Xe({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:ki(co(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:Object,setup(e,t){let{attrs:n,slots:i,emit:r}=t;const o=s=>{r("update:activeKey",s),r("change",s)};return()=>{var s;const c=Ms(ar((s=i.default)===null||s===void 0?void 0:s.call(i)));return k(Bs,ye(ye(ye({},Qu(e,["onUpdate:activeKey"])),n),{},{onChange:o,tabs:c}),i)}}}),Ns=()=>({tab:Te.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}),$n=Xe({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:Ns(),slots:Object,setup(e,t){let{attrs:n,slots:i}=t;const r=ve(e.forceRender);Ve([()=>e.active,()=>e.destroyInactiveTabPane],()=>{e.active?r.value=!0:e.destroyInactiveTabPane&&(r.value=!1)},{immediate:!0});const o=Z(()=>e.active?{}:e.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"});return()=>{var s;const{prefixCls:c,forceRender:f,id:h,active:a,tabKey:u}=e;return k("div",{id:h&&`${h}-panel-${u}`,role:"tabpanel",tabindex:a?0:-1,"aria-labelledby":h&&`${h}-tab-${u}`,"aria-hidden":!a,style:[o.value,n.style],class:[`${c}-tabpane`,a&&`${c}-tabpane-active`,n.class]},[(a||r.value||f)&&((s=i.default)===null||s===void 0?void 0:s.call(i))])}}});ln.TabPane=$n;ln.install=function(e){return e.component(ln.name,ln),e.component($n.name,$n),e};const fo=qi("snapshot",{state:()=>({snapshotData:[],snapshotIndex:-1}),getters:{},actions:{recordSnapshot(){const e=en();this.snapshotData[++this.snapshotIndex]=Ki(e.componentData),this.snapshotIndex<this.snapshotData.length-1&&(this.snapshotData=this.snapshotData.slice(0,this.snapshotIndex+1))}}});function Ts(e){return document.querySelector(e)}const pr=qi("compose",{state:()=>({areaData:{style:{top:0,left:0,width:0,height:0},components:[]},editor:null}),getters:{},actions:{setEditor(){this.editor=Ts("#editor")}}}),Is={class:"toolbar"},Ps={for:"input",class:"insert"},Os={__name:"Toobar",props:{},setup(e){ve(!1);function t(){}function n(){}function i(){}function r(){}function o(a){}function s(){}function c(){}function f(){}function h(){}return(a,u)=>{const l=ua;return ze(),Qe("div",Is,[k(l,{onClick:f},{default:ct(()=>[vt("JSON")]),_:1}),k(l,{onClick:h},{default:ct(()=>[vt("导入")]),_:1}),k(l,{onClick:t},{default:ct(()=>[vt("导出")]),_:1}),k(l,{onClick:n},{default:ct(()=>[vt("撤消")]),_:1}),k(l,{onClick:i},{default:ct(()=>[vt("重做")]),_:1}),Et("label",Ps,[vt(" 插入图片 "),Et("input",{id:"input",type:"file",hidden:"",onChange:r},null,32)]),k(l,{onClick:u[0]||(u[0]=d=>void 0)},{default:ct(()=>[vt("预览")]),_:1}),k(l,{onClick:s},{default:ct(()=>[vt("保存")]),_:1}),k(l,{onClick:c},{default:ct(()=>[vt("清空画布")]),_:1})])}}},Rs=yt(Os,[["__scopeId","data-v-061fda90"]]),zs={rotate:0,opacity:1},Ls={animations:[],events:{},groupStyle:{},isLock:!1,collapseName:"style",linkage:{duration:0,data:[{id:"",label:"",event:"",style:[{key:"",value:""}]}]}},cn=[{component:"VText",label:"文字",propValue:"双击编辑文字",icon:"wenben",request:{method:"GET",data:[],url:"",series:!1,time:1e3,paramType:"",requestCount:0},style:{width:200,height:28,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"",color:""}},{component:"VButton",label:"按钮",propValue:"按钮",icon:"button",style:{width:100,height:34,borderWidth:1,borderColor:"",borderRadius:"",fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"",color:"",backgroundColor:""}},{component:"Picture",label:"图片",icon:"tupian",propValue:{flip:{horizontal:!1,vertical:!1}},style:{width:300,height:200,borderRadius:""}},{component:"RectShape",label:"矩形",propValue:"&nbsp;",icon:"juxing",style:{width:200,height:200,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"",borderStyle:"solid",borderRadius:"",verticalAlign:"middle"}},{component:"LineShape",label:"直线",propValue:"",icon:"zhixian",style:{width:200,height:2,backgroundColor:"#000"}},{component:"CircleShape",label:"圆形",propValue:"&nbsp;",icon:"24gl-circle",style:{width:200,height:200,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",borderWidth:1,backgroundColor:"",borderStyle:"solid",borderRadius:"",verticalAlign:"middle"}},{component:"SVGStar",label:"星形",icon:"kongwujiaoxing",propValue:"",style:{width:80,height:80,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"SVGTriangle",label:"三角形",icon:"xingzhuang-sanjiaoxing",propValue:"",style:{width:80,height:80,fontSize:"",fontWeight:400,lineHeight:"",letterSpacing:0,textAlign:"center",color:"",borderColor:"#000",backgroundColor:"rgba(255, 255, 255, 1)"}},{component:"VTable",label:"表格",icon:"biaoge",propValue:{data:[["表头1","表头2","表头3"],["内容1","内容2","内容3"]],stripe:!0,thBold:!0},request:{method:"GET",data:[],url:"",series:!1,time:1e3,paramType:"",requestCount:0},style:{width:600,height:200,fontSize:"",fontWeight:400,textAlign:"center",color:"",backgroundColor:"rgba(255, 255, 255, 1)"}}];for(let e=0,t=cn.length;e<t;e++){const n=cn[e];n.style={...zs,...n.style},cn[e]={...Ls,...n}}const ks=["data-index"],Ks={__name:"OptionalComponentList",setup(e){const t=n=>{console.log("🚀 ~ handleDragStart ~ e:",n.target),n.dataTransfer.setData("index",n.target.dataset.index)};return(n,i)=>(ze(),Qe("div",{class:"optional-component-list",onDragstart:t},[(ze(!0),Qe(xt,null,Ln(He(cn),(r,o)=>(ze(),Qe("div",{key:o,class:"optional-component-list_item",draggable:"true","data-index":o},[r.icon.substr(0,2)==="el"?(ze(),Qe("span",{key:0,class:Dt(r.icon)},null,2)):(ze(),Qe("span",{key:1,class:Dt(["iconfont","icon-"+r.icon])},null,2))],8,ks))),128))],32))}},Hs=yt(Ks,[["__scopeId","data-v-a1d0a084"]]),qs={},Ws={class:"grid",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg"},Vs=ca('<defs data-v-0da47ca9><pattern id="smallGrid" width="7.236328125" height="7.236328125" patternUnits="userSpaceOnUse" data-v-0da47ca9><path d="M 7.236328125 0 L 0 0 0 7.236328125" fill="none" stroke="rgba(207, 207, 207, 0.3)" stroke-width="1" data-v-0da47ca9></path></pattern><pattern id="grid" width="36.181640625" height="36.181640625" patternUnits="userSpaceOnUse" data-v-0da47ca9><rect width="36.181640625" height="36.181640625" fill="url(#smallGrid)" data-v-0da47ca9></rect><path d="M 36.181640625 0 L 0 0 0 36.181640625" fill="none" stroke="rgba(186, 186, 186, 0.5)" stroke-width="1" data-v-0da47ca9></path></pattern></defs><rect width="100%" height="100%" fill="url(#grid)" data-v-0da47ca9></rect>',2),Us=[Vs];function Xs(e,t){return ze(),Qe("svg",Ws,Us)}const js=yt(qs,[["render",Xs],["__scopeId","data-v-0da47ca9"]]),Gs={};function Zs(e,t){return null}const Ys=yt(Gs,[["render",Zs]]);function Js(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i?i.push(n):e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&(n?i.splice(i.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var i=e.get(t);i&&i.slice().map(function(r){r(n)}),(i=e.get("*"))&&i.slice().map(function(r){r(t,n)})}}}const xn=Js();var ho={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function xe(e){return typeof e=="number"}function Le(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function po(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function vo(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function mo(e){return e&&e.constructor.prototype.isUnit===!0||!1}function ht(e){return typeof e=="string"}var Be=Array.isArray;function Ue(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Mn(e){return Array.isArray(e)||Ue(e)}function Qs(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function el(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function tl(e){return e&&e.constructor.prototype.isRange===!0||!1}function vr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function nl(e){return typeof e=="boolean"}function rl(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function il(e){return e&&e.constructor.prototype.isHelp===!0||!1}function ol(e){return typeof e=="function"}function ul(e){return e instanceof Date}function al(e){return e instanceof RegExp}function mr(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!po(e)&&!vo(e))}function sl(e){return e===null}function ll(e){return e===void 0}function cl(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function fl(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function dl(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function hl(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function pl(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function vl(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function ml(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function gl(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Dl(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function yl(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function bl(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function wl(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Cl(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function El(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Al(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Fl(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function _l(e){return e&&e.constructor.prototype.isChain===!0||!1}function Ut(e){var t=typeof e;return t==="object"?e===null?"null":Le(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Pe(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(n){return Pe(n)});if(e instanceof Date)return new Date(e.valueOf());if(Le(e))return e;if(mr(e))return Sl(e,Pe);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Sl(e,t){var n={};for(var i in e)fn(e,i)&&(n[i]=t(e[i]));return n}function $l(e,t){for(var n in t)fn(t,n)&&(e[n]=t[n]);return e}function Yt(e,t){var n,i,r;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(i=0,r=e.length;i<r;i++)if(!Yt(e[i],t[i]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Yt(e[n],t[n]))return!1;for(n in t)if(!(n in e))return!1;return!0}else return e===t}}function fn(e,t){return e&&Object.hasOwnProperty.call(e,t)}function xl(e,t){for(var n={},i=0;i<t.length;i++){var r=t[i],o=e[r];o!==void 0&&(n[r]=o)}return n}var Ml=["Matrix","Array"],Bl=["number","BigNumber","Fraction"],hn=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ho)};J(hn,ho,{MATRIX_OPTIONS:Ml,NUMBER_OPTIONS:Bl});function Jr(){return!0}function ut(){return!1}function qt(){}const Qr="Argument is not a typed-function.";function go(){function e(E){return typeof E=="object"&&E!==null&&E.constructor===Object}const t=[{name:"number",test:function(E){return typeof E=="number"}},{name:"string",test:function(E){return typeof E=="string"}},{name:"boolean",test:function(E){return typeof E=="boolean"}},{name:"Function",test:function(E){return typeof E=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(E){return E instanceof Date}},{name:"RegExp",test:function(E){return E instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(E){return E===null}},{name:"undefined",test:function(E){return E===void 0}}],n={name:"any",test:Jr,isAny:!0};let i,r,o=0,s={createCount:0};function c(E){const S=i.get(E);if(S)return S;let B='Unknown type "'+E+'"';const T=E.toLowerCase();let O;for(O of r)if(O.toLowerCase()===T){B+='. Did you mean "'+O+'" ?';break}throw new TypeError(B)}function f(E){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const B=S?c(S).index:r.length,T=[];for(let N=0;N<E.length;++N){if(!E[N]||typeof E[N].name!="string"||typeof E[N].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const q=E[N].name;if(i.has(q))throw new TypeError('Duplicate type name "'+q+'"');T.push(q),i.set(q,{name:q,test:E[N].test,isAny:E[N].isAny,index:B+N,conversionsTo:[]})}const O=r.slice(B);r=r.slice(0,B).concat(T).concat(O);for(let N=B+T.length;N<r.length;++N)i.get(r[N]).index=N}function h(){i=new Map,r=[],o=0,f([n],!1)}h(),f(t);function a(){let E;for(E of r)i.get(E).conversionsTo=[];o=0}function u(E){const S=r.filter(B=>{const T=i.get(B);return!T.isAny&&T.test(E)});return S.length?S:["any"]}function l(E){return E&&typeof E=="function"&&"_typedFunctionData"in E}function d(E,S,B){if(!l(E))throw new TypeError(Qr);const T=B&&B.exact,O=Array.isArray(S)?S.join(","):S,N=C(O),q=b(N);if(!T||q in E.signatures){const pe=E._typedFunctionData.signatureMap.get(q);if(pe)return pe}const z=N.length;let V;if(T){V=[];let pe;for(pe in E.signatures)V.push(E._typedFunctionData.signatureMap.get(pe))}else V=E._typedFunctionData.signatures;for(let pe=0;pe<z;++pe){const we=N[pe],$e=[];let je;for(je of V){const Ke=F(je.params,pe);if(!(!Ke||we.restParam&&!Ke.restParam)){if(!Ke.hasAny){const it=y(Ke);if(we.types.some(Ge=>!it.has(Ge.name)))continue}$e.push(je)}}if(V=$e,V.length===0)break}let L;for(L of V)if(L.params.length<=z)return L;throw new TypeError("Signature not found (signature: "+(E.name||"unnamed")+"("+b(N,", ")+"))")}function D(E,S,B){return d(E,S,B).implementation}function p(E,S){const B=c(S);if(B.test(E))return E;const T=B.conversionsTo;if(T.length===0)throw new Error("There are no conversions to "+S+" defined.");for(let O=0;O<T.length;O++)if(c(T[O].from).test(E))return T[O].convert(E);throw new Error("Cannot convert "+E+" to "+S)}function b(E){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return E.map(B=>B.name).join(S)}function v(E){const S=E.indexOf("...")===0,T=(S?E.length>3?E.slice(3):"any":E).split("|").map(z=>c(z.trim()));let O=!1,N=S?"...":"";return{types:T.map(function(z){return O=z.isAny||O,N+=z.name+"|",{name:z.name,typeIndex:z.index,test:z.test,isAny:z.isAny,conversion:null,conversionIndex:-1}}),name:N.slice(0,-1),hasAny:O,hasConversion:!1,restParam:S}}function w(E){const S=E.types.map(q=>q.name),B=X(S);let T=E.hasAny,O=E.name;const N=B.map(function(q){const z=c(q.from);return T=z.isAny||T,O+="|"+q.from,{name:q.from,typeIndex:z.index,test:z.test,isAny:z.isAny,conversion:q,conversionIndex:q.index}});return{types:E.types.concat(N),name:O,hasAny:T,hasConversion:N.length>0,restParam:E.restParam}}function y(E){return E.typeSet||(E.typeSet=new Set,E.types.forEach(S=>E.typeSet.add(S.name))),E.typeSet}function C(E){const S=[];if(typeof E!="string")throw new TypeError("Signatures must be strings");const B=E.trim();if(B==="")return S;const T=B.split(",");for(let O=0;O<T.length;++O){const N=v(T[O].trim());if(N.restParam&&O!==T.length-1)throw new SyntaxError('Unexpected rest parameter "'+T[O]+'": only allowed for the last parameter');if(N.types.length===0)return null;S.push(N)}return S}function m(E){const S=re(E);return S?S.restParam:!1}function g(E){if(!E||E.types.length===0)return Jr;if(E.types.length===1)return c(E.types[0].name).test;if(E.types.length===2){const S=c(E.types[0].name).test,B=c(E.types[1].name).test;return function(O){return S(O)||B(O)}}else{const S=E.types.map(function(B){return c(B.name).test});return function(T){for(let O=0;O<S.length;O++)if(S[O](T))return!0;return!1}}}function A(E){let S,B,T;if(m(E)){S=se(E).map(g);const O=S.length,N=g(re(E)),q=function(z){for(let V=O;V<z.length;V++)if(!N(z[V]))return!1;return!0};return function(V){for(let L=0;L<S.length;L++)if(!S[L](V[L]))return!1;return q(V)&&V.length>=O+1}}else return E.length===0?function(N){return N.length===0}:E.length===1?(B=g(E[0]),function(N){return B(N[0])&&N.length===1}):E.length===2?(B=g(E[0]),T=g(E[1]),function(N){return B(N[0])&&T(N[1])&&N.length===2}):(S=E.map(g),function(N){for(let q=0;q<S.length;q++)if(!S[q](N[q]))return!1;return N.length===S.length})}function F(E,S){return S<E.length?E[S]:m(E)?re(E):null}function _(E,S){const B=F(E,S);return B?y(B):new Set}function x(E){return E.conversion===null||E.conversion===void 0}function $(E,S){const B=new Set;return E.forEach(T=>{const O=_(T.params,S);let N;for(N of O)B.add(N)}),B.has("any")?["any"]:Array.from(B)}function M(E,S,B){let T,O;const N=E||"unnamed";let q=B,z;for(z=0;z<S.length;z++){const we=[];if(q.forEach($e=>{const je=F($e.params,z),Ke=g(je);(z<$e.params.length||m($e.params))&&Ke(S[z])&&we.push($e)}),we.length===0){if(O=$(q,z),O.length>0){const $e=u(S[z]);return T=new TypeError("Unexpected type of argument in function "+N+" (expected: "+O.join(" or ")+", actual: "+$e.join(" | ")+", index: "+z+")"),T.data={category:"wrongType",fn:N,index:z,actual:$e,expected:O},T}}else q=we}const V=q.map(function(we){return m(we.params)?1/0:we.params.length});if(S.length<Math.min.apply(null,V))return O=$(q,z),T=new TypeError("Too few arguments in function "+N+" (expected: "+O.join(" or ")+", index: "+S.length+")"),T.data={category:"tooFewArgs",fn:N,index:S.length,expected:O},T;const L=Math.max.apply(null,V);if(S.length>L)return T=new TypeError("Too many arguments in function "+N+" (expected: "+L+", actual: "+S.length+")"),T.data={category:"tooManyArgs",fn:N,index:S.length,expectedLength:L},T;const pe=[];for(let we=0;we<S.length;++we)pe.push(u(S[we]).join("|"));return T=new TypeError('Arguments of type "'+pe.join(", ")+'" do not match any of the defined signatures of function '+N+"."),T.data={category:"mismatch",actual:pe},T}function H(E){let S=r.length+1;for(let B=0;B<E.types.length;B++)x(E.types[B])&&(S=Math.min(S,E.types[B].typeIndex));return S}function W(E){let S=o+1;for(let B=0;B<E.types.length;B++)x(E.types[B])||(S=Math.min(S,E.types[B].conversionIndex));return S}function R(E,S){if(E.hasAny){if(!S.hasAny)return 1}else if(S.hasAny)return-1;if(E.restParam){if(!S.restParam)return 1}else if(S.restParam)return-1;if(E.hasConversion){if(!S.hasConversion)return 1}else if(S.hasConversion)return-1;const B=H(E)-H(S);if(B<0)return-1;if(B>0)return 1;const T=W(E)-W(S);return T<0?-1:T>0?1:0}function I(E,S){const B=E.params,T=S.params,O=re(B),N=re(T),q=m(B),z=m(T);if(q&&O.hasAny){if(!z||!N.hasAny)return 1}else if(z&&N.hasAny)return-1;let V=0,L=0,pe;for(pe of B)pe.hasAny&&++V,pe.hasConversion&&++L;let we=0,$e=0;for(pe of T)pe.hasAny&&++we,pe.hasConversion&&++$e;if(V!==we)return V-we;if(q&&O.hasConversion){if(!z||!N.hasConversion)return 1}else if(z&&N.hasConversion)return-1;if(L!==$e)return L-$e;if(q){if(!z)return 1}else if(z)return-1;const je=(B.length-T.length)*(q?-1:1);if(je!==0)return je;const Ke=[];let it=0;for(let wt=0;wt<B.length;++wt){const vn=R(B[wt],T[wt]);Ke.push(vn),it+=vn}if(it!==0)return it;let Ge;for(Ge of Ke)if(Ge!==0)return Ge;return 0}function X(E){if(E.length===0)return[];const S=E.map(c);E.length>1&&S.sort((O,N)=>O.index-N.index);let B=S[0].conversionsTo;if(E.length===1)return B;B=B.concat([]);const T=new Set(E);for(let O=1;O<S.length;++O){let N;for(N of S[O].conversionsTo)T.has(N.from)||(B.push(N),T.add(N.from))}return B}function G(E,S){let B=S;if(E.some(O=>O.hasConversion)){const O=m(E),N=E.map(U);B=function(){const z=[],V=O?arguments.length-1:arguments.length;for(let L=0;L<V;L++)z[L]=N[L](arguments[L]);return O&&(z[V]=arguments[V].map(N[V])),S.apply(this,z)}}let T=B;if(m(E)){const O=E.length-1;T=function(){return B.apply(this,ie(arguments,0,O).concat([ie(arguments,O)]))}}return T}function U(E){let S,B,T,O;const N=[],q=[];switch(E.types.forEach(function(z){z.conversion&&(N.push(c(z.conversion.from).test),q.push(z.conversion.convert))}),q.length){case 0:return function(V){return V};case 1:return S=N[0],T=q[0],function(V){return S(V)?T(V):V};case 2:return S=N[0],B=N[1],T=q[0],O=q[1],function(V){return S(V)?T(V):B(V)?O(V):V};default:return function(V){for(let L=0;L<q.length;L++)if(N[L](V))return q[L](V);return V}}}function ne(E){function S(B,T,O){if(T<B.length){const N=B[T];let q=[];if(N.restParam){const z=N.types.filter(x);z.length<N.types.length&&q.push({types:z,name:"..."+z.map(V=>V.name).join("|"),hasAny:z.some(V=>V.isAny),hasConversion:!1,restParam:!0}),q.push(N)}else q=N.types.map(function(z){return{types:[z],name:z.name,hasAny:z.isAny,hasConversion:z.conversion,restParam:!1}});return he(q,function(z){return S(B,T+1,O.concat([z]))})}else return[O]}return S(E,0,[])}function j(E,S){const B=Math.max(E.length,S.length);for(let z=0;z<B;z++){const V=_(E,z),L=_(S,z);let pe=!1,we;for(we of L)if(V.has(we)){pe=!0;break}if(!pe)return!1}const T=E.length,O=S.length,N=m(E),q=m(S);return N?q?T===O:O>=T:q?T>=O:T===O}function te(E){return E.map(S=>fe(S)?ke(S.referToSelf.callback):tt(S)?_e(S.referTo.references,S.referTo.callback):S)}function ue(E,S,B){const T=[];let O;for(O of E){let N=B[O];if(typeof N!="number")throw new TypeError('No definition for referenced signature "'+O+'"');if(N=S[N],typeof N!="function")return!1;T.push(N)}return T}function me(E,S,B){const T=te(E),O=new Array(T.length).fill(!1);let N=!0;for(;N;){N=!1;let q=!0;for(let z=0;z<T.length;++z){if(O[z])continue;const V=T[z];if(fe(V))T[z]=V.referToSelf.callback(B),T[z].referToSelf=V.referToSelf,O[z]=!0,q=!1;else if(tt(V)){const L=ue(V.referTo.references,T,S);L?(T[z]=V.referTo.callback.apply(this,L),T[z].referTo=V.referTo,O[z]=!0,q=!1):N=!0}}if(q&&N)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return T}function ge(E){const S=/\bthis(\(|\.signatures\b)/;Object.keys(E).forEach(B=>{const T=E[B];if(S.test(T.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function K(E,S){if(s.createCount++,Object.keys(S).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&ge(S);const B=[],T=[],O={},N=[];let q;for(q in S){if(!Object.prototype.hasOwnProperty.call(S,q))continue;const Ce=C(q);if(!Ce)continue;B.forEach(function(on){if(j(on,Ce))throw new TypeError('Conflicting signatures "'+b(on)+'" and "'+b(Ce)+'".')}),B.push(Ce);const nt=T.length;T.push(S[q]);const Tu=Ce.map(w);let mn;for(mn of ne(Tu)){const on=b(mn);N.push({params:mn,name:on,fn:nt}),mn.every(Iu=>!Iu.hasConversion)&&(O[on]=nt)}}N.sort(I);const z=me(T,O,rn);let V;for(V in O)Object.prototype.hasOwnProperty.call(O,V)&&(O[V]=z[O[V]]);const L=[],pe=new Map;for(V of N)pe.has(V.name)||(V.fn=z[V.fn],L.push(V),pe.set(V.name,V));const we=L[0]&&L[0].params.length<=2&&!m(L[0].params),$e=L[1]&&L[1].params.length<=2&&!m(L[1].params),je=L[2]&&L[2].params.length<=2&&!m(L[2].params),Ke=L[3]&&L[3].params.length<=2&&!m(L[3].params),it=L[4]&&L[4].params.length<=2&&!m(L[4].params),Ge=L[5]&&L[5].params.length<=2&&!m(L[5].params),wt=we&&$e&&je&&Ke&&it&&Ge;for(let Ce=0;Ce<L.length;++Ce)L[Ce].test=A(L[Ce].params);const vn=we?g(L[0].params[0]):ut,ou=$e?g(L[1].params[0]):ut,uu=je?g(L[2].params[0]):ut,au=Ke?g(L[3].params[0]):ut,su=it?g(L[4].params[0]):ut,lu=Ge?g(L[5].params[0]):ut,cu=we?g(L[0].params[1]):ut,fu=$e?g(L[1].params[1]):ut,du=je?g(L[2].params[1]):ut,hu=Ke?g(L[3].params[1]):ut,pu=it?g(L[4].params[1]):ut,vu=Ge?g(L[5].params[1]):ut;for(let Ce=0;Ce<L.length;++Ce)L[Ce].implementation=G(L[Ce].params,L[Ce].fn);const mu=we?L[0].implementation:qt,gu=$e?L[1].implementation:qt,Du=je?L[2].implementation:qt,yu=Ke?L[3].implementation:qt,bu=it?L[4].implementation:qt,wu=Ge?L[5].implementation:qt,Cu=we?L[0].params.length:-1,Eu=$e?L[1].params.length:-1,Au=je?L[2].params.length:-1,Fu=Ke?L[3].params.length:-1,_u=it?L[4].params.length:-1,Su=Ge?L[5].params.length:-1,$u=wt?6:0,xu=L.length,Mu=L.map(Ce=>Ce.test),Bu=L.map(Ce=>Ce.implementation),Nu=function(){for(let nt=$u;nt<xu;nt++)if(Mu[nt](arguments))return Bu[nt].apply(this,arguments);return s.onMismatch(E,arguments,L)};function rn(Ce,nt){return arguments.length===Cu&&vn(Ce)&&cu(nt)?mu.apply(this,arguments):arguments.length===Eu&&ou(Ce)&&fu(nt)?gu.apply(this,arguments):arguments.length===Au&&uu(Ce)&&du(nt)?Du.apply(this,arguments):arguments.length===Fu&&au(Ce)&&hu(nt)?yu.apply(this,arguments):arguments.length===_u&&su(Ce)&&pu(nt)?bu.apply(this,arguments):arguments.length===Su&&lu(Ce)&&vu(nt)?wu.apply(this,arguments):Nu.apply(this,arguments)}try{Object.defineProperty(rn,"name",{value:E})}catch{}return rn.signatures=O,rn._typedFunctionData={signatures:L,signatureMap:pe},rn}function Y(E,S,B){throw M(E,S,B)}function se(E){return ie(E,0,E.length-1)}function re(E){return E[E.length-1]}function ie(E,S,B){return Array.prototype.slice.call(E,S,B)}function be(E,S){for(let B=0;B<E.length;B++)if(S(E[B]))return E[B]}function he(E,S){return Array.prototype.concat.apply([],E.map(S))}function ce(){const E=se(arguments).map(B=>b(C(B))),S=re(arguments);if(typeof S!="function")throw new TypeError("Callback function expected as last argument");return _e(E,S)}function _e(E,S){return{referTo:{references:E,callback:S}}}function ke(E){if(typeof E!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:E}}}function tt(E){return E&&typeof E.referTo=="object"&&Array.isArray(E.referTo.references)&&typeof E.referTo.callback=="function"}function fe(E){return E&&typeof E.referToSelf=="object"&&typeof E.referToSelf.callback=="function"}function ae(E,S){if(!E)return S;if(S&&S!==E){const B=new Error("Function names do not match (expected: "+E+", actual: "+S+")");throw B.data={actual:S,expected:E},B}return E}function Q(E){let S;for(const B in E)Object.prototype.hasOwnProperty.call(E,B)&&(l(E[B])||typeof E[B].signature=="string")&&(S=ae(S,E[B].name));return S}function de(E,S){let B;for(B in S)if(Object.prototype.hasOwnProperty.call(S,B)){if(B in E&&S[B]!==E[B]){const T=new Error('Signature "'+B+'" is defined twice');throw T.data={signature:B,sourceFunction:S[B],destFunction:E[B]},T}E[B]=S[B]}}const Se=s;s=function(E){const S=typeof E=="string",B=S?1:0;let T=S?E:"";const O={};for(let N=B;N<arguments.length;++N){const q=arguments[N];let z={},V;if(typeof q=="function"?(V=q.name,typeof q.signature=="string"?z[q.signature]=q:l(q)&&(z=q.signatures)):e(q)&&(z=q,S||(V=Q(q))),Object.keys(z).length===0){const L=new TypeError("Argument to 'typed' at index "+N+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw L.data={index:N,argument:q},L}S||(T=ae(T,V)),de(O,z)}return K(T||"",O)},s.create=go,s.createCount=Se.createCount,s.onMismatch=Y,s.throwMismatchError=Y,s.createError=M,s.clear=h,s.clearConversions=a,s.addTypes=f,s._findType=c,s.referTo=ce,s.referToSelf=ke,s.convert=p,s.findSignature=d,s.find=D,s.isTypedFunction=l,s.warnAgainstDeprecatedThis=!0,s.addType=function(E,S){let B="any";S!==!1&&i.has("Object")&&(B="Object"),s.addTypes([E],B)};function Ie(E){if(!E||typeof E.from!="string"||typeof E.to!="string"||typeof E.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(E.to===E.from)throw new SyntaxError('Illegal to define conversion from "'+E.from+'" to itself.')}return s.addConversion=function(E){Ie(E);const S=c(E.to);if(S.conversionsTo.every(function(B){return B.from!==E.from}))S.conversionsTo.push({from:E.from,convert:E.convert,index:o++});else throw new Error('There is already a conversion from "'+E.from+'" to "'+S.name+'"')},s.addConversions=function(E){E.forEach(s.addConversion)},s.removeConversion=function(E){Ie(E);const S=c(E.to),B=be(S.conversionsTo,O=>O.from===E.from);if(!B)throw new Error("Attempt to remove nonexistent conversion from "+E.from+" to "+E.to);if(B.convert!==E.convert)throw new Error("Conversion to remove does not match existing conversion");const T=S.conversionsTo.indexOf(B);S.conversionsTo.splice(T,1)},s.resolve=function(E,S){if(!l(E))throw new TypeError(Qr);const B=E._typedFunctionData.signatures;for(let T=0;T<B.length;++T)if(B[T].test(S))return B[T];return null},s}const ei=go();function We(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Xn(e,t,n){var i={2:"0b",8:"0o",16:"0x"},r=i[t],o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!We(n))throw new Error("size must be an integer");if(e>2**(n-1)-1||e<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!We(e))throw new Error("Value must be an integer");e<0&&(e=e+2**n),o="i".concat(n)}var s="";return e<0&&(e=-e,s="-"),"".concat(s).concat(r).concat(e.toString(t)).concat(o)}function Qn(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:n,precision:i,wordSize:r}=Do(t);switch(n){case"fixed":return Tl(e,i);case"exponential":return yo(e,i);case"engineering":return Nl(e,i);case"bin":return Xn(e,2,r);case"oct":return Xn(e,8,r);case"hex":return Xn(e,16,r);case"auto":return Il(e,i,t).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Do(e){var t="auto",n,i;if(e!==void 0)if(xe(e))n=e;else if(Le(e))n=e.toNumber();else if(mr(e))e.precision!==void 0&&(n=ti(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(i=ti(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:n,wordSize:i}}function kn(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],i=t[2],r=parseFloat(t[4]||"0"),o=i.indexOf(".");r+=o!==-1?o-1:i.length-1;var s=i.replace(".","").replace(/^0*/,function(c){return r-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return s.length===0&&(s.push(0),r++),{sign:n,coefficients:s,exponent:r}}function Nl(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=kn(e),i=Kn(n,t),r=i.exponent,o=i.coefficients,s=r%3===0?r:r<0?r-3-r%3:r-r%3;if(xe(t))for(;t>o.length||r-s+1>o.length;)o.push(0);else for(var c=Math.abs(r-s)-(o.length-1),f=0;f<c;f++)o.push(0);for(var h=Math.abs(r-s),a=1;h>0;)a++,h--;var u=o.slice(a).join(""),l=xe(t)&&u.length||u.match(/[1-9]/)?"."+u:"",d=o.slice(0,a).join("")+l+"e"+(r>=0?"+":"")+s.toString();return i.sign+d}function Tl(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=kn(e),i=typeof t=="number"?Kn(n,n.exponent+1+t):n,r=i.coefficients,o=i.exponent+1,s=o+(t||0);return r.length<s&&(r=r.concat(Xt(s-r.length))),o<0&&(r=Xt(-o+1).concat(r),o=1),o<r.length&&r.splice(o,0,o===0?"0.":"."),i.sign+r.join("")}function yo(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=kn(e),i=t?Kn(n,t):n,r=i.coefficients,o=i.exponent;r.length<t&&(r=r.concat(Xt(t-r.length)));var s=r.shift();return i.sign+s+(r.length>0?"."+r.join(""):"")+"e"+(o>=0?"+":"")+o}function Il(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var i=ni(n==null?void 0:n.lowerExp,-3),r=ni(n==null?void 0:n.upperExp,5),o=kn(e),s=t?Kn(o,t):o;if(s.exponent<i||s.exponent>=r)return yo(e,t);var c=s.coefficients,f=s.exponent;c.length<t&&(c=c.concat(Xt(t-c.length))),c=c.concat(Xt(f-c.length+1+(c.length<t?t-c.length:0))),c=Xt(-f).concat(c);var h=f>0?f:0;return h<c.length-1&&c.splice(h+1,0,"."),s.sign+c.join("")}function Kn(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},i=n.coefficients;t<=0;)i.unshift(0),n.exponent++,t++;if(i.length>t){var r=i.splice(t,i.length-t);if(r[0]>=5){var o=t-1;for(i[o]++;i[o]===10;)i.pop(),o===0&&(i.unshift(0),n.exponent++,o++),o--,i[o]++}}return n}function Xt(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function Pl(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Ol=Number.EPSILON||2220446049250313e-31;function Bn(e,t,n){if(n==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var i=Math.abs(e-t);return i<=Ol?!0:i<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}function ti(e,t){if(xe(e))return e;if(Le(e))return e.toNumber();t()}function ni(e,t){return xe(e)?e:Le(e)?e.toNumber():t}function jn(e,t,n){var i=e.constructor,r=new i(2),o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!We(n))throw new Error("size must be an integer");if(e.greaterThan(r.pow(n-1).sub(1))||e.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(r.pow(n))),o="i".concat(n)}switch(t){case 2:return"".concat(e.toBinary()).concat(o);case 8:return"".concat(e.toOctal()).concat(o);case 16:return"".concat(e.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(t," not supported "))}}function Rl(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:n,precision:i,wordSize:r}=Do(t);switch(n){case"fixed":return Ll(e,i);case"exponential":return ri(e,i);case"engineering":return zl(e,i);case"bin":return jn(e,2,r);case"oct":return jn(e,8,r);case"hex":return jn(e,16,r);case"auto":{var o=ii(t==null?void 0:t.lowerExp,-3),s=ii(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var c,f=e.toSignificantDigits(i),h=f.e;return h>=o&&h<s?c=f.toFixed():c=ri(e,i),c.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],u=arguments[4];return a!=="."?a+u:u})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function zl(e,t){var n=e.e,i=n%3===0?n:n<0?n-3-n%3:n-n%3,r=e.mul(Math.pow(10,-i)),o=r.toPrecision(t);if(o.indexOf("e")!==-1){var s=e.constructor;o=new s(o).toFixed()}return o+"e"+(n>=0?"+":"")+i.toString()}function ri(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Ll(e,t){return e.toFixed(t)}function ii(e,t){return xe(e)?e:Le(e)?e.toNumber():t}function Re(e,t){var n=kl(e,t);return t&&typeof t=="object"&&"truncate"in t&&n.length>t.truncate?n.substring(0,t.truncate-3)+"...":n}function kl(e,t){if(typeof e=="number")return Qn(e,t);if(Le(e))return Rl(e,t);if(Kl(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return bo(e,t);if(ht(e))return oi(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var n=Object.keys(e).map(i=>oi(i)+": "+Re(e[i],t));return"{"+n.join(", ")+"}"}return String(e)}function oi(e){for(var t=String(e),n="",i=0;i<t.length;){var r=t.charAt(i);n+=r in ui?ui[r]:r,i++}return'"'+n+'"'}var ui={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function bo(e,t){if(Array.isArray(e)){for(var n="[",i=e.length,r=0;r<i;r++)r!==0&&(n+=", "),n+=bo(e[r],t);return n+="]",n}else return Re(e,t)}function Kl(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function Me(e,t,n){if(!(this instanceof Me))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Me.prototype=new RangeError;Me.prototype.constructor=RangeError;Me.prototype.name="DimensionError";Me.prototype.isDimensionError=!0;function tn(e,t,n){if(!(this instanceof tn))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}tn.prototype=new RangeError;tn.prototype.constructor=RangeError;tn.prototype.name="IndexError";tn.prototype.isIndexError=!0;function at(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function wo(e,t,n){var i,r=e.length;if(r!==t[n])throw new Me(r,t[n]);if(n<t.length-1){var o=n+1;for(i=0;i<r;i++){var s=e[i];if(!Array.isArray(s))throw new Me(t.length-1,t.length,"<");wo(e[i],t,o)}}else for(i=0;i<r;i++)if(Array.isArray(e[i]))throw new Me(t.length+1,t.length,">")}function ai(e,t){var n=t.length===0;if(n){if(Array.isArray(e))throw new Me(e.length,0)}else wo(e,t,0)}function Ne(e,t){if(e!==void 0){if(!xe(e)||!We(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new tn(e,t)}}function er(e,t,n){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(r){if(!xe(r)||!We(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Re(t)+")")}),(xe(e)||Le(e))&&(e=[e]);var i=n!==void 0?n:0;return tr(e,t,0,i),e}function tr(e,t,n,i){var r,o,s=e.length,c=t[n],f=Math.min(s,c);if(e.length=c,n<t.length-1){var h=n+1;for(r=0;r<f;r++)o=e[r],Array.isArray(o)||(o=[o],e[r]=o),tr(o,t,h,i);for(r=f;r<c;r++)o=[],e[r]=o,tr(o,t,h,i)}else{for(r=0;r<f;r++)for(;Array.isArray(e[r]);)e[r]=e[r][0];for(r=f;r<c;r++)e[r]=i}}function Co(e,t){var n=ql(e),i=n.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Me(0,i,"!=");t=gr(t,i);var r=Eo(t);if(i!==r)throw new Me(r,i,"!=");try{return Hl(n,t)}catch(o){throw o instanceof Me?new Me(r,i,"!="):o}}function gr(e,t){var n=Eo(e),i=e.slice(),r=-1,o=e.indexOf(r),s=e.indexOf(r,o+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var c=o>=0,f=t%n===0;if(c)if(f)i[o]=-t/n;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-n);return i}function Eo(e){return e.reduce((t,n)=>t*n,1)}function Hl(e,t){for(var n=e,i,r=t.length-1;r>0;r--){var o=t[r];i=[];for(var s=n.length/o,c=0;c<s;c++)i.push(n.slice(c*o,(c+1)*o));n=i}return n}function Ao(e,t,n,i){var r=i||at(e);if(n)for(var o=0;o<n;o++)e=[e],r.unshift(1);for(e=Fo(e,t,0);r.length<t;)r.push(1);return e}function Fo(e,t,n){var i,r;if(Array.isArray(e)){var o=n+1;for(i=0,r=e.length;i<r;i++)e[i]=Fo(e[i],t,o)}else for(var s=n;s<t;s++)e=[e];return e}function ql(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function n(i){Array.isArray(i)?i.forEach(n):t.push(i)}),t}function Nn(e,t){for(var n,i=0,r=0;r<e.length;r++){var o=e[r],s=Array.isArray(o);if(r===0&&s&&(i=o.length),s&&o.length!==i)return;var c=s?Nn(o,t):t(o);if(n===void 0)n=c;else if(n!==c)return"mixed"}return n}function _o(e,t,n,i){if(i<n){if(e.length!==t.length)throw new Me(e.length,t.length);for(var r=[],o=0;o<e.length;o++)r[o]=_o(e[o],t[o],n,i+1);return r}else return e.concat(t)}function Wl(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(n,i){return _o(n,i,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Vl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=t.map(l=>l.length),r=Math.max(...i),o=new Array(r).fill(null),s=0;s<t.length;s++)for(var c=t[s],f=i[s],h=0;h<f;h++){var a=r-f+h;c[h]>o[a]&&(o[a]=c[h])}for(var u=0;u<t.length;u++)So(t[u],o);return o}function So(e,t){for(var n=t.length,i=e.length,r=0;r<i;r++){var o=n-i+r;if(e[r]<t[o]&&e[r]>1||e[r]>t[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(i," with size ").concat(e[r]," to size ").concat(t[o]))}}function si(e,t){var n=at(e);if(Yt(n,t))return e;So(n,t);var i=Vl(n,t),r=i.length,o=[...Array(r-n.length).fill(1),...n],s=Xl(e);n.length<r&&(s=Co(s,o),n=at(s));for(var c=0;c<r;c++)n[c]<i[c]&&(s=Ul(s,i[c],c),n=at(s));return s}function Ul(e,t,n){return Wl(...Array(t).fill(e),n)}function Xl(e){return J([],e)}function De(e,t,n,i){function r(o){var s=xl(o,t.map(Zl));return jl(e,t,o),n(s)}return r.isFactory=!0,r.fn=e,r.dependencies=t.slice().sort(),i&&(r.meta=i),r}function jl(e,t,n){var i=t.filter(o=>!Gl(o)).every(o=>n[o]!==void 0);if(!i){var r=t.filter(o=>n[o]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(r.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function Gl(e){return e&&e[0]==="?"}function Zl(e){return e&&e[0]==="?"?e.slice(1):e}function Yl(e,t){if(xo(e)&&$o(e,t))return e[t];throw typeof e[t]=="function"&&ec(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Jl(e,t,n){if(xo(e)&&$o(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function Ql(e,t){return t in e}function $o(e,t){return!e||typeof e!="object"?!1:fn(tc,t)?!0:!(t in Object.prototype||t in Function.prototype)}function ec(e,t){return e==null||typeof e[t]!="function"||fn(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:fn(nc,t)?!0:!(t in Object.prototype||t in Function.prototype)}function xo(e){return typeof e=="object"&&e&&e.constructor===Object}var tc={length:!0,name:!0},nc={toString:!0,valueOf:!0,toLocaleString:!0};class rc{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(t){return Yl(this.wrappedObject,t)}set(t,n){return Jl(this.wrappedObject,t,n),this}has(t){return Ql(this.wrappedObject,t)}entries(){return ic(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var n of this.keys())t(this.get(n),n,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function ic(e,t){return{next:()=>{var n=e.next();return n.done?n:{value:t(n.value),done:!1}}}}function oc(e){return e?e instanceof Map||e instanceof rc||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var Mo=function(){return Mo=ei.create,ei},uc=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ac=De("typed",uc,function(t){var{BigNumber:n,Complex:i,DenseMatrix:r,Fraction:o}=t,s=Mo();return s.clear(),s.addTypes([{name:"number",test:xe},{name:"Complex",test:po},{name:"BigNumber",test:Le},{name:"Fraction",test:vo},{name:"Unit",test:mo},{name:"identifier",test:c=>ht&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(c)},{name:"string",test:ht},{name:"Chain",test:_l},{name:"Array",test:Be},{name:"Matrix",test:Ue},{name:"DenseMatrix",test:Qs},{name:"SparseMatrix",test:el},{name:"Range",test:tl},{name:"Index",test:vr},{name:"boolean",test:nl},{name:"ResultSet",test:rl},{name:"Help",test:il},{name:"function",test:ol},{name:"Date",test:ul},{name:"RegExp",test:al},{name:"null",test:sl},{name:"undefined",test:ll},{name:"AccessorNode",test:cl},{name:"ArrayNode",test:fl},{name:"AssignmentNode",test:dl},{name:"BlockNode",test:hl},{name:"ConditionalNode",test:pl},{name:"ConstantNode",test:vl},{name:"FunctionNode",test:gl},{name:"FunctionAssignmentNode",test:ml},{name:"IndexNode",test:Dl},{name:"Node",test:yl},{name:"ObjectNode",test:bl},{name:"OperatorNode",test:wl},{name:"ParenthesisNode",test:Cl},{name:"RangeNode",test:El},{name:"RelationalNode",test:Al},{name:"SymbolNode",test:Fl},{name:"Map",test:oc},{name:"Object",test:mr}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(f){if(n||Gn(f),Pl(f)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+f+"). Use function bignumber(x) to convert to BigNumber.");return new n(f)}},{from:"number",to:"Complex",convert:function(f){return i||yn(f),new i(f,0)}},{from:"BigNumber",to:"Complex",convert:function(f){return i||yn(f),new i(f.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(f){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(f){return i||yn(f),new i(f.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(f){o||Zn(f);var h=new o(f);if(h.valueOf()!==f)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+f+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(f){var h=Number(f);if(isNaN(h))throw new Error('Cannot convert "'+f+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(f){n||Gn(f);try{return new n(f)}catch{throw new Error('Cannot convert "'+f+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(f){o||Zn(f);try{return new o(f)}catch{throw new Error('Cannot convert "'+f+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(f){i||yn(f);try{return new i(f)}catch{throw new Error('Cannot convert "'+f+'" to Complex')}}},{from:"boolean",to:"number",convert:function(f){return+f}},{from:"boolean",to:"BigNumber",convert:function(f){return n||Gn(f),new n(+f)}},{from:"boolean",to:"Fraction",convert:function(f){return o||Zn(f),new o(+f)}},{from:"boolean",to:"string",convert:function(f){return String(f)}},{from:"Array",to:"Matrix",convert:function(f){return r||sc(),new r(f)}},{from:"Matrix",to:"Array",convert:function(f){return f.valueOf()}}]),s.onMismatch=(c,f,h)=>{var a=s.createError(c,f,h);if(["wrongType","mismatch"].includes(a.data.category)&&f.length===1&&Mn(f[0])&&h.some(l=>!l.params.includes(","))){var u=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw u.data=a.data,u}throw a},s.onMismatch=(c,f,h)=>{var a=s.createError(c,f,h);if(["wrongType","mismatch"].includes(a.data.category)&&f.length===1&&Mn(f[0])&&h.some(l=>!l.params.includes(","))){var u=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw u.data=a.data,u}throw a},s});function Gn(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function yn(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function sc(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Zn(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Wt=9e15,It=1e9,nr="0123456789abcdef",Tn="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",In="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",rr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Wt,maxE:Wt,crypto:!1},Bo,gt,le=!0,Hn="[DecimalError] ",Bt=Hn+"Invalid argument: ",No=Hn+"Precision limit exceeded",To=Hn+"crypto unavailable",Io="[object Decimal]",et=Math.floor,qe=Math.pow,lc=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,cc=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,fc=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Po=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dt=1e7,oe=7,dc=9007199254740991,hc=Tn.length-1,ir=In.length-1,P={toStringTag:Io};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),ee(e)};P.ceil=function(){return ee(new this.constructor(this),this.e+1,2)};P.clampedTo=P.clamp=function(e,t){var n,i=this,r=i.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(Bt+t);return n=i.cmp(e),n<0?e:i.cmp(t)>0?t:new r(i)};P.comparedTo=P.cmp=function(e){var t,n,i,r,o=this,s=o.d,c=(e=new o.constructor(e)).d,f=o.s,h=e.s;if(!s||!c)return!f||!h?NaN:f!==h?f:s===c?0:!s^f<0?1:-1;if(!s[0]||!c[0])return s[0]?f:c[0]?-h:0;if(f!==h)return f;if(o.e!==e.e)return o.e>e.e^f<0?1:-1;for(i=s.length,r=c.length,t=0,n=i<r?i:r;t<n;++t)if(s[t]!==c[t])return s[t]>c[t]^f<0?1:-1;return i===r?0:i>r^f<0?1:-1};P.cosine=P.cos=function(){var e,t,n=this,i=n.constructor;return n.d?n.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+oe,i.rounding=1,n=pc(i,ko(i,n)),i.precision=e,i.rounding=t,ee(gt==2||gt==3?n.neg():n,e,t,!0)):new i(1):new i(NaN)};P.cubeRoot=P.cbrt=function(){var e,t,n,i,r,o,s,c,f,h,a=this,u=a.constructor;if(!a.isFinite()||a.isZero())return new u(a);for(le=!1,o=a.s*qe(a.s*a,1/3),!o||Math.abs(o)==1/0?(n=Ye(a.d),e=a.e,(o=(e-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=qe(n,1/3),e=et((e+1)/3)-(e%3==(e<0?-1:2)),o==1/0?n="5e"+e:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),i=new u(n),i.s=a.s):i=new u(o.toString()),s=(e=u.precision)+3;;)if(c=i,f=c.times(c).times(c),h=f.plus(a),i=Fe(h.plus(a).times(c),h.plus(f),s+2,1),Ye(c.d).slice(0,s)===(n=Ye(i.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!r&&n=="4999"){if(!r&&(ee(c,e+1,0),c.times(c).times(c).eq(a))){i=c;break}s+=4,r=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(ee(i,e+1,1),t=!i.times(i).times(i).eq(a));break}return le=!0,ee(i,e,u.rounding,t)};P.decimalPlaces=P.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-et(this.e/oe))*oe,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};P.dividedBy=P.div=function(e){return Fe(this,new this.constructor(e))};P.dividedToIntegerBy=P.divToInt=function(e){var t=this,n=t.constructor;return ee(Fe(t,new n(e),0,1,1),n.precision,n.rounding)};P.equals=P.eq=function(e){return this.cmp(e)===0};P.floor=function(){return ee(new this.constructor(this),this.e+1,3)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){var t=this.cmp(e);return t==1||t===0};P.hyperbolicCosine=P.cosh=function(){var e,t,n,i,r,o=this,s=o.constructor,c=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return c;n=s.precision,i=s.rounding,s.precision=n+Math.max(o.e,o.sd())+4,s.rounding=1,r=o.d.length,r<32?(e=Math.ceil(r/3),t=(1/Wn(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),o=Jt(s,1,o.times(t),new s(1),!0);for(var f,h=e,a=new s(8);h--;)f=o.times(o),o=c.minus(f.times(a.minus(f.times(a))));return ee(o,s.precision=n,s.rounding=i,!0)};P.hyperbolicSine=P.sinh=function(){var e,t,n,i,r=this,o=r.constructor;if(!r.isFinite()||r.isZero())return new o(r);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(r.e,r.sd())+4,o.rounding=1,i=r.d.length,i<3)r=Jt(o,2,r,r,!0);else{e=1.4*Math.sqrt(i),e=e>16?16:e|0,r=r.times(1/Wn(5,e)),r=Jt(o,2,r,r,!0);for(var s,c=new o(5),f=new o(16),h=new o(20);e--;)s=r.times(r),r=r.times(c.plus(s.times(f.times(s).plus(h))))}return o.precision=t,o.rounding=n,ee(r,t,n,!0)};P.hyperbolicTangent=P.tanh=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,Fe(n.sinh(),n.cosh(),i.precision=e,i.rounding=t)):new i(n.s)};P.inverseCosine=P.acos=function(){var e,t=this,n=t.constructor,i=t.abs().cmp(1),r=n.precision,o=n.rounding;return i!==-1?i===0?t.isNeg()?ft(n,r,o):new n(0):new n(NaN):t.isZero()?ft(n,r+4,o).times(.5):(n.precision=r+6,n.rounding=1,t=t.asin(),e=ft(n,r+4,o).times(.5),n.precision=r,n.rounding=o,e.minus(t))};P.inverseHyperbolicCosine=P.acosh=function(){var e,t,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,le=!1,n=n.times(n).minus(1).sqrt().plus(n),le=!0,i.precision=e,i.rounding=t,n.ln()):new i(n)};P.inverseHyperbolicSine=P.asinh=function(){var e,t,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,le=!1,n=n.times(n).plus(1).sqrt().plus(n),le=!0,i.precision=e,i.rounding=t,n.ln())};P.inverseHyperbolicTangent=P.atanh=function(){var e,t,n,i,r=this,o=r.constructor;return r.isFinite()?r.e>=0?new o(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(e=o.precision,t=o.rounding,i=r.sd(),Math.max(i,e)<2*-r.e-1?ee(new o(r),e,t,!0):(o.precision=n=i-r.e,r=Fe(r.plus(1),new o(1).minus(r),n+e,1),o.precision=e+4,o.rounding=1,r=r.ln(),o.precision=e,o.rounding=t,r.times(.5))):new o(NaN)};P.inverseSine=P.asin=function(){var e,t,n,i,r=this,o=r.constructor;return r.isZero()?new o(r):(t=r.abs().cmp(1),n=o.precision,i=o.rounding,t!==-1?t===0?(e=ft(o,n+4,i).times(.5),e.s=r.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,r=r.div(new o(1).minus(r.times(r)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=i,r.times(2)))};P.inverseTangent=P.atan=function(){var e,t,n,i,r,o,s,c,f,h=this,a=h.constructor,u=a.precision,l=a.rounding;if(h.isFinite()){if(h.isZero())return new a(h);if(h.abs().eq(1)&&u+4<=ir)return s=ft(a,u+4,l).times(.25),s.s=h.s,s}else{if(!h.s)return new a(NaN);if(u+4<=ir)return s=ft(a,u+4,l).times(.5),s.s=h.s,s}for(a.precision=c=u+10,a.rounding=1,n=Math.min(28,c/oe+2|0),e=n;e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(le=!1,t=Math.ceil(c/oe),i=1,f=h.times(h),s=new a(h),r=h;e!==-1;)if(r=r.times(f),o=s.minus(r.div(i+=2)),r=r.times(f),s=o.plus(r.div(i+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===o.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),le=!0,ee(s,a.precision=u,a.rounding=l,!0)};P.isFinite=function(){return!!this.d};P.isInteger=P.isInt=function(){return!!this.d&&et(this.e/oe)>this.d.length-2};P.isNaN=function(){return!this.s};P.isNegative=P.isNeg=function(){return this.s<0};P.isPositive=P.isPos=function(){return this.s>0};P.isZero=function(){return!!this.d&&this.d[0]===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var t,n,i,r,o,s,c,f,h=this,a=h.constructor,u=a.precision,l=a.rounding,d=5;if(e==null)e=new a(10),t=!0;else{if(e=new a(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new a(NaN);t=e.eq(10)}if(n=h.d,h.s<0||!n||!n[0]||h.eq(1))return new a(n&&!n[0]?-1/0:h.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(r=n[0];r%10===0;)r/=10;o=r!==1}if(le=!1,c=u+d,s=Ft(h,c),i=t?Pn(a,c+10):Ft(e,c),f=Fe(s,i,c,1),dn(f.d,r=u,l))do if(c+=10,s=Ft(h,c),i=t?Pn(a,c+10):Ft(e,c),f=Fe(s,i,c,1),!o){+Ye(f.d).slice(r+1,r+15)+1==1e14&&(f=ee(f,u+1,0));break}while(dn(f.d,r+=10,l));return le=!0,ee(f,u,l)};P.minus=P.sub=function(e){var t,n,i,r,o,s,c,f,h,a,u,l,d=this,D=d.constructor;if(e=new D(e),!d.d||!e.d)return!d.s||!e.s?e=new D(NaN):d.d?e.s=-e.s:e=new D(e.d||d.s!==e.s?d:NaN),e;if(d.s!=e.s)return e.s=-e.s,d.plus(e);if(h=d.d,l=e.d,c=D.precision,f=D.rounding,!h[0]||!l[0]){if(l[0])e.s=-e.s;else if(h[0])e=new D(d);else return new D(f===3?-0:0);return le?ee(e,c,f):e}if(n=et(e.e/oe),a=et(d.e/oe),h=h.slice(),o=a-n,o){for(u=o<0,u?(t=h,o=-o,s=l.length):(t=l,n=a,s=h.length),i=Math.max(Math.ceil(c/oe),s)+2,o>i&&(o=i,t.length=1),t.reverse(),i=o;i--;)t.push(0);t.reverse()}else{for(i=h.length,s=l.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(h[i]!=l[i]){u=h[i]<l[i];break}o=0}for(u&&(t=h,h=l,l=t,e.s=-e.s),s=h.length,i=l.length-s;i>0;--i)h[s++]=0;for(i=l.length;i>o;){if(h[--i]<l[i]){for(r=i;r&&h[--r]===0;)h[r]=dt-1;--h[r],h[i]+=dt}h[i]-=l[i]}for(;h[--s]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(e.d=h,e.e=qn(h,n),le?ee(e,c,f):e):new D(f===3?-0:0)};P.modulo=P.mod=function(e){var t,n=this,i=n.constructor;return e=new i(e),!n.d||!e.s||e.d&&!e.d[0]?new i(NaN):!e.d||n.d&&!n.d[0]?ee(new i(n),i.precision,i.rounding):(le=!1,i.modulo==9?(t=Fe(n,e.abs(),0,3,1),t.s*=e.s):t=Fe(n,e,0,i.modulo,1),t=t.times(e),le=!0,n.minus(t))};P.naturalExponential=P.exp=function(){return or(this)};P.naturalLogarithm=P.ln=function(){return Ft(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s,ee(e)};P.plus=P.add=function(e){var t,n,i,r,o,s,c,f,h,a,u=this,l=u.constructor;if(e=new l(e),!u.d||!e.d)return!u.s||!e.s?e=new l(NaN):u.d||(e=new l(e.d||u.s===e.s?u:NaN)),e;if(u.s!=e.s)return e.s=-e.s,u.minus(e);if(h=u.d,a=e.d,c=l.precision,f=l.rounding,!h[0]||!a[0])return a[0]||(e=new l(u)),le?ee(e,c,f):e;if(o=et(u.e/oe),i=et(e.e/oe),h=h.slice(),r=o-i,r){for(r<0?(n=h,r=-r,s=a.length):(n=a,i=o,s=h.length),o=Math.ceil(c/oe),s=o>s?o+1:s+1,r>s&&(r=s,n.length=1),n.reverse();r--;)n.push(0);n.reverse()}for(s=h.length,r=a.length,s-r<0&&(r=s,n=a,a=h,h=n),t=0;r;)t=(h[--r]=h[r]+a[r]+t)/dt|0,h[r]%=dt;for(t&&(h.unshift(t),++i),s=h.length;h[--s]==0;)h.pop();return e.d=h,e.e=qn(h,i),le?ee(e,c,f):e};P.precision=P.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bt+e);return n.d?(t=Oo(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};P.round=function(){var e=this,t=e.constructor;return ee(new t(e),e.e+1,t.rounding)};P.sine=P.sin=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+Math.max(n.e,n.sd())+oe,i.rounding=1,n=mc(i,ko(i,n)),i.precision=e,i.rounding=t,ee(gt>2?n.neg():n,e,t,!0)):new i(NaN)};P.squareRoot=P.sqrt=function(){var e,t,n,i,r,o,s=this,c=s.d,f=s.e,h=s.s,a=s.constructor;if(h!==1||!c||!c[0])return new a(!h||h<0&&(!c||c[0])?NaN:c?s:1/0);for(le=!1,h=Math.sqrt(+s),h==0||h==1/0?(t=Ye(c),(t.length+f)%2==0&&(t+="0"),h=Math.sqrt(t),f=et((f+1)/2)-(f<0||f%2),h==1/0?t="5e"+f:(t=h.toExponential(),t=t.slice(0,t.indexOf("e")+1)+f),i=new a(t)):i=new a(h.toString()),n=(f=a.precision)+3;;)if(o=i,i=o.plus(Fe(s,o,n+2,1)).times(.5),Ye(o.d).slice(0,n)===(t=Ye(i.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!r&&t=="4999"){if(!r&&(ee(o,f+1,0),o.times(o).eq(s))){i=o;break}n+=4,r=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ee(i,f+1,1),e=!i.times(i).eq(s));break}return le=!0,ee(i,f,a.rounding,e)};P.tangent=P.tan=function(){var e,t,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,n=n.sin(),n.s=1,n=Fe(n,new i(1).minus(n.times(n)).sqrt(),e+10,0),i.precision=e,i.rounding=t,ee(gt==2||gt==4?n.neg():n,e,t,!0)):new i(NaN)};P.times=P.mul=function(e){var t,n,i,r,o,s,c,f,h,a=this,u=a.constructor,l=a.d,d=(e=new u(e)).d;if(e.s*=a.s,!l||!l[0]||!d||!d[0])return new u(!e.s||l&&!l[0]&&!d||d&&!d[0]&&!l?NaN:!l||!d?e.s/0:e.s*0);for(n=et(a.e/oe)+et(e.e/oe),f=l.length,h=d.length,f<h&&(o=l,l=d,d=o,s=f,f=h,h=s),o=[],s=f+h,i=s;i--;)o.push(0);for(i=h;--i>=0;){for(t=0,r=f+i;r>i;)c=o[r]+d[i]*l[r-i-1]+t,o[r--]=c%dt|0,t=c/dt|0;o[r]=(o[r]+t)%dt|0}for(;!o[--s];)o.pop();return t?++n:o.shift(),e.d=o,e.e=qn(o,n),le?ee(e,u.precision,u.rounding):e};P.toBinary=function(e,t){return Dr(this,2,e,t)};P.toDecimalPlaces=P.toDP=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(rt(e,0,It),t===void 0?t=i.rounding:rt(t,0,8),ee(n,e+n.e+1,t))};P.toExponential=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=pt(i,!0):(rt(e,0,It),t===void 0?t=r.rounding:rt(t,0,8),i=ee(new r(i),e+1,t),n=pt(i,!0,e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};P.toFixed=function(e,t){var n,i,r=this,o=r.constructor;return e===void 0?n=pt(r):(rt(e,0,It),t===void 0?t=o.rounding:rt(t,0,8),i=ee(new o(r),e+r.e+1,t),n=pt(i,!1,e+i.e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};P.toFraction=function(e){var t,n,i,r,o,s,c,f,h,a,u,l,d=this,D=d.d,p=d.constructor;if(!D)return new p(d);if(h=n=new p(1),i=f=new p(0),t=new p(i),o=t.e=Oo(D)-d.e-1,s=o%oe,t.d[0]=qe(10,s<0?oe+s:s),e==null)e=o>0?t:h;else{if(c=new p(e),!c.isInt()||c.lt(h))throw Error(Bt+c);e=c.gt(t)?o>0?t:h:c}for(le=!1,c=new p(Ye(D)),a=p.precision,p.precision=o=D.length*oe*2;u=Fe(c,t,0,1,1),r=n.plus(u.times(i)),r.cmp(e)!=1;)n=i,i=r,r=h,h=f.plus(u.times(r)),f=r,r=t,t=c.minus(u.times(r)),c=r;return r=Fe(e.minus(n),i,0,1,1),f=f.plus(r.times(h)),n=n.plus(r.times(i)),f.s=h.s=d.s,l=Fe(h,i,o,1).minus(d).abs().cmp(Fe(f,n,o,1).minus(d).abs())<1?[h,i]:[f,n],p.precision=a,le=!0,l};P.toHexadecimal=P.toHex=function(e,t){return Dr(this,16,e,t)};P.toNearest=function(e,t){var n=this,i=n.constructor;if(n=new i(n),e==null){if(!n.d)return n;e=new i(1),t=i.rounding}else{if(e=new i(e),t===void 0?t=i.rounding:rt(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(le=!1,n=Fe(n,e,0,t,1).times(e),le=!0,ee(n)):(e.s=n.s,n=e),n};P.toNumber=function(){return+this};P.toOctal=function(e,t){return Dr(this,8,e,t)};P.toPower=P.pow=function(e){var t,n,i,r,o,s,c=this,f=c.constructor,h=+(e=new f(e));if(!c.d||!e.d||!c.d[0]||!e.d[0])return new f(qe(+c,h));if(c=new f(c),c.eq(1))return c;if(i=f.precision,o=f.rounding,e.eq(1))return ee(c,i,o);if(t=et(e.e/oe),t>=e.d.length-1&&(n=h<0?-h:h)<=dc)return r=Ro(f,c,n,i),e.s<0?new f(1).div(r):ee(r,i,o);if(s=c.s,s<0){if(t<e.d.length-1)return new f(NaN);if(e.d[t]&1||(s=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=s,c}return n=qe(+c,h),t=n==0||!isFinite(n)?et(h*(Math.log("0."+Ye(c.d))/Math.LN10+c.e+1)):new f(n+"").e,t>f.maxE+1||t<f.minE-1?new f(t>0?s/0:0):(le=!1,f.rounding=c.s=1,n=Math.min(12,(t+"").length),r=or(e.times(Ft(c,i+n)),i),r.d&&(r=ee(r,i+5,1),dn(r.d,i,o)&&(t=i+10,r=ee(or(e.times(Ft(c,t+n)),t),t+5,1),+Ye(r.d).slice(i+1,i+15)+1==1e14&&(r=ee(r,i+1,0)))),r.s=s,le=!0,f.rounding=o,ee(r,i,o))};P.toPrecision=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=pt(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(rt(e,1,It),t===void 0?t=r.rounding:rt(t,0,8),i=ee(new r(i),e,t),n=pt(i,e<=i.e||i.e<=r.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+n:n};P.toSignificantDigits=P.toSD=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(rt(e,1,It),t===void 0?t=i.rounding:rt(t,0,8)),ee(new i(n),e,t)};P.toString=function(){var e=this,t=e.constructor,n=pt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};P.truncated=P.trunc=function(){return ee(new this.constructor(this),this.e+1,1)};P.valueOf=P.toJSON=function(){var e=this,t=e.constructor,n=pt(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Ye(e){var t,n,i,r=e.length-1,o="",s=e[0];if(r>0){for(o+=s,t=1;t<r;t++)i=e[t]+"",n=oe-i.length,n&&(o+=Ct(n)),o+=i;s=e[t],i=s+"",n=oe-i.length,n&&(o+=Ct(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}function rt(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Bt+e)}function dn(e,t,n,i){var r,o,s,c;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=oe,r=0):(r=Math.ceil((t+1)/oe),t%=oe),o=qe(10,oe-t),c=e[r]%o|0,i==null?t<3?(t==0?c=c/100|0:t==1&&(c=c/10|0),s=n<4&&c==99999||n>3&&c==49999||c==5e4||c==0):s=(n<4&&c+1==o||n>3&&c+1==o/2)&&(e[r+1]/o/100|0)==qe(10,t-2)-1||(c==o/2||c==0)&&(e[r+1]/o/100|0)==0:t<4?(t==0?c=c/1e3|0:t==1?c=c/100|0:t==2&&(c=c/10|0),s=(i||n<4)&&c==9999||!i&&n>3&&c==4999):s=((i||n<4)&&c+1==o||!i&&n>3&&c+1==o/2)&&(e[r+1]/o/1e3|0)==qe(10,t-3)-1,s}function Cn(e,t,n){for(var i,r=[0],o,s=0,c=e.length;s<c;){for(o=r.length;o--;)r[o]*=t;for(r[0]+=nr.indexOf(e.charAt(s++)),i=0;i<r.length;i++)r[i]>n-1&&(r[i+1]===void 0&&(r[i+1]=0),r[i+1]+=r[i]/n|0,r[i]%=n)}return r.reverse()}function pc(e,t){var n,i,r;if(t.isZero())return t;i=t.d.length,i<32?(n=Math.ceil(i/3),r=(1/Wn(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=Jt(e,1,t.times(r),new e(1));for(var o=n;o--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}var Fe=function(){function e(i,r,o){var s,c=0,f=i.length;for(i=i.slice();f--;)s=i[f]*r+c,i[f]=s%o|0,c=s/o|0;return c&&i.unshift(c),i}function t(i,r,o,s){var c,f;if(o!=s)f=o>s?1:-1;else for(c=f=0;c<o;c++)if(i[c]!=r[c]){f=i[c]>r[c]?1:-1;break}return f}function n(i,r,o,s){for(var c=0;o--;)i[o]-=c,c=i[o]<r[o]?1:0,i[o]=c*s+i[o]-r[o];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,o,s,c,f){var h,a,u,l,d,D,p,b,v,w,y,C,m,g,A,F,_,x,$,M,H=i.constructor,W=i.s==r.s?1:-1,R=i.d,I=r.d;if(!R||!R[0]||!I||!I[0])return new H(!i.s||!r.s||(R?I&&R[0]==I[0]:!I)?NaN:R&&R[0]==0||!I?W*0:W/0);for(f?(d=1,a=i.e-r.e):(f=dt,d=oe,a=et(i.e/d)-et(r.e/d)),$=I.length,_=R.length,v=new H(W),w=v.d=[],u=0;I[u]==(R[u]||0);u++);if(I[u]>(R[u]||0)&&a--,o==null?(g=o=H.precision,s=H.rounding):c?g=o+(i.e-r.e)+1:g=o,g<0)w.push(1),D=!0;else{if(g=g/d+2|0,u=0,$==1){for(l=0,I=I[0],g++;(u<_||l)&&g--;u++)A=l*f+(R[u]||0),w[u]=A/I|0,l=A%I|0;D=l||u<_}else{for(l=f/(I[0]+1)|0,l>1&&(I=e(I,l,f),R=e(R,l,f),$=I.length,_=R.length),F=$,y=R.slice(0,$),C=y.length;C<$;)y[C++]=0;M=I.slice(),M.unshift(0),x=I[0],I[1]>=f/2&&++x;do l=0,h=t(I,y,$,C),h<0?(m=y[0],$!=C&&(m=m*f+(y[1]||0)),l=m/x|0,l>1?(l>=f&&(l=f-1),p=e(I,l,f),b=p.length,C=y.length,h=t(p,y,b,C),h==1&&(l--,n(p,$<b?M:I,b,f))):(l==0&&(h=l=1),p=I.slice()),b=p.length,b<C&&p.unshift(0),n(y,p,C,f),h==-1&&(C=y.length,h=t(I,y,$,C),h<1&&(l++,n(y,$<C?M:I,C,f))),C=y.length):h===0&&(l++,y=[0]),w[u++]=l,h&&y[0]?y[C++]=R[F]||0:(y=[R[F]],C=1);while((F++<_||y[0]!==void 0)&&g--);D=y[0]!==void 0}w[0]||w.shift()}if(d==1)v.e=a,Bo=D;else{for(u=1,l=w[0];l>=10;l/=10)u++;v.e=u+a*d-1,ee(v,c?o+v.e+1:o,s,D)}return v}}();function ee(e,t,n,i){var r,o,s,c,f,h,a,u,l,d=e.constructor;e:if(t!=null){if(u=e.d,!u)return e;for(r=1,c=u[0];c>=10;c/=10)r++;if(o=t-r,o<0)o+=oe,s=t,a=u[l=0],f=a/qe(10,r-s-1)%10|0;else if(l=Math.ceil((o+1)/oe),c=u.length,l>=c)if(i){for(;c++<=l;)u.push(0);a=f=0,r=1,o%=oe,s=o-oe+1}else break e;else{for(a=c=u[l],r=1;c>=10;c/=10)r++;o%=oe,s=o-oe+r,f=s<0?0:a/qe(10,r-s-1)%10|0}if(i=i||t<0||u[l+1]!==void 0||(s<0?a:a%qe(10,r-s-1)),h=n<4?(f||i)&&(n==0||n==(e.s<0?3:2)):f>5||f==5&&(n==4||i||n==6&&(o>0?s>0?a/qe(10,r-s):0:u[l-1])%10&1||n==(e.s<0?8:7)),t<1||!u[0])return u.length=0,h?(t-=e.e+1,u[0]=qe(10,(oe-t%oe)%oe),e.e=-t||0):u[0]=e.e=0,e;if(o==0?(u.length=l,c=1,l--):(u.length=l+1,c=qe(10,oe-o),u[l]=s>0?(a/qe(10,r-s)%qe(10,s)|0)*c:0),h)for(;;)if(l==0){for(o=1,s=u[0];s>=10;s/=10)o++;for(s=u[0]+=c,c=1;s>=10;s/=10)c++;o!=c&&(e.e++,u[0]==dt&&(u[0]=1));break}else{if(u[l]+=c,u[l]!=dt)break;u[l--]=0,c=1}for(o=u.length;u[--o]===0;)u.pop()}return le&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function pt(e,t,n){if(!e.isFinite())return Lo(e);var i,r=e.e,o=Ye(e.d),s=o.length;return t?(n&&(i=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ct(i):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):r<0?(o="0."+Ct(-r-1)+o,n&&(i=n-s)>0&&(o+=Ct(i))):r>=s?(o+=Ct(r+1-s),n&&(i=n-r-1)>0&&(o=o+"."+Ct(i))):((i=r+1)<s&&(o=o.slice(0,i)+"."+o.slice(i)),n&&(i=n-s)>0&&(r+1===s&&(o+="."),o+=Ct(i))),o}function qn(e,t){var n=e[0];for(t*=oe;n>=10;n/=10)t++;return t}function Pn(e,t,n){if(t>hc)throw le=!0,n&&(e.precision=n),Error(No);return ee(new e(Tn),t,1,!0)}function ft(e,t,n){if(t>ir)throw Error(No);return ee(new e(In),t,n,!0)}function Oo(e){var t=e.length-1,n=t*oe+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function Ct(e){for(var t="";e--;)t+="0";return t}function Ro(e,t,n,i){var r,o=new e(1),s=Math.ceil(i/oe+4);for(le=!1;;){if(n%2&&(o=o.times(t),ci(o.d,s)&&(r=!0)),n=et(n/2),n===0){n=o.d.length-1,r&&o.d[n]===0&&++o.d[n];break}t=t.times(t),ci(t.d,s)}return le=!0,o}function li(e){return e.d[e.d.length-1]&1}function zo(e,t,n){for(var i,r=new e(t[0]),o=0;++o<t.length;)if(i=new e(t[o]),i.s)r[n](i)&&(r=i);else{r=i;break}return r}function or(e,t){var n,i,r,o,s,c,f,h=0,a=0,u=0,l=e.constructor,d=l.rounding,D=l.precision;if(!e.d||!e.d[0]||e.e>17)return new l(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(le=!1,f=D):f=t,c=new l(.03125);e.e>-2;)e=e.times(c),u+=5;for(i=Math.log(qe(2,u))/Math.LN10*2+5|0,f+=i,n=o=s=new l(1),l.precision=f;;){if(o=ee(o.times(e),f,1),n=n.times(++a),c=s.plus(Fe(o,n,f,1)),Ye(c.d).slice(0,f)===Ye(s.d).slice(0,f)){for(r=u;r--;)s=ee(s.times(s),f,1);if(t==null)if(h<3&&dn(s.d,f-i,d,h))l.precision=f+=10,n=o=c=new l(1),a=0,h++;else return ee(s,l.precision=D,d,le=!0);else return l.precision=D,s}s=c}}function Ft(e,t){var n,i,r,o,s,c,f,h,a,u,l,d=1,D=10,p=e,b=p.d,v=p.constructor,w=v.rounding,y=v.precision;if(p.s<0||!b||!b[0]||!p.e&&b[0]==1&&b.length==1)return new v(b&&!b[0]?-1/0:p.s!=1?NaN:b?0:p);if(t==null?(le=!1,a=y):a=t,v.precision=a+=D,n=Ye(b),i=n.charAt(0),Math.abs(o=p.e)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)p=p.times(e),n=Ye(p.d),i=n.charAt(0),d++;o=p.e,i>1?(p=new v("0."+n),o++):p=new v(i+"."+n.slice(1))}else return h=Pn(v,a+2,y).times(o+""),p=Ft(new v(i+"."+n.slice(1)),a-D).plus(h),v.precision=y,t==null?ee(p,y,w,le=!0):p;for(u=p,f=s=p=Fe(p.minus(1),p.plus(1),a,1),l=ee(p.times(p),a,1),r=3;;){if(s=ee(s.times(l),a,1),h=f.plus(Fe(s,new v(r),a,1)),Ye(h.d).slice(0,a)===Ye(f.d).slice(0,a))if(f=f.times(2),o!==0&&(f=f.plus(Pn(v,a+2,y).times(o+""))),f=Fe(f,new v(d),a,1),t==null)if(dn(f.d,a-D,w,c))v.precision=a+=D,h=s=p=Fe(u.minus(1),u.plus(1),a,1),l=ee(p.times(p),a,1),r=c=1;else return ee(f,v.precision=y,w,le=!0);else return v.precision=y,f;f=h,r+=2}}function Lo(e){return String(e.s*e.s/0)}function ur(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;i++);for(r=t.length;t.charCodeAt(r-1)===48;--r);if(t=t.slice(i,r),t){if(r-=i,e.e=n=n-i-1,e.d=[],i=(n+1)%oe,n<0&&(i+=oe),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=oe;i<r;)e.d.push(+t.slice(i,i+=oe));t=t.slice(i),i=oe-t.length}else i-=r;for(;i--;)t+="0";e.d.push(+t),le&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function vc(e,t){var n,i,r,o,s,c,f,h,a;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Po.test(t))return ur(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(cc.test(t))n=16,t=t.toLowerCase();else if(lc.test(t))n=2;else if(fc.test(t))n=8;else throw Error(Bt+t);for(o=t.search(/p/i),o>0?(f=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),o=t.indexOf("."),s=o>=0,i=e.constructor,s&&(t=t.replace(".",""),c=t.length,o=c-o,r=Ro(i,new i(n),o,o*2)),h=Cn(t,n,dt),a=h.length-1,o=a;h[o]===0;--o)h.pop();return o<0?new i(e.s*0):(e.e=qn(h,a),e.d=h,le=!1,s&&(e=Fe(e,r,c*4)),f&&(e=e.times(Math.abs(f)<54?qe(2,f):Qt.pow(2,f))),le=!0,e)}function mc(e,t){var n,i=t.d.length;if(i<3)return t.isZero()?t:Jt(e,2,t,t);n=1.4*Math.sqrt(i),n=n>16?16:n|0,t=t.times(1/Wn(5,n)),t=Jt(e,2,t,t);for(var r,o=new e(5),s=new e(16),c=new e(20);n--;)r=t.times(t),t=t.times(o.plus(r.times(s.times(r).minus(c))));return t}function Jt(e,t,n,i,r){var o,s,c,f,h=e.precision,a=Math.ceil(h/oe);for(le=!1,f=n.times(n),c=new e(i);;){if(s=Fe(c.times(f),new e(t++*t++),h,1),c=r?i.plus(s):i.minus(s),i=Fe(s.times(f),new e(t++*t++),h,1),s=c.plus(i),s.d[a]!==void 0){for(o=a;s.d[o]===c.d[o]&&o--;);if(o==-1)break}o=c,c=i,i=s,s=o}return le=!0,s.d.length=a+1,s}function Wn(e,t){for(var n=e;--t;)n*=e;return n}function ko(e,t){var n,i=t.s<0,r=ft(e,e.precision,1),o=r.times(.5);if(t=t.abs(),t.lte(o))return gt=i?4:1,t;if(n=t.divToInt(r),n.isZero())gt=i?3:2;else{if(t=t.minus(n.times(r)),t.lte(o))return gt=li(n)?i?2:3:i?4:1,t;gt=li(n)?i?1:4:i?3:2}return t.minus(r).abs()}function Dr(e,t,n,i){var r,o,s,c,f,h,a,u,l,d=e.constructor,D=n!==void 0;if(D?(rt(n,1,It),i===void 0?i=d.rounding:rt(i,0,8)):(n=d.precision,i=d.rounding),!e.isFinite())a=Lo(e);else{for(a=pt(e),s=a.indexOf("."),D?(r=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):r=t,s>=0&&(a=a.replace(".",""),l=new d(1),l.e=a.length-s,l.d=Cn(pt(l),10,r),l.e=l.d.length),u=Cn(a,10,r),o=f=u.length;u[--f]==0;)u.pop();if(!u[0])a=D?"0p+0":"0";else{if(s<0?o--:(e=new d(e),e.d=u,e.e=o,e=Fe(e,l,n,i,0,r),u=e.d,o=e.e,h=Bo),s=u[n],c=r/2,h=h||u[n+1]!==void 0,h=i<4?(s!==void 0||h)&&(i===0||i===(e.s<0?3:2)):s>c||s===c&&(i===4||h||i===6&&u[n-1]&1||i===(e.s<0?8:7)),u.length=n,h)for(;++u[--n]>r-1;)u[n]=0,n||(++o,u.unshift(1));for(f=u.length;!u[f-1];--f);for(s=0,a="";s<f;s++)a+=nr.charAt(u[s]);if(D){if(f>1)if(t==16||t==8){for(s=t==16?4:3,--f;f%s;f++)a+="0";for(u=Cn(a,r,t),f=u.length;!u[f-1];--f);for(s=1,a="1.";s<f;s++)a+=nr.charAt(u[s])}else a=a.charAt(0)+"."+a.slice(1);a=a+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)a="0"+a;a="0."+a}else if(++o>f)for(o-=f;o--;)a+="0";else o<f&&(a=a.slice(0,o)+"."+a.slice(o))}a=(t==16?"0x":t==2?"0b":t==8?"0o":"")+a}return e.s<0?"-"+a:a}function ci(e,t){if(e.length>t)return e.length=t,!0}function gc(e){return new this(e).abs()}function Dc(e){return new this(e).acos()}function yc(e){return new this(e).acosh()}function bc(e,t){return new this(e).plus(t)}function wc(e){return new this(e).asin()}function Cc(e){return new this(e).asinh()}function Ec(e){return new this(e).atan()}function Ac(e){return new this(e).atanh()}function Fc(e,t){e=new this(e),t=new this(t);var n,i=this.precision,r=this.rounding,o=i+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=ft(this,o,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?ft(this,i,r):new this(0),n.s=e.s):!e.d||t.isZero()?(n=ft(this,o,1).times(.5),n.s=e.s):t.s<0?(this.precision=o,this.rounding=1,n=this.atan(Fe(e,t,o,1)),t=ft(this,o,1),this.precision=i,this.rounding=r,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Fe(e,t,o,1)),n}function _c(e){return new this(e).cbrt()}function Sc(e){return ee(e=new this(e),e.e+1,2)}function $c(e,t,n){return new this(e).clamp(t,n)}function xc(e){if(!e||typeof e!="object")throw Error(Hn+"Object expected");var t,n,i,r=e.defaults===!0,o=["precision",1,It,"rounding",0,8,"toExpNeg",-Wt,0,"toExpPos",0,Wt,"maxE",0,Wt,"minE",-Wt,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],r&&(this[n]=rr[n]),(i=e[n])!==void 0)if(et(i)===i&&i>=o[t+1]&&i<=o[t+2])this[n]=i;else throw Error(Bt+n+": "+i);if(n="crypto",r&&(this[n]=rr[n]),(i=e[n])!==void 0)if(i===!0||i===!1||i===0||i===1)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(To);else this[n]=!1;else throw Error(Bt+n+": "+i);return this}function Mc(e){return new this(e).cos()}function Bc(e){return new this(e).cosh()}function Ko(e){var t,n,i;function r(o){var s,c,f,h=this;if(!(h instanceof r))return new r(o);if(h.constructor=r,fi(o)){h.s=o.s,le?!o.d||o.e>r.maxE?(h.e=NaN,h.d=null):o.e<r.minE?(h.e=0,h.d=[0]):(h.e=o.e,h.d=o.d.slice()):(h.e=o.e,h.d=o.d?o.d.slice():o.d);return}if(f=typeof o,f==="number"){if(o===0){h.s=1/o<0?-1:1,h.e=0,h.d=[0];return}if(o<0?(o=-o,h.s=-1):h.s=1,o===~~o&&o<1e7){for(s=0,c=o;c>=10;c/=10)s++;le?s>r.maxE?(h.e=NaN,h.d=null):s<r.minE?(h.e=0,h.d=[0]):(h.e=s,h.d=[o]):(h.e=s,h.d=[o]);return}else if(o*0!==0){o||(h.s=NaN),h.e=NaN,h.d=null;return}return ur(h,o.toString())}else if(f!=="string")throw Error(Bt+o);return(c=o.charCodeAt(0))===45?(o=o.slice(1),h.s=-1):(c===43&&(o=o.slice(1)),h.s=1),Po.test(o)?ur(h,o):vc(h,o)}if(r.prototype=P,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=xc,r.clone=Ko,r.isDecimal=fi,r.abs=gc,r.acos=Dc,r.acosh=yc,r.add=bc,r.asin=wc,r.asinh=Cc,r.atan=Ec,r.atanh=Ac,r.atan2=Fc,r.cbrt=_c,r.ceil=Sc,r.clamp=$c,r.cos=Mc,r.cosh=Bc,r.div=Nc,r.exp=Tc,r.floor=Ic,r.hypot=Pc,r.ln=Oc,r.log=Rc,r.log10=Lc,r.log2=zc,r.max=kc,r.min=Kc,r.mod=Hc,r.mul=qc,r.pow=Wc,r.random=Vc,r.round=Uc,r.sign=Xc,r.sin=jc,r.sinh=Gc,r.sqrt=Zc,r.sub=Yc,r.sum=Jc,r.tan=Qc,r.tanh=ef,r.trunc=tf,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return r.config(e),r}function Nc(e,t){return new this(e).div(t)}function Tc(e){return new this(e).exp()}function Ic(e){return ee(e=new this(e),e.e+1,3)}function Pc(){var e,t,n=new this(0);for(le=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return le=!0,new this(1/0);n=t}return le=!0,n.sqrt()}function fi(e){return e instanceof Qt||e&&e.toStringTag===Io||!1}function Oc(e){return new this(e).ln()}function Rc(e,t){return new this(e).log(t)}function zc(e){return new this(e).log(2)}function Lc(e){return new this(e).log(10)}function kc(){return zo(this,arguments,"lt")}function Kc(){return zo(this,arguments,"gt")}function Hc(e,t){return new this(e).mod(t)}function qc(e,t){return new this(e).mul(t)}function Wc(e,t){return new this(e).pow(t)}function Vc(e){var t,n,i,r,o=0,s=new this(1),c=[];if(e===void 0?e=this.precision:rt(e,1,It),i=Math.ceil(e/oe),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));o<i;)r=t[o],r>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:c[o++]=r%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);o<i;)r=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((t[o+3]&127)<<24),r>=214e7?crypto.randomBytes(4).copy(t,o):(c.push(r%1e7),o+=4);o=i/4}else throw Error(To);else for(;o<i;)c[o++]=Math.random()*1e7|0;for(i=c[--o],e%=oe,i&&e&&(r=qe(10,oe-e),c[o]=(i/r|0)*r);c[o]===0;o--)c.pop();if(o<0)n=0,c=[0];else{for(n=-1;c[0]===0;n-=oe)c.shift();for(i=1,r=c[0];r>=10;r/=10)i++;i<oe&&(n-=oe-i)}return s.e=n,s.d=c,s}function Uc(e){return ee(e=new this(e),e.e+1,this.rounding)}function Xc(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function jc(e){return new this(e).sin()}function Gc(e){return new this(e).sinh()}function Zc(e){return new this(e).sqrt()}function Yc(e,t){return new this(e).sub(t)}function Jc(){var e=0,t=arguments,n=new this(t[e]);for(le=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return le=!0,ee(n,this.precision,this.rounding)}function Qc(e){return new this(e).tan()}function ef(e){return new this(e).tanh()}function tf(e){return ee(e=new this(e),e.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString;P[Symbol.toStringTag]="Decimal";var Qt=P.constructor=Ko(rr);Tn=new Qt(Tn);In=new Qt(In);var nf="BigNumber",rf=["?on","config"],of=De(nf,rf,e=>{var{on:t,config:n}=e,i=Qt.clone({precision:n.precision,modulo:Qt.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(r){return new i(r.value)},t&&t("config",function(r,o){r.precision!==o.precision&&i.config({precision:r.precision})}),i},{isClass:!0}),Ho={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var i=Math.cosh||function(u){return Math.abs(u)<1e-9?1-u:(Math.exp(u)+Math.exp(-u))*.5},r=Math.sinh||function(u){return Math.abs(u)<1e-9?u:(Math.exp(u)-Math.exp(-u))*.5},o=function(u){var l=Math.PI/4;if(-l>u||u>l)return Math.cos(u)-1;var d=u*u;return d*(d*(d*(d*(d*(d*(d*(d/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},s=function(u,l){var d=Math.abs(u),D=Math.abs(l);return d<3e3&&D<3e3?Math.sqrt(d*d+D*D):(d<D?(d=D,D=u/l):D=l/u,d*Math.sqrt(1+D*D))},c=function(){throw SyntaxError("Invalid Param")};function f(u,l){var d=Math.abs(u),D=Math.abs(l);return u===0?Math.log(D):l===0?Math.log(d):d<3e3&&D<3e3?Math.log(u*u+l*l)*.5:(u=u/2,l=l/2,.5*Math.log(u*u+l*l)+Math.LN2)}var h=function(u,l){var d={re:0,im:0};if(u==null)d.re=d.im=0;else if(l!==void 0)d.re=u,d.im=l;else switch(typeof u){case"object":if("im"in u&&"re"in u)d.re=u.re,d.im=u.im;else if("abs"in u&&"arg"in u){if(!Number.isFinite(u.abs)&&Number.isFinite(u.arg))return a.INFINITY;d.re=u.abs*Math.cos(u.arg),d.im=u.abs*Math.sin(u.arg)}else if("r"in u&&"phi"in u){if(!Number.isFinite(u.r)&&Number.isFinite(u.phi))return a.INFINITY;d.re=u.r*Math.cos(u.phi),d.im=u.r*Math.sin(u.phi)}else u.length===2?(d.re=u[0],d.im=u[1]):c();break;case"string":d.im=d.re=0;var D=u.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),p=1,b=0;D===null&&c();for(var v=0;v<D.length;v++){var w=D[v];w===" "||w==="	"||w===`
`||(w==="+"?p++:w==="-"?b++:w==="i"||w==="I"?(p+b===0&&c(),D[v+1]!==" "&&!isNaN(D[v+1])?(d.im+=parseFloat((b%2?"-":"")+D[v+1]),v++):d.im+=parseFloat((b%2?"-":"")+"1"),p=b=0):((p+b===0||isNaN(w))&&c(),D[v+1]==="i"||D[v+1]==="I"?(d.im+=parseFloat((b%2?"-":"")+w),v++):d.re+=parseFloat((b%2?"-":"")+w),p=b=0))}p+b>0&&c();break;case"number":d.im=0,d.re=u;break;default:c()}return isNaN(d.re)||isNaN(d.im),d};function a(u,l){if(!(this instanceof a))return new a(u,l);var d=h(u,l);this.re=d.re,this.im=d.im}a.prototype={re:0,im:0,sign:function(){var u=this.abs();return new a(this.re/u,this.im/u)},add:function(u,l){var d=new a(u,l);return this.isInfinite()&&d.isInfinite()?a.NAN:this.isInfinite()||d.isInfinite()?a.INFINITY:new a(this.re+d.re,this.im+d.im)},sub:function(u,l){var d=new a(u,l);return this.isInfinite()&&d.isInfinite()?a.NAN:this.isInfinite()||d.isInfinite()?a.INFINITY:new a(this.re-d.re,this.im-d.im)},mul:function(u,l){var d=new a(u,l);return this.isInfinite()&&d.isZero()||this.isZero()&&d.isInfinite()?a.NAN:this.isInfinite()||d.isInfinite()?a.INFINITY:d.im===0&&this.im===0?new a(this.re*d.re,0):new a(this.re*d.re-this.im*d.im,this.re*d.im+this.im*d.re)},div:function(u,l){var d=new a(u,l);if(this.isZero()&&d.isZero()||this.isInfinite()&&d.isInfinite())return a.NAN;if(this.isInfinite()||d.isZero())return a.INFINITY;if(this.isZero()||d.isInfinite())return a.ZERO;u=this.re,l=this.im;var D=d.re,p=d.im,b,v;return p===0?new a(u/D,l/D):Math.abs(D)<Math.abs(p)?(v=D/p,b=D*v+p,new a((u*v+l)/b,(l*v-u)/b)):(v=p/D,b=p*v+D,new a((u+l*v)/b,(l-u*v)/b))},pow:function(u,l){var d=new a(u,l);if(u=this.re,l=this.im,d.isZero())return a.ONE;if(d.im===0){if(l===0&&u>0)return new a(Math.pow(u,d.re),0);if(u===0)switch((d.re%4+4)%4){case 0:return new a(Math.pow(l,d.re),0);case 1:return new a(0,Math.pow(l,d.re));case 2:return new a(-Math.pow(l,d.re),0);case 3:return new a(0,-Math.pow(l,d.re))}}if(u===0&&l===0&&d.re>0&&d.im>=0)return a.ZERO;var D=Math.atan2(l,u),p=f(u,l);return u=Math.exp(d.re*p-d.im*D),l=d.im*p+d.re*D,new a(u*Math.cos(l),u*Math.sin(l))},sqrt:function(){var u=this.re,l=this.im,d=this.abs(),D,p;if(u>=0){if(l===0)return new a(Math.sqrt(u),0);D=.5*Math.sqrt(2*(d+u))}else D=Math.abs(l)/Math.sqrt(2*(d-u));return u<=0?p=.5*Math.sqrt(2*(d-u)):p=Math.abs(l)/Math.sqrt(2*(d+u)),new a(D,l<0?-p:p)},exp:function(){var u=Math.exp(this.re);return this.im,new a(u*Math.cos(this.im),u*Math.sin(this.im))},expm1:function(){var u=this.re,l=this.im;return new a(Math.expm1(u)*Math.cos(l)+o(l),Math.exp(u)*Math.sin(l))},log:function(){var u=this.re,l=this.im;return new a(f(u,l),Math.atan2(l,u))},abs:function(){return s(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var u=this.re,l=this.im;return new a(Math.sin(u)*i(l),Math.cos(u)*r(l))},cos:function(){var u=this.re,l=this.im;return new a(Math.cos(u)*i(l),-Math.sin(u)*r(l))},tan:function(){var u=2*this.re,l=2*this.im,d=Math.cos(u)+i(l);return new a(Math.sin(u)/d,r(l)/d)},cot:function(){var u=2*this.re,l=2*this.im,d=Math.cos(u)-i(l);return new a(-Math.sin(u)/d,r(l)/d)},sec:function(){var u=this.re,l=this.im,d=.5*i(2*l)+.5*Math.cos(2*u);return new a(Math.cos(u)*i(l)/d,Math.sin(u)*r(l)/d)},csc:function(){var u=this.re,l=this.im,d=.5*i(2*l)-.5*Math.cos(2*u);return new a(Math.sin(u)*i(l)/d,-Math.cos(u)*r(l)/d)},asin:function(){var u=this.re,l=this.im,d=new a(l*l-u*u+1,-2*u*l).sqrt(),D=new a(d.re-l,d.im+u).log();return new a(D.im,-D.re)},acos:function(){var u=this.re,l=this.im,d=new a(l*l-u*u+1,-2*u*l).sqrt(),D=new a(d.re-l,d.im+u).log();return new a(Math.PI/2-D.im,D.re)},atan:function(){var u=this.re,l=this.im;if(u===0){if(l===1)return new a(0,1/0);if(l===-1)return new a(0,-1/0)}var d=u*u+(1-l)*(1-l),D=new a((1-l*l-u*u)/d,-2*u/d).log();return new a(-.5*D.im,.5*D.re)},acot:function(){var u=this.re,l=this.im;if(l===0)return new a(Math.atan2(1,u),0);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).atan():new a(u!==0?u/0:0,l!==0?-l/0:0).atan()},asec:function(){var u=this.re,l=this.im;if(u===0&&l===0)return new a(0,1/0);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).acos():new a(u!==0?u/0:0,l!==0?-l/0:0).acos()},acsc:function(){var u=this.re,l=this.im;if(u===0&&l===0)return new a(Math.PI/2,1/0);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).asin():new a(u!==0?u/0:0,l!==0?-l/0:0).asin()},sinh:function(){var u=this.re,l=this.im;return new a(r(u)*Math.cos(l),i(u)*Math.sin(l))},cosh:function(){var u=this.re,l=this.im;return new a(i(u)*Math.cos(l),r(u)*Math.sin(l))},tanh:function(){var u=2*this.re,l=2*this.im,d=i(u)+Math.cos(l);return new a(r(u)/d,Math.sin(l)/d)},coth:function(){var u=2*this.re,l=2*this.im,d=i(u)-Math.cos(l);return new a(r(u)/d,-Math.sin(l)/d)},csch:function(){var u=this.re,l=this.im,d=Math.cos(2*l)-i(2*u);return new a(-2*r(u)*Math.cos(l)/d,2*i(u)*Math.sin(l)/d)},sech:function(){var u=this.re,l=this.im,d=Math.cos(2*l)+i(2*u);return new a(2*i(u)*Math.cos(l)/d,-2*r(u)*Math.sin(l)/d)},asinh:function(){var u=this.im;this.im=-this.re,this.re=u;var l=this.asin();return this.re=-this.im,this.im=u,u=l.re,l.re=-l.im,l.im=u,l},acosh:function(){var u=this.acos();if(u.im<=0){var l=u.re;u.re=-u.im,u.im=l}else{var l=u.im;u.im=-u.re,u.re=l}return u},atanh:function(){var u=this.re,l=this.im,d=u>1&&l===0,D=1-u,p=1+u,b=D*D+l*l,v=b!==0?new a((p*D-l*l)/b,(l*D+p*l)/b):new a(u!==-1?u/0:0,l!==0?l/0:0),w=v.re;return v.re=f(v.re,v.im)/2,v.im=Math.atan2(v.im,w)/2,d&&(v.im=-v.im),v},acoth:function(){var u=this.re,l=this.im;if(u===0&&l===0)return new a(0,Math.PI/2);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).atanh():new a(u!==0?u/0:0,l!==0?-l/0:0).atanh()},acsch:function(){var u=this.re,l=this.im;if(l===0)return new a(u!==0?Math.log(u+Math.sqrt(u*u+1)):1/0,0);var d=u*u+l*l;return d!==0?new a(u/d,-l/d).asinh():new a(u!==0?u/0:0,l!==0?-l/0:0).asinh()},asech:function(){var u=this.re,l=this.im;if(this.isZero())return a.INFINITY;var d=u*u+l*l;return d!==0?new a(u/d,-l/d).acosh():new a(u!==0?u/0:0,l!==0?-l/0:0).acosh()},inverse:function(){if(this.isZero())return a.INFINITY;if(this.isInfinite())return a.ZERO;var u=this.re,l=this.im,d=u*u+l*l;return new a(u/d,-l/d)},conjugate:function(){return new a(this.re,-this.im)},neg:function(){return new a(-this.re,-this.im)},ceil:function(u){return u=Math.pow(10,u||0),new a(Math.ceil(this.re*u)/u,Math.ceil(this.im*u)/u)},floor:function(u){return u=Math.pow(10,u||0),new a(Math.floor(this.re*u)/u,Math.floor(this.im*u)/u)},round:function(u){return u=Math.pow(10,u||0),new a(Math.round(this.re*u)/u,Math.round(this.im*u)/u)},equals:function(u,l){var d=new a(u,l);return Math.abs(d.re-this.re)<=a.EPSILON&&Math.abs(d.im-this.im)<=a.EPSILON},clone:function(){return new a(this.re,this.im)},toString:function(){var u=this.re,l=this.im,d="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(u)<a.EPSILON&&(u=0),Math.abs(l)<a.EPSILON&&(l=0),l===0?d+u:(u!==0?(d+=u,d+=" ",l<0?(l=-l,d+="-"):d+="+",d+=" "):l<0&&(l=-l,d+="-"),l!==1&&(d+=l),d+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},a.ZERO=new a(0,0),a.ONE=new a(1,0),a.I=new a(0,1),a.PI=new a(Math.PI,0),a.E=new a(Math.E,0),a.INFINITY=new a(1/0,1/0),a.NAN=new a(NaN,NaN),a.EPSILON=1e-15,Object.defineProperty(a,"__esModule",{value:!0}),a.default=a,a.Complex=a,e.exports=a})()})(Ho);var uf=Ho.exports;const Ze=uo(uf);var af="Complex",sf=[],lf=De(af,sf,()=>(Object.defineProperty(Ze,"name",{value:"Complex"}),Ze.prototype.constructor=Ze,Ze.prototype.type="Complex",Ze.prototype.isComplex=!0,Ze.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ze.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ze.prototype.format=function(e){var t="",n=this.im,i=this.re,r=Qn(this.re,e),o=Qn(this.im,e),s=xe(e)?e:e?e.precision:null;if(s!==null){var c=Math.pow(10,-s);Math.abs(i/n)<c&&(i=0),Math.abs(n/i)<c&&(n=0)}return n===0?t=r:i===0?n===1?t="i":n===-1?t="-i":t=o+"i":n<0?n===-1?t=r+" - i":t=r+" - "+o.substring(1)+"i":n===1?t=r+" + i":t=r+" + "+o+"i",t},Ze.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return Ze(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],i=arguments[1];if(xe(n)){if(mo(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),xe(i))return new Ze({r:n,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ze.prototype.valueOf=Ze.prototype.toString,Ze.fromJSON=function(e){return new Ze(e)},Ze.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},Ze),{isClass:!0}),qo={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(n){var i=2e3,r={s:1,n:0,d:1};function o(v,w){if(isNaN(v=parseInt(v,10)))throw p();return v*w}function s(v,w){if(w===0)throw D();var y=Object.create(d.prototype);y.s=v<0?-1:1,v=v<0?-v:v;var C=l(v,w);return y.n=v/C,y.d=w/C,y}function c(v){for(var w={},y=v,C=2,m=4;m<=y;){for(;y%C===0;)y/=C,w[C]=(w[C]||0)+1;m+=1+2*C++}return y!==v?y>1&&(w[y]=(w[y]||0)+1):w[v]=(w[v]||0)+1,w}var f=function(v,w){var y=0,C=1,m=1,g=0,A=0,F=0,_=1,x=1,$=0,M=1,H=1,W=1,R=1e7,I;if(v!=null)if(w!==void 0){if(y=v,C=w,m=y*C,y%1!==0||C%1!==0)throw b()}else switch(typeof v){case"object":{if("d"in v&&"n"in v)y=v.n,C=v.d,"s"in v&&(y*=v.s);else if(0 in v)y=v[0],1 in v&&(C=v[1]);else throw p();m=y*C;break}case"number":{if(v<0&&(m=v,v=-v),v%1===0)y=v;else if(v>0){for(v>=1&&(x=Math.pow(10,Math.floor(1+Math.log(v)/Math.LN10)),v/=x);M<=R&&W<=R;)if(I=($+H)/(M+W),v===I){M+W<=R?(y=$+H,C=M+W):W>M?(y=H,C=W):(y=$,C=M);break}else v>I?($+=H,M+=W):(H+=$,W+=M),M>R?(y=H,C=W):(y=$,C=M);y*=x}else(isNaN(v)||isNaN(w))&&(C=y=NaN);break}case"string":{if(M=v.match(/\d+|./g),M===null)throw p();if(M[$]==="-"?(m=-1,$++):M[$]==="+"&&$++,M.length===$+1?A=o(M[$++],m):M[$+1]==="."||M[$]==="."?(M[$]!=="."&&(g=o(M[$++],m)),$++,($+1===M.length||M[$+1]==="("&&M[$+3]===")"||M[$+1]==="'"&&M[$+3]==="'")&&(A=o(M[$],m),_=Math.pow(10,M[$].length),$++),(M[$]==="("&&M[$+2]===")"||M[$]==="'"&&M[$+2]==="'")&&(F=o(M[$+1],m),x=Math.pow(10,M[$+1].length)-1,$+=3)):M[$+1]==="/"||M[$+1]===":"?(A=o(M[$],m),_=o(M[$+2],1),$+=3):M[$+3]==="/"&&M[$+1]===" "&&(g=o(M[$],m),A=o(M[$+2],m),_=o(M[$+4],1),$+=5),M.length<=$){C=_*x,m=y=F+C*g+x*A;break}}default:throw p()}if(C===0)throw D();r.s=m<0?-1:1,r.n=Math.abs(y),r.d=Math.abs(C)};function h(v,w,y){for(var C=1;w>0;v=v*v%y,w>>=1)w&1&&(C=C*v%y);return C}function a(v,w){for(;w%2===0;w/=2);for(;w%5===0;w/=5);if(w===1)return 0;for(var y=10%w,C=1;y!==1;C++)if(y=y*10%w,C>i)return 0;return C}function u(v,w,y){for(var C=1,m=h(10,y,w),g=0;g<300;g++){if(C===m)return g;C=C*10%w,m=m*10%w}return 0}function l(v,w){if(!v)return w;if(!w)return v;for(;;){if(v%=w,!v)return w;if(w%=v,!w)return v}}function d(v,w){if(f(v,w),this instanceof d)v=l(r.d,r.n),this.s=r.s,this.n=r.n/v,this.d=r.d/v;else return s(r.s*r.n,r.d)}var D=function(){return new Error("Division by Zero")},p=function(){return new Error("Invalid argument")},b=function(){return new Error("Parameters must be integer")};d.prototype={s:1,n:0,d:1,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(v,w){return f(v,w),s(this.s*this.n*r.d+r.s*this.d*r.n,this.d*r.d)},sub:function(v,w){return f(v,w),s(this.s*this.n*r.d-r.s*this.d*r.n,this.d*r.d)},mul:function(v,w){return f(v,w),s(this.s*r.s*this.n*r.n,this.d*r.d)},div:function(v,w){return f(v,w),s(this.s*r.s*this.n*r.d,this.d*r.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(v,w){if(isNaN(this.n)||isNaN(this.d))return new d(NaN);if(v===void 0)return s(this.s*this.n%this.d,1);if(f(v,w),r.n===0&&this.d===0)throw D();return s(this.s*(r.d*this.n)%(r.n*this.d),r.d*this.d)},gcd:function(v,w){return f(v,w),s(l(r.n,this.n)*l(r.d,this.d),r.d*this.d)},lcm:function(v,w){return f(v,w),r.n===0&&this.n===0?s(0,1):s(r.n*this.n,l(r.n,this.n)*l(r.d,this.d))},ceil:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):s(Math.ceil(v*this.s*this.n/this.d),v)},floor:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):s(Math.floor(v*this.s*this.n/this.d),v)},round:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):s(Math.round(v*this.s*this.n/this.d),v)},inverse:function(){return s(this.s*this.d,this.n)},pow:function(v,w){if(f(v,w),r.d===1)return r.s<0?s(Math.pow(this.s*this.d,r.n),Math.pow(this.n,r.n)):s(Math.pow(this.s*this.n,r.n),Math.pow(this.d,r.n));if(this.s<0)return null;var y=c(this.n),C=c(this.d),m=1,g=1;for(var A in y)if(A!=="1"){if(A==="0"){m=0;break}if(y[A]*=r.n,y[A]%r.d===0)y[A]/=r.d;else return null;m*=Math.pow(A,y[A])}for(var A in C)if(A!=="1"){if(C[A]*=r.n,C[A]%r.d===0)C[A]/=r.d;else return null;g*=Math.pow(A,C[A])}return r.s<0?s(g,m):s(m,g)},equals:function(v,w){return f(v,w),this.s*this.n*r.d===r.s*r.n*this.d},compare:function(v,w){f(v,w);var y=this.s*this.n*r.d-r.s*r.n*this.d;return(0<y)-(y<0)},simplify:function(v){if(isNaN(this.n)||isNaN(this.d))return this;v=v||.001;for(var w=this.abs(),y=w.toContinued(),C=1;C<y.length;C++){for(var m=s(y[C-1],1),g=C-2;g>=0;g--)m=m.inverse().add(y[g]);if(Math.abs(m.sub(w).valueOf())<v)return m.mul(this.s)}return this},divisible:function(v,w){return f(v,w),!(!(r.n*this.d)||this.n*r.d%(r.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(v){var w,y="",C=this.n,m=this.d;return this.s<0&&(y+="-"),m===1?y+=C:(v&&(w=Math.floor(C/m))>0&&(y+=w,y+=" ",C%=m),y+=C,y+="/",y+=m),y},toLatex:function(v){var w,y="",C=this.n,m=this.d;return this.s<0&&(y+="-"),m===1?y+=C:(v&&(w=Math.floor(C/m))>0&&(y+=w,C%=m),y+="\\frac{",y+=C,y+="}{",y+=m,y+="}"),y},toContinued:function(){var v,w=this.n,y=this.d,C=[];if(isNaN(w)||isNaN(y))return C;do C.push(Math.floor(w/y)),v=w%y,w=y,y=v;while(w!==1);return C},toString:function(v){var w=this.n,y=this.d;if(isNaN(w)||isNaN(y))return"NaN";v=v||15;var C=a(w,y),m=u(w,y,C),g=this.s<0?"-":"";if(g+=w/y|0,w%=y,w*=10,w&&(g+="."),C){for(var A=m;A--;)g+=w/y|0,w%=y,w*=10;g+="(";for(var A=C;A--;)g+=w/y|0,w%=y,w*=10;g+=")"}else for(var A=v;w&&A--;)g+=w/y|0,w%=y,w*=10;return g}},Object.defineProperty(d,"__esModule",{value:!0}),d.default=d,d.Fraction=d,e.exports=d})()})(qo);var cf=qo.exports;const mt=uo(cf);var ff="Fraction",df=[],hf=De(ff,df,()=>(Object.defineProperty(mt,"name",{value:"Fraction"}),mt.prototype.constructor=mt,mt.prototype.type="Fraction",mt.prototype.isFraction=!0,mt.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},mt.fromJSON=function(e){return new mt(e)},mt),{isClass:!0}),pf="Matrix",vf=[],mf=De(pf,vf,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,n){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,n,i){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,n,i){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,n){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,n){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,n){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Wo(e){return Object.keys(e.signatures||{}).reduce(function(t,n){var i=(n.match(/,/g)||[]).length+1;return Math.max(t,i)},-1)}var gf="DenseMatrix",Df=["Matrix"],yf=De(gf,Df,e=>{var{Matrix:t}=e;function n(a,u){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(u&&!ht(u))throw new Error("Invalid datatype: "+u);if(Ue(a))a.type==="DenseMatrix"?(this._data=Pe(a._data),this._size=Pe(a._size),this._datatype=u||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=u||a._datatype);else if(a&&Be(a.data)&&Be(a.size))this._data=a.data,this._size=a.size,ai(this._data,this._size),this._datatype=u||a.datatype;else if(Be(a))this._data=h(a),this._size=at(this._data),ai(this._data,this._size),this._datatype=u;else{if(a)throw new TypeError("Unsupported type of data ("+Ut(a)+")");this._data=[],this._size=[0],this._datatype=u}}n.prototype=new t,n.prototype.createDenseMatrix=function(a,u){return new n(a,u)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return Nn(this._data,Ut)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(a,u){return new n(a,u)},n.prototype.subset=function(a,u,l){switch(arguments.length){case 1:return i(this,a);case 2:case 3:return o(this,a,u,l);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(a){if(!Be(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new Me(a.length,this._size.length);for(var u=0;u<a.length;u++)Ne(a[u],this._size[u]);for(var l=this._data,d=0,D=a.length;d<D;d++){var p=a[d];Ne(p,l.length),l=l[p]}return l},n.prototype.set=function(a,u,l){if(!Be(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new Me(a.length,this._size.length,"<");var d,D,p,b=a.map(function(w){return w+1});f(this,b,l);var v=this._data;for(d=0,D=a.length-1;d<D;d++)p=a[d],Ne(p,v.length),v=v[p];return p=a[a.length-1],Ne(p,v.length),v[p]=u,this};function i(a,u){if(!vr(u))throw new TypeError("Invalid index");var l=u.isScalar();if(l)return a.get(u.min());var d=u.size();if(d.length!==a._size.length)throw new Me(d.length,a._size.length);for(var D=u.min(),p=u.max(),b=0,v=a._size.length;b<v;b++)Ne(D[b],a._size[b]),Ne(p[b],a._size[b]);return new n(r(a._data,u,d.length,0),a._datatype)}function r(a,u,l,d){var D=d===l-1,p=u.dimension(d);return D?p.map(function(b){return Ne(b,a.length),a[b]}).valueOf():p.map(function(b){Ne(b,a.length);var v=a[b];return r(v,u,l,d+1)}).valueOf()}function o(a,u,l,d){if(!u||u.isIndex!==!0)throw new TypeError("Invalid index");var D=u.size(),p=u.isScalar(),b;if(Ue(l)?(b=l.size(),l=l.valueOf()):b=at(l),p){if(b.length!==0)throw new TypeError("Scalar expected");a.set(u.min(),l,d)}else{if(!Yt(b,D))try{b.length===0?l=si([l],D):l=si(l,D),b=at(l)}catch{}if(D.length<a._size.length)throw new Me(D.length,a._size.length,"<");if(b.length<D.length){for(var v=0,w=0;D[v]===1&&b[v]===1;)v++;for(;D[v]===1;)w++,v++;l=Ao(l,D.length,w,b)}if(!Yt(D,b))throw new Me(D,b,">");var y=u.max().map(function(g){return g+1});f(a,y,d);var C=D.length,m=0;s(a._data,u,l,C,m)}return a}function s(a,u,l,d,D){var p=D===d-1,b=u.dimension(D);p?b.forEach(function(v,w){Ne(v),a[v]=l[w[0]]}):b.forEach(function(v,w){Ne(v),s(a[v],u,l[w[0]],d,D+1)})}n.prototype.resize=function(a,u,l){if(!Mn(a))throw new TypeError("Array or Matrix expected");var d=a.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),D=l?this.clone():this;return c(D,d,u)};function c(a,u,l){if(u.length===0){for(var d=a._data;Be(d);)d=d[0];return d}return a._size=u.slice(0),a._data=er(a._data,a._size,l),a}n.prototype.reshape=function(a,u){var l=u?this.clone():this;l._data=Co(l._data,a);var d=l._size.reduce((D,p)=>D*p);return l._size=gr(a,d),l};function f(a,u,l){for(var d=a._size.slice(0),D=!1;d.length<u.length;)d.push(0),D=!0;for(var p=0,b=u.length;p<b;p++)u[p]>d[p]&&(d[p]=u[p],D=!0);D&&c(a,d,l)}n.prototype.clone=function(){var a=new n({data:Pe(this._data),size:Pe(this._size),datatype:this._datatype});return a},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(a){var u=this,l=Wo(a),d=function b(v,w){return Be(v)?v.map(function(y,C){return b(y,w.concat(C))}):l===1?a(v):l===2?a(v,w):a(v,w,u)},D=d(this._data,[]),p=this._datatype!==void 0?Nn(D,Ut):void 0;return new n(D,p)},n.prototype.forEach=function(a){var u=this,l=function d(D,p){Be(D)?D.forEach(function(b,v){d(b,p.concat(v))}):a(D,p,u)};l(this._data,[])},n.prototype[Symbol.iterator]=function*(){var a=function*u(l,d){if(Be(l))for(var D=0;D<l.length;D++)yield*u(l[D],d.concat(D));else yield{value:l,index:d}};yield*a(this._data,[])},n.prototype.rows=function(){var a=[],u=this.size();if(u.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var l=this._data;for(var d of l)a.push(new n([d],this._datatype));return a},n.prototype.columns=function(){var a=this,u=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,D=function(v){var w=d.map(y=>[y[v]]);u.push(new n(w,a._datatype))},p=0;p<l[1];p++)D(p);return u},n.prototype.toArray=function(){return Pe(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(a){return Re(this._data,a)},n.prototype.toString=function(){return Re(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(a){if(a){if(Le(a)&&(a=a.toNumber()),!xe(a)||!We(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var u=a>0?a:0,l=a<0?-a:0,d=this._size[0],D=this._size[1],p=Math.min(d-l,D-u),b=[],v=0;v<p;v++)b[v]=this._data[v+l][v+u];return new n({data:b,size:[p],datatype:this._datatype})},n.diagonal=function(a,u,l,d){if(!Be(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(A){if(Le(A)&&(A=A.toNumber()),!xe(A)||!We(A)||A<1)throw new Error("Size values must be positive integers");return A}),l){if(Le(l)&&(l=l.toNumber()),!xe(l)||!We(l))throw new TypeError("The parameter k must be an integer number")}else l=0;var D=l>0?l:0,p=l<0?-l:0,b=a[0],v=a[1],w=Math.min(b-p,v-D),y;if(Be(u)){if(u.length!==w)throw new Error("Invalid value array length");y=function(F){return u[F]}}else if(Ue(u)){var C=u.size();if(C.length!==1||C[0]!==w)throw new Error("Invalid matrix length");y=function(F){return u.get([F])}}else y=function(){return u};d||(d=Le(y(0))?y(0).mul(0):0);var m=[];if(a.length>0){m=er(m,a,d);for(var g=0;g<w;g++)m[g+p][g+D]=y(g)}return new n({data:m,size:[b,v]})},n.fromJSON=function(a){return new n(a)},n.prototype.swapRows=function(a,u){if(!xe(a)||!We(a)||!xe(u)||!We(u))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ne(a,this._size[0]),Ne(u,this._size[0]),n._swapRows(a,u,this._data),this},n._swapRows=function(a,u,l){var d=l[a];l[a]=l[u],l[u]=d};function h(a){return Ue(a)?h(a.valueOf()):Be(a)?a.map(h):a}return n},{isClass:!0});function Pt(e,t,n){return e&&typeof e.map=="function"?e.map(function(i){return Pt(i,t)}):t(e)}var Vo="number",yr="number, number";function Uo(e){return Math.abs(e)}Uo.signature=Vo;function Xo(e,t){return e+t}Xo.signature=yr;function jo(e,t){return e-t}jo.signature=yr;function Go(e,t){return e*t}Go.signature=yr;function Zo(e){return-e}Zo.signature=Vo;var bf="number";function Yo(e){return e===0}Yo.signature=bf;var di="isZero",wf=["typed"],Cf=De(di,wf,e=>{var{typed:t}=e;return t(di,{number:Yo,BigNumber:function(i){return i.isZero()},Complex:function(i){return i.re===0&&i.im===0},Fraction:function(i){return i.d===1&&i.n===0},Unit:t.referToSelf(n=>i=>t.find(n,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(n=>i=>Pt(i,n))})});function Ef(e,t,n){if(n==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var i=e.minus(t).abs();if(i.isZero())return!0;var r=e.constructor.max(e.abs(),t.abs());return i.lte(r.times(n))}return!1}function Af(e,t,n){return Bn(e.re,t.re,n)&&Bn(e.im,t.im,n)}var Ff=De("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(n=>(i,r)=>{if(!i.equalBase(r))throw new Error("Cannot compare units with different base");return t.find(n,[i.valueType(),r.valueType()])(i.value,r.value)})}}),On="equalScalar",_f=["typed","config"],Sf=De(On,_f,e=>{var{typed:t,config:n}=e,i=Ff({typed:t});return t(On,{"boolean, boolean":function(o,s){return o===s},"number, number":function(o,s){return Bn(o,s,n.epsilon)},"BigNumber, BigNumber":function(o,s){return o.eq(s)||Ef(o,s,n.epsilon)},"Fraction, Fraction":function(o,s){return o.equals(s)},"Complex, Complex":function(o,s){return Af(o,s,n.epsilon)}},i)});De(On,["typed","config"],e=>{var{typed:t,config:n}=e;return t(On,{"number, number":function(r,o){return Bn(r,o,n.epsilon)}})});var $f="SparseMatrix",xf=["typed","equalScalar","Matrix"],Mf=De($f,xf,e=>{var{typed:t,equalScalar:n,Matrix:i}=e;function r(p,b){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(b&&!ht(b))throw new Error("Invalid datatype: "+b);if(Ue(p))o(this,p,b);else if(p&&Be(p.index)&&Be(p.ptr)&&Be(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=b||p.datatype;else if(Be(p))s(this,p,b);else{if(p)throw new TypeError("Unsupported type of data ("+Ut(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=b}}function o(p,b,v){b.type==="SparseMatrix"?(p._values=b._values?Pe(b._values):void 0,p._index=Pe(b._index),p._ptr=Pe(b._ptr),p._size=Pe(b._size),p._datatype=v||b._datatype):s(p,b.valueOf(),v||b._datatype)}function s(p,b,v){p._values=[],p._index=[],p._ptr=[],p._datatype=v;var w=b.length,y=0,C=n,m=0;if(ht(v)&&(C=t.find(n,[v,v])||n,m=t.convert(0,v)),w>0){var g=0;do{p._ptr.push(p._index.length);for(var A=0;A<w;A++){var F=b[A];if(Be(F)){if(g===0&&y<F.length&&(y=F.length),g<F.length){var _=F[g];C(_,m)||(p._values.push(_),p._index.push(A))}}else g===0&&y<1&&(y=1),C(F,m)||(p._values.push(F),p._index.push(A))}g++}while(g<y)}p._ptr.push(p._index.length),p._size=[w,y]}r.prototype=new i,r.prototype.createSparseMatrix=function(p,b){return new r(p,b)},Object.defineProperty(r,"name",{value:"SparseMatrix"}),r.prototype.constructor=r,r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return Nn(this._values,Ut)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(p,b){return new r(p,b)},r.prototype.density=function(){var p=this._size[0],b=this._size[1];return p!==0&&b!==0?this._index.length/(p*b):0},r.prototype.subset=function(p,b,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,p);case 2:case 3:return f(this,p,b,v);default:throw new SyntaxError("Wrong number of arguments")}};function c(p,b){if(!vr(b))throw new TypeError("Invalid index");var v=b.isScalar();if(v)return p.get(b.min());var w=b.size();if(w.length!==p._size.length)throw new Me(w.length,p._size.length);var y,C,m,g,A=b.min(),F=b.max();for(y=0,C=p._size.length;y<C;y++)Ne(A[y],p._size[y]),Ne(F[y],p._size[y]);var _=p._values,x=p._index,$=p._ptr,M=b.dimension(0),H=b.dimension(1),W=[],R=[];M.forEach(function(U,ne){R[U]=ne[0],W[U]=!0});var I=_?[]:void 0,X=[],G=[];return H.forEach(function(U){for(G.push(X.length),m=$[U],g=$[U+1];m<g;m++)y=x[m],W[y]===!0&&(X.push(R[y]),I&&I.push(_[m]))}),G.push(X.length),new r({values:I,index:X,ptr:G,size:w,datatype:p._datatype})}function f(p,b,v,w){if(!b||b.isIndex!==!0)throw new TypeError("Invalid index");var y=b.size(),C=b.isScalar(),m;if(Ue(v)?(m=v.size(),v=v.toArray()):m=at(v),C){if(m.length!==0)throw new TypeError("Scalar expected");p.set(b.min(),v,w)}else{if(y.length!==1&&y.length!==2)throw new Me(y.length,p._size.length,"<");if(m.length<y.length){for(var g=0,A=0;y[g]===1&&m[g]===1;)g++;for(;y[g]===1;)A++,g++;v=Ao(v,y.length,A,m)}if(!Yt(y,m))throw new Me(y,m,">");if(y.length===1){var F=b.dimension(0);F.forEach(function($,M){Ne($),p.set([$,0],v[M[0]],w)})}else{var _=b.dimension(0),x=b.dimension(1);_.forEach(function($,M){Ne($),x.forEach(function(H,W){Ne(H),p.set([$,H],v[M[0]][W[0]],w)})})}}return p}r.prototype.get=function(p){if(!Be(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new Me(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var b=p[0],v=p[1];Ne(b,this._size[0]),Ne(v,this._size[1]);var w=h(b,this._ptr[v],this._ptr[v+1],this._index);return w<this._ptr[v+1]&&this._index[w]===b?this._values[w]:0},r.prototype.set=function(p,b,v){if(!Be(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new Me(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=p[0],y=p[1],C=this._size[0],m=this._size[1],g=n,A=0;ht(this._datatype)&&(g=t.find(n,[this._datatype,this._datatype])||n,A=t.convert(0,this._datatype)),(w>C-1||y>m-1)&&(l(this,Math.max(w+1,C),Math.max(y+1,m),v),C=this._size[0],m=this._size[1]),Ne(w,C),Ne(y,m);var F=h(w,this._ptr[y],this._ptr[y+1],this._index);return F<this._ptr[y+1]&&this._index[F]===w?g(b,A)?a(F,y,this._values,this._index,this._ptr):this._values[F]=b:g(b,A)||u(F,w,y,b,this._values,this._index,this._ptr),this};function h(p,b,v,w){if(v-b===0)return v;for(var y=b;y<v;y++)if(w[y]===p)return y;return b}function a(p,b,v,w,y){v.splice(p,1),w.splice(p,1);for(var C=b+1;C<y.length;C++)y[C]--}function u(p,b,v,w,y,C,m){y.splice(p,0,w),C.splice(p,0,b);for(var g=v+1;g<m.length;g++)m[g]++}r.prototype.resize=function(p,b,v){if(!Mn(p))throw new TypeError("Array or Matrix expected");var w=p.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(C){if(!xe(C)||!We(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Re(w)+")")});var y=v?this.clone():this;return l(y,w[0],w[1],b)};function l(p,b,v,w){var y=w||0,C=n,m=0;ht(p._datatype)&&(C=t.find(n,[p._datatype,p._datatype])||n,m=t.convert(0,p._datatype),y=t.convert(y,p._datatype));var g=!C(y,m),A=p._size[0],F=p._size[1],_,x,$;if(v>F){for(x=F;x<v;x++)if(p._ptr[x]=p._values.length,g)for(_=0;_<A;_++)p._values.push(y),p._index.push(_);p._ptr[v]=p._values.length}else v<F&&(p._ptr.splice(v+1,F-v),p._values.splice(p._ptr[v],p._values.length),p._index.splice(p._ptr[v],p._index.length));if(F=v,b>A){if(g){var M=0;for(x=0;x<F;x++){p._ptr[x]=p._ptr[x]+M,$=p._ptr[x+1]+M;var H=0;for(_=A;_<b;_++,H++)p._values.splice($+H,0,y),p._index.splice($+H,0,_),M++}p._ptr[F]=p._values.length}}else if(b<A){var W=0;for(x=0;x<F;x++){p._ptr[x]=p._ptr[x]-W;var R=p._ptr[x],I=p._ptr[x+1]-W;for($=R;$<I;$++)_=p._index[$],_>b-1&&(p._values.splice($,1),p._index.splice($,1),W++)}p._ptr[x]=p._values.length}return p._size[0]=b,p._size[1]=v,p}r.prototype.reshape=function(p,b){if(!Be(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function(U){if(!xe(U)||!We(U)||U<=-2||U===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Re(p)+")")});var v=this._size[0]*this._size[1];p=gr(p,v);var w=p[0]*p[1];if(v!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=b?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return y;for(var C=[],m=0;m<y._ptr.length;m++)for(var g=0;g<y._ptr[m+1]-y._ptr[m];g++)C.push(m);for(var A=y._values.slice(),F=y._index.slice(),_=0;_<y._index.length;_++){var x=F[_],$=C[_],M=x*y._size[1]+$;C[_]=M%p[1],F[_]=Math.floor(M/p[1])}y._values.length=0,y._index.length=0,y._ptr.length=p[1]+1,y._size=p.slice();for(var H=0;H<y._ptr.length;H++)y._ptr[H]=0;for(var W=0;W<A.length;W++){var R=F[W],I=C[W],X=A[W],G=h(R,y._ptr[I],y._ptr[I+1],y._index);u(G,R,I,X,y._values,y._index,y._ptr)}return y},r.prototype.clone=function(){var p=new r({values:this._values?Pe(this._values):void 0,index:Pe(this._index),ptr:Pe(this._ptr),size:Pe(this._size),datatype:this._datatype});return p},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(p,b){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,w=this._size[0],y=this._size[1],C=Wo(p),m=function(A,F,_){return C===1?p(A):C===2?p(A,[F,_]):p(A,[F,_],v)};return d(this,0,w-1,0,y-1,m,b)};function d(p,b,v,w,y,C,m){var g=[],A=[],F=[],_=n,x=0;ht(p._datatype)&&(_=t.find(n,[p._datatype,p._datatype])||n,x=t.convert(0,p._datatype));for(var $=function(ue,me,ge){ue=C(ue,me,ge),_(ue,x)||(g.push(ue),A.push(me))},M=w;M<=y;M++){F.push(g.length);var H=p._ptr[M],W=p._ptr[M+1];if(m)for(var R=H;R<W;R++){var I=p._index[R];I>=b&&I<=v&&$(p._values[R],I-b,M-w)}else{for(var X={},G=H;G<W;G++){var U=p._index[G];X[U]=p._values[G]}for(var ne=b;ne<=v;ne++){var j=ne in X?X[ne]:0;$(j,ne-b,M-w)}}}return F.push(g.length),new r({values:g,index:A,ptr:F,size:[v-b+1,y-w+1]})}r.prototype.forEach=function(p,b){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,w=this._size[0],y=this._size[1],C=0;C<y;C++){var m=this._ptr[C],g=this._ptr[C+1];if(b)for(var A=m;A<g;A++){var F=this._index[A];p(this._values[A],[F,C],v)}else{for(var _={},x=m;x<g;x++){var $=this._index[x];_[$]=this._values[x]}for(var M=0;M<w;M++){var H=M in _?_[M]:0;p(H,[M,C],v)}}}},r.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],b=0;b<p;b++)for(var v=this._ptr[b],w=this._ptr[b+1],y=v;y<w;y++){var C=this._index[y];yield{value:this._values[y],index:[C,b]}}},r.prototype.toArray=function(){return D(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return D(this._values,this._index,this._ptr,this._size,!1)};function D(p,b,v,w,y){var C=w[0],m=w[1],g=[],A,F;for(A=0;A<C;A++)for(g[A]=[],F=0;F<m;F++)g[A][F]=0;for(F=0;F<m;F++)for(var _=v[F],x=v[F+1],$=_;$<x;$++)A=b[$],g[A][F]=p?y?Pe(p[$]):p[$]:1;return g}return r.prototype.format=function(p){for(var b=this._size[0],v=this._size[1],w=this.density(),y="Sparse Matrix ["+Re(b,p)+" x "+Re(v,p)+"] density: "+Re(w,p)+`
`,C=0;C<v;C++)for(var m=this._ptr[C],g=this._ptr[C+1],A=m;A<g;A++){var F=this._index[A];y+=`
    (`+Re(F,p)+", "+Re(C,p)+") ==> "+(this._values?Re(this._values[A],p):"X")}return y},r.prototype.toString=function(){return Re(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(p){if(p){if(Le(p)&&(p=p.toNumber()),!xe(p)||!We(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var b=p>0?p:0,v=p<0?-p:0,w=this._size[0],y=this._size[1],C=Math.min(w-v,y-b),m=[],g=[],A=[];A[0]=0;for(var F=b;F<y&&m.length<C;F++)for(var _=this._ptr[F],x=this._ptr[F+1],$=_;$<x;$++){var M=this._index[$];if(M===F-b+v){m.push(this._values[$]),g[m.length-1]=M-v;break}}return A.push(m.length),new r({values:m,index:g,ptr:A,size:[C,1]})},r.fromJSON=function(p){return new r(p)},r.diagonal=function(p,b,v,w,y){if(!Be(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function(U){if(Le(U)&&(U=U.toNumber()),!xe(U)||!We(U)||U<1)throw new Error("Size values must be positive integers");return U}),v){if(Le(v)&&(v=v.toNumber()),!xe(v)||!We(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var C=n,m=0;ht(y)&&(C=t.find(n,[y,y])||n,m=t.convert(0,y));var g=v>0?v:0,A=v<0?-v:0,F=p[0],_=p[1],x=Math.min(F-A,_-g),$;if(Be(b)){if(b.length!==x)throw new Error("Invalid value array length");$=function(ne){return b[ne]}}else if(Ue(b)){var M=b.size();if(M.length!==1||M[0]!==x)throw new Error("Invalid matrix length");$=function(ne){return b.get([ne])}}else $=function(){return b};for(var H=[],W=[],R=[],I=0;I<_;I++){R.push(H.length);var X=I-g;if(X>=0&&X<x){var G=$(X);C(G,m)||(W.push(X+A),H.push(G))}}return R.push(H.length),new r({values:H,index:W,ptr:R,size:[F,_]})},r.prototype.swapRows=function(p,b){if(!xe(p)||!We(p)||!xe(b)||!We(b))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ne(p,this._size[0]),Ne(b,this._size[0]),r._swapRows(p,b,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(p,b,v,w,y){for(var C=w[p],m=w[p+1],g=C;g<m;g++)y(v[g],b[g])},r._swapRows=function(p,b,v,w,y,C){for(var m=0;m<v;m++){var g=C[m],A=C[m+1],F=h(p,g,A,y),_=h(b,g,A,y);if(F<A&&_<A&&y[F]===p&&y[_]===b){if(w){var x=w[F];w[F]=w[_],w[_]=x}continue}if(F<A&&y[F]===p&&(_>=A||y[_]!==b)){var $=w?w[F]:void 0;y.splice(_,0,b),w&&w.splice(_,0,$),y.splice(_<=F?F+1:F,1),w&&w.splice(_<=F?F+1:F,1);continue}if(_<A&&y[_]===b&&(F>=A||y[F]!==p)){var M=w?w[_]:void 0;y.splice(F,0,p),w&&w.splice(F,0,M),y.splice(F<=_?_+1:_,1),w&&w.splice(F<=_?_+1:_,1)}}},r},{isClass:!0}),Bf="number",Nf=["typed"];function Tf(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var n={"0b":2,"0o":8,"0x":16}[t[1]],i=t[2],r=t[3];return{input:e,radix:n,integerPart:i,fractionalPart:r}}else return null}function If(e){for(var t=parseInt(e.integerPart,e.radix),n=0,i=0;i<e.fractionalPart.length;i++){var r=parseInt(e.fractionalPart[i],e.radix);n+=r/Math.pow(e.radix,i+1)}var o=t+n;if(isNaN(o))throw new SyntaxError('String "'+e.input+'" is not a valid number');return o}var Pf=De(Bf,Nf,e=>{var{typed:t}=e,n=t("number",{"":function(){return 0},number:function(r){return r},string:function(r){if(r==="NaN")return NaN;var o=Tf(r);if(o)return If(o);var s=0,c=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(s=Number(c[2]),r=c[1]);var f=Number(r);if(isNaN(f))throw new SyntaxError('String "'+r+'" is not a valid number');if(c){if(f>2**s-1)throw new SyntaxError('String "'.concat(r,'" is out of range'));f>=2**(s-1)&&(f=f-2**s)}return f},BigNumber:function(r){return r.toNumber()},Fraction:function(r){return r.valueOf()},Unit:t.referToSelf(i=>r=>{var o=r.clone();return o.value=i(r.value),o}),null:function(r){return 0},"Unit, string | Unit":function(r,o){return r.toNumber(o)},"Array | Matrix":t.referToSelf(i=>r=>Pt(r,i))});return n.fromJSON=function(i){return parseFloat(i.value)},n}),Of="bignumber",Rf=["typed","BigNumber"],zf=De(Of,Rf,e=>{var{typed:t,BigNumber:n}=e;return t("bignumber",{"":function(){return new n(0)},number:function(r){return new n(r+"")},string:function(r){var o=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var s=o[2],c=n(o[1]),f=new n(2).pow(Number(s));if(c.gt(f.sub(1)))throw new SyntaxError('String "'.concat(r,'" is out of range'));var h=new n(2).pow(Number(s)-1);return c.gte(h)?c.sub(f):c}return new n(r)},BigNumber:function(r){return r},Unit:t.referToSelf(i=>r=>{var o=r.clone();return o.value=i(r.value),o}),Fraction:function(r){return new n(r.n).div(r.d).times(r.s)},null:function(r){return new n(0)},"Array | Matrix":t.referToSelf(i=>r=>Pt(r,i))})}),Lf="fraction",kf=["typed","Fraction"],Kf=De(Lf,kf,e=>{var{typed:t,Fraction:n}=e;return t("fraction",{number:function(r){if(!isFinite(r)||isNaN(r))throw new Error(r+" cannot be represented as a fraction");return new n(r)},string:function(r){return new n(r)},"number, number":function(r,o){return new n(r,o)},null:function(r){return new n(0)},BigNumber:function(r){return new n(r.toString())},Fraction:function(r){return r},Unit:t.referToSelf(i=>r=>{var o=r.clone();return o.value=i(r.value),o}),Object:function(r){return new n(r)},"Array | Matrix":t.referToSelf(i=>r=>Pt(r,i))})}),hi="matrix",Hf=["typed","Matrix","DenseMatrix","SparseMatrix"],qf=De(hi,Hf,e=>{var{typed:t,Matrix:n,DenseMatrix:i,SparseMatrix:r}=e;return t(hi,{"":function(){return o([])},string:function(c){return o([],c)},"string, string":function(c,f){return o([],c,f)},Array:function(c){return o(c)},Matrix:function(c){return o(c,c.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(s,c,f){if(c==="dense"||c==="default"||c===void 0)return new i(s,f);if(c==="sparse")return new r(s,f);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),pi="unaryMinus",Wf=["typed"],Vf=De(pi,Wf,e=>{var{typed:t}=e;return t(pi,{number:Zo,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:t.referToSelf(n=>i=>{var r=i.clone();return r.value=t.find(n,r.valueType())(i.value),r}),"Array | Matrix":t.referToSelf(n=>i=>Pt(i,n))})}),vi="abs",Uf=["typed"],Xf=De(vi,Uf,e=>{var{typed:t}=e;return t(vi,{number:Uo,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":t.referToSelf(n=>i=>Pt(i,n))})}),mi="addScalar",jf=["typed"],Gf=De(mi,jf,e=>{var{typed:t}=e;return t(mi,{"number, number":Xo,"Complex, Complex":function(i,r){return i.add(r)},"BigNumber, BigNumber":function(i,r){return i.plus(r)},"Fraction, Fraction":function(i,r){return i.add(r)},"Unit, Unit":t.referToSelf(n=>(i,r)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(r.value===null||r.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(r))throw new Error("Units do not match");var o=i.clone();return o.value=t.find(n,[o.valueType(),r.valueType()])(o.value,r.value),o.fixPrefix=!1,o})})}),gi="subtractScalar",Zf=["typed"],Yf=De(gi,Zf,e=>{var{typed:t}=e;return t(gi,{"number, number":jo,"Complex, Complex":function(i,r){return i.sub(r)},"BigNumber, BigNumber":function(i,r){return i.minus(r)},"Fraction, Fraction":function(i,r){return i.sub(r)},"Unit, Unit":t.referToSelf(n=>(i,r)=>{if(i.value===null||i.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(r.value===null||r.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(r))throw new Error("Units do not match");var o=i.clone();return o.value=t.find(n,[o.valueType(),r.valueType()])(o.value,r.value),o.fixPrefix=!1,o})})}),Jf="matAlgo11xS0s",Qf=["typed","equalScalar"],Jo=De(Jf,Qf,e=>{var{typed:t,equalScalar:n}=e;return function(r,o,s,c){var f=r._values,h=r._index,a=r._ptr,u=r._size,l=r._datatype;if(!f)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=u[0],D=u[1],p,b=n,v=0,w=s;typeof l=="string"&&(p=l,b=t.find(n,[p,p]),v=t.convert(0,p),o=t.convert(o,p),w=t.find(s,[p,p]));for(var y=[],C=[],m=[],g=0;g<D;g++){m[g]=C.length;for(var A=a[g],F=a[g+1],_=A;_<F;_++){var x=h[_],$=c?w(o,f[_]):w(f[_],o);b($,v)||(C.push(x),y.push($))}}return m[D]=C.length,r.createSparseMatrix({values:y,index:C,ptr:m,size:[d,D],datatype:p})}}),e0="matAlgo14xDs",t0=["typed"],Qo=De(e0,t0,e=>{var{typed:t}=e;return function(r,o,s,c){var f=r._data,h=r._size,a=r._datatype,u,l=s;typeof a=="string"&&(u=a,o=t.convert(o,u),l=t.find(s,[u,u]));var d=h.length>0?n(l,0,h,h[0],f,o,c):[];return r.createDenseMatrix({data:d,size:Pe(h),datatype:u})};function n(i,r,o,s,c,f,h){var a=[];if(r===o.length-1)for(var u=0;u<s;u++)a[u]=h?i(f,c[u]):i(c[u],f);else for(var l=0;l<s;l++)a[l]=n(i,r+1,o,o[r+1],c[l],f,h);return a}}),n0="multiplyScalar",r0=["typed"],i0=De(n0,r0,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Go,"Complex, Complex":function(i,r){return i.mul(r)},"BigNumber, BigNumber":function(i,r){return i.times(r)},"Fraction, Fraction":function(i,r){return i.mul(r)},"number | Fraction | BigNumber | Complex, Unit":(n,i)=>i.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,i)=>n.multiply(i)})}),Di="multiply",o0=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],u0=De(Di,o0,e=>{var{typed:t,matrix:n,addScalar:i,multiplyScalar:r,equalScalar:o,dot:s}=e,c=Jo({typed:t,equalScalar:o}),f=Qo({typed:t});function h(m,g){switch(m.length){case 1:switch(g.length){case 1:if(m[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(m[0]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+m[0]+") must match Matrix rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;case 2:switch(g.length){case 1:if(m[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+m[1]+") must match Vector length ("+g[0]+")");break;case 2:if(m[1]!==g[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+m[1]+") must match Matrix B rows ("+g[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+g.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+m.length+" dimensions)")}}function a(m,g,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return s(m,g)}function u(m,g){if(g.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return l(m,g)}function l(m,g){var A=m._data,F=m._size,_=m._datatype||m.getDataType(),x=g._data,$=g._size,M=g._datatype||g.getDataType(),H=F[0],W=$[1],R,I=i,X=r;_&&M&&_===M&&typeof _=="string"&&_!=="mixed"&&(R=_,I=t.find(i,[R,R]),X=t.find(r,[R,R]));for(var G=[],U=0;U<W;U++){for(var ne=X(A[0],x[0][U]),j=1;j<H;j++)ne=I(ne,X(A[j],x[j][U]));G[U]=ne}return m.createDenseMatrix({data:G,size:[W],datatype:_===m._datatype&&M===g._datatype?R:void 0})}var d=t("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":w}),D=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":b,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":C});function p(m,g){var A=m._data,F=m._size,_=m._datatype||m.getDataType(),x=g._data,$=g._datatype||g.getDataType(),M=F[0],H=F[1],W,R=i,I=r;_&&$&&_===$&&typeof _=="string"&&_!=="mixed"&&(W=_,R=t.find(i,[W,W]),I=t.find(r,[W,W]));for(var X=[],G=0;G<M;G++){for(var U=A[G],ne=I(U[0],x[0]),j=1;j<H;j++)ne=R(ne,I(U[j],x[j]));X[G]=ne}return m.createDenseMatrix({data:X,size:[M],datatype:_===m._datatype&&$===g._datatype?W:void 0})}function b(m,g){var A=m._data,F=m._size,_=m._datatype||m.getDataType(),x=g._data,$=g._size,M=g._datatype||g.getDataType(),H=F[0],W=F[1],R=$[1],I,X=i,G=r;_&&M&&_===M&&typeof _=="string"&&_!=="mixed"&&_!=="mixed"&&(I=_,X=t.find(i,[I,I]),G=t.find(r,[I,I]));for(var U=[],ne=0;ne<H;ne++){var j=A[ne];U[ne]=[];for(var te=0;te<R;te++){for(var ue=G(j[0],x[0][te]),me=1;me<W;me++)ue=X(ue,G(j[me],x[me][te]));U[ne][te]=ue}}return m.createDenseMatrix({data:U,size:[H,R],datatype:_===m._datatype&&M===g._datatype?I:void 0})}function v(m,g){var A=m._data,F=m._size,_=m._datatype||m.getDataType(),x=g._values,$=g._index,M=g._ptr,H=g._size,W=g._datatype||g._data===void 0?g._datatype:g.getDataType();if(!x)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var R=F[0],I=H[1],X,G=i,U=r,ne=o,j=0;_&&W&&_===W&&typeof _=="string"&&_!=="mixed"&&(X=_,G=t.find(i,[X,X]),U=t.find(r,[X,X]),ne=t.find(o,[X,X]),j=t.convert(0,X));for(var te=[],ue=[],me=[],ge=g.createSparseMatrix({values:te,index:ue,ptr:me,size:[R,I],datatype:_===m._datatype&&W===g._datatype?X:void 0}),K=0;K<I;K++){me[K]=ue.length;var Y=M[K],se=M[K+1];if(se>Y)for(var re=0,ie=0;ie<R;ie++){for(var be=ie+1,he=void 0,ce=Y;ce<se;ce++){var _e=$[ce];re!==be?(he=U(A[ie][_e],x[ce]),re=be):he=G(he,U(A[ie][_e],x[ce]))}re===be&&!ne(he,j)&&(ue.push(ie),te.push(he))}}return me[I]=ue.length,ge}function w(m,g){var A=m._values,F=m._index,_=m._ptr,x=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var $=g._data,M=g._datatype||g.getDataType(),H=m._size[0],W=g._size[0],R=[],I=[],X=[],G,U=i,ne=r,j=o,te=0;x&&M&&x===M&&typeof x=="string"&&x!=="mixed"&&(G=x,U=t.find(i,[G,G]),ne=t.find(r,[G,G]),j=t.find(o,[G,G]),te=t.convert(0,G));var ue=[],me=[];X[0]=0;for(var ge=0;ge<W;ge++){var K=$[ge];if(!j(K,te))for(var Y=_[ge],se=_[ge+1],re=Y;re<se;re++){var ie=F[re];me[ie]?ue[ie]=U(ue[ie],ne(K,A[re])):(me[ie]=!0,I.push(ie),ue[ie]=ne(K,A[re]))}}for(var be=I.length,he=0;he<be;he++){var ce=I[he];R[he]=ue[ce]}return X[1]=I.length,m.createSparseMatrix({values:R,index:I,ptr:X,size:[H,1],datatype:x===m._datatype&&M===g._datatype?G:void 0})}function y(m,g){var A=m._values,F=m._index,_=m._ptr,x=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var $=g._data,M=g._datatype||g.getDataType(),H=m._size[0],W=g._size[0],R=g._size[1],I,X=i,G=r,U=o,ne=0;x&&M&&x===M&&typeof x=="string"&&x!=="mixed"&&(I=x,X=t.find(i,[I,I]),G=t.find(r,[I,I]),U=t.find(o,[I,I]),ne=t.convert(0,I));for(var j=[],te=[],ue=[],me=m.createSparseMatrix({values:j,index:te,ptr:ue,size:[H,R],datatype:x===m._datatype&&M===g._datatype?I:void 0}),ge=[],K=[],Y=0;Y<R;Y++){ue[Y]=te.length;for(var se=Y+1,re=0;re<W;re++){var ie=$[re][Y];if(!U(ie,ne))for(var be=_[re],he=_[re+1],ce=be;ce<he;ce++){var _e=F[ce];K[_e]!==se?(K[_e]=se,te.push(_e),ge[_e]=G(ie,A[ce])):ge[_e]=X(ge[_e],G(ie,A[ce]))}}for(var ke=ue[Y],tt=te.length,fe=ke;fe<tt;fe++){var ae=te[fe];j[fe]=ge[ae]}}return ue[R]=te.length,me}function C(m,g){var A=m._values,F=m._index,_=m._ptr,x=m._datatype||m._data===void 0?m._datatype:m.getDataType(),$=g._values,M=g._index,H=g._ptr,W=g._datatype||g._data===void 0?g._datatype:g.getDataType(),R=m._size[0],I=g._size[1],X=A&&$,G,U=i,ne=r;x&&W&&x===W&&typeof x=="string"&&x!=="mixed"&&(G=x,U=t.find(i,[G,G]),ne=t.find(r,[G,G]));for(var j=X?[]:void 0,te=[],ue=[],me=m.createSparseMatrix({values:j,index:te,ptr:ue,size:[R,I],datatype:x===m._datatype&&W===g._datatype?G:void 0}),ge=X?[]:void 0,K=[],Y,se,re,ie,be,he,ce,_e,ke=0;ke<I;ke++){ue[ke]=te.length;var tt=ke+1;for(be=H[ke],he=H[ke+1],ie=be;ie<he;ie++)if(_e=M[ie],X)for(se=_[_e],re=_[_e+1],Y=se;Y<re;Y++)ce=F[Y],K[ce]!==tt?(K[ce]=tt,te.push(ce),ge[ce]=ne($[ie],A[Y])):ge[ce]=U(ge[ce],ne($[ie],A[Y]));else for(se=_[_e],re=_[_e+1],Y=se;Y<re;Y++)ce=F[Y],K[ce]!==tt&&(K[ce]=tt,te.push(ce));if(X)for(var fe=ue[ke],ae=te.length,Q=fe;Q<ae;Q++){var de=te[Q];j[Q]=ge[de]}}return ue[I]=te.length,me}return t(Di,r,{"Array, Array":t.referTo("Matrix, Matrix",m=>(g,A)=>{h(at(g),at(A));var F=m(n(g),n(A));return Ue(F)?F.valueOf():F}),"Matrix, Matrix":function(g,A){var F=g.size(),_=A.size();return h(F,_),F.length===1?_.length===1?a(g,A,F[0]):u(g,A):_.length===1?d(g,A):D(g,A)},"Matrix, Array":t.referTo("Matrix,Matrix",m=>(g,A)=>m(g,n(A))),"Array, Matrix":t.referToSelf(m=>(g,A)=>m(n(g,A.storage()),A)),"SparseMatrix, any":function(g,A){return c(g,A,r,!1)},"DenseMatrix, any":function(g,A){return f(g,A,r,!1)},"any, SparseMatrix":function(g,A){return c(A,g,r,!0)},"any, DenseMatrix":function(g,A){return f(A,g,r,!0)},"Array, any":function(g,A){return f(n(g),A,r,!1).valueOf()},"any, Array":function(g,A){return f(n(A),g,r,!0).valueOf()},"any, any":r,"any, any, ...any":t.referToSelf(m=>(g,A,F)=>{for(var _=m(g,A),x=0;x<F.length;x++)_=m(_,F[x]);return _})})}),yi="conj",a0=["typed"],s0=De(yi,a0,e=>{var{typed:t}=e;return t(yi,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":t.referToSelf(n=>i=>Pt(i,n))})}),bi="identity",l0=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],c0=De(bi,l0,e=>{var{typed:t,config:n,matrix:i,BigNumber:r,DenseMatrix:o,SparseMatrix:s}=e;return t(bi,{"":function(){return n.matrix==="Matrix"?i([]):[]},string:function(a){return i(a)},"number | BigNumber":function(a){return f(a,a,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,u){return f(a,a,u)},"number | BigNumber, number | BigNumber":function(a,u){return f(a,u,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,u,l){return f(a,u,l)},Array:function(a){return c(a)},"Array, string":function(a,u){return c(a,u)},Matrix:function(a){return c(a.valueOf(),a.storage())},"Matrix, string":function(a,u){return c(a.valueOf(),u)}});function c(h,a){switch(h.length){case 0:return a?i(a):[];case 1:return f(h[0],h[0],a);case 2:return f(h[0],h[1],a);default:throw new Error("Vector containing two values expected")}}function f(h,a,u){var l=Le(h)||Le(a)?r:null;if(Le(h)&&(h=h.toNumber()),Le(a)&&(a=a.toNumber()),!We(h)||h<1)throw new Error("Parameters in function identity must be positive integers");if(!We(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var d=l?new r(1):1,D=l?new l(0):0,p=[h,a];if(u){if(u==="sparse")return s.diagonal(p,d,0,D);if(u==="dense")return o.diagonal(p,d,0,D);throw new TypeError('Unknown matrix type "'.concat(u,'"'))}for(var b=er([],p,D),v=h<a?h:a,w=0;w<v;w++)b[w][w]=d;return b}});function f0(){throw new Error('No "bignumber" implementation available')}function d0(){throw new Error('No "fraction" implementation available')}function h0(){throw new Error('No "matrix" implementation available')}var wi="size",p0=["typed","config","?matrix"],v0=De(wi,p0,e=>{var{typed:t,config:n,matrix:i}=e;return t(wi,{Matrix:function(o){return o.create(o.size())},Array:at,string:function(o){return n.matrix==="Array"?[o.length]:i([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return n.matrix==="Array"?[]:i?i([]):h0()}})}),m0="numeric",g0=["number","?bignumber","?fraction"],D0=De(m0,g0,e=>{var{number:t,bignumber:n,fraction:i}=e,r={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:s=>t(s),BigNumber:n?s=>n(s):f0,Fraction:i?s=>i(s):d0};return function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",h=arguments.length>2?arguments[2]:void 0;if(h!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=Ut(c);if(!(a in r))throw new TypeError("Cannot convert "+c+' of type "'+a+'"; valid input types are '+Object.keys(r).join(", "));if(!(f in o))throw new TypeError("Cannot convert "+c+' to type "'+f+'"; valid output types are '+Object.keys(o).join(", "));return f===a?c:o[f](c)}}),Ci="divideScalar",y0=["typed","numeric"],b0=De(Ci,y0,e=>{var{typed:t,numeric:n}=e;return t(Ci,{"number, number":function(r,o){return r/o},"Complex, Complex":function(r,o){return r.div(o)},"BigNumber, BigNumber":function(r,o){return r.div(o)},"Fraction, Fraction":function(r,o){return r.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,r)=>i.divide(r),"number | Fraction | Complex | BigNumber, Unit":(i,r)=>r.divideInto(i)})}),Ei="dot",w0=["typed","addScalar","multiplyScalar","conj","size"],C0=De(Ei,w0,e=>{var{typed:t,addScalar:n,multiplyScalar:i,conj:r,size:o}=e;return t(Ei,{"Array | DenseMatrix, Array | DenseMatrix":c,"SparseMatrix, SparseMatrix":f});function s(a,u){var l=h(a),d=h(u),D,p;if(l.length===1)D=l[0];else if(l.length===2&&l[1]===1)D=l[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+l.join(", ")+")");if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(D!==p)throw new RangeError("Vectors must have equal length ("+D+" != "+p+")");if(D===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return D}function c(a,u){var l=s(a,u),d=Ue(a)?a._data:a,D=Ue(a)?a._datatype||a.getDataType():void 0,p=Ue(u)?u._data:u,b=Ue(u)?u._datatype||u.getDataType():void 0,v=h(a).length===2,w=h(u).length===2,y=n,C=i;if(D&&b&&D===b&&typeof D=="string"&&D!=="mixed"){var m=D;y=t.find(n,[m,m]),C=t.find(i,[m,m])}if(!v&&!w){for(var g=C(r(d[0]),p[0]),A=1;A<l;A++)g=y(g,C(r(d[A]),p[A]));return g}if(!v&&w){for(var F=C(r(d[0]),p[0][0]),_=1;_<l;_++)F=y(F,C(r(d[_]),p[_][0]));return F}if(v&&!w){for(var x=C(r(d[0][0]),p[0]),$=1;$<l;$++)x=y(x,C(r(d[$][0]),p[$]));return x}if(v&&w){for(var M=C(r(d[0][0]),p[0][0]),H=1;H<l;H++)M=y(M,C(r(d[H][0]),p[H][0]));return M}}function f(a,u){s(a,u);for(var l=a._index,d=a._values,D=u._index,p=u._values,b=0,v=n,w=i,y=0,C=0;y<l.length&&C<D.length;){var m=l[y],g=D[C];if(m<g){y++;continue}if(m>g){C++;continue}m===g&&(b=v(b,w(d[y],p[C])),y++,C++)}return b}function h(a){return Ue(a)?a.size():o(a)}}),Ai="det",E0=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],A0=De(Ai,E0,e=>{var{typed:t,matrix:n,subtractScalar:i,multiply:r,divideScalar:o,isZero:s,unaryMinus:c}=e;return t(Ai,{any:function(a){return Pe(a)},"Array | Matrix":function(a){var u;switch(Ue(a)?u=a.size():Array.isArray(a)?(a=n(a),u=a.size()):u=[],u.length){case 0:return Pe(a);case 1:if(u[0]===1)return Pe(a.valueOf()[0]);if(u[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Re(u)+")");case 2:{var l=u[0],d=u[1];if(l===d)return f(a.clone().valueOf(),l);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+Re(u)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Re(u)+")")}}});function f(h,a,u){if(a===1)return Pe(h[0][0]);if(a===2)return i(r(h[0][0],h[1][1]),r(h[1][0],h[0][1]));for(var l=!1,d=new Array(a).fill(0).map((A,F)=>F),D=0;D<a;D++){var p=d[D];if(s(h[p][D])){var b=void 0;for(b=D+1;b<a;b++)if(!s(h[d[b]][D])){p=d[b],d[b]=d[D],d[D]=p,l=!l;break}if(b===a)return h[p][D]}for(var v=h[p][D],w=D===0?1:h[d[D-1]][D-1],y=D+1;y<a;y++)for(var C=d[y],m=D+1;m<a;m++)h[C][m]=o(i(r(h[C][m],v),r(h[C][D],h[p][m])),w)}var g=h[d[a-1]][a-1];return l?c(g):g}}),Fi="inv",F0=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],_0=De(Fi,F0,e=>{var{typed:t,matrix:n,divideScalar:i,addScalar:r,multiply:o,unaryMinus:s,det:c,identity:f,abs:h}=e;return t(Fi,{"Array | Matrix":function(l){var d=Ue(l)?l.size():at(l);switch(d.length){case 1:if(d[0]===1)return Ue(l)?n([i(1,l.valueOf()[0])]):[i(1,l[0])];throw new RangeError("Matrix must be square (size: "+Re(d)+")");case 2:{var D=d[0],p=d[1];if(D===p)return Ue(l)?n(a(l.valueOf(),D,p),l.storage()):a(l,D,p);throw new RangeError("Matrix must be square (size: "+Re(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Re(d)+")")}},any:function(l){return i(1,l)}});function a(u,l,d){var D,p,b,v,w;if(l===1){if(v=u[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,v)]]}else if(l===2){var y=c(u);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[i(u[1][1],y),i(s(u[0][1]),y)],[i(s(u[1][0]),y),i(u[0][0],y)]]}else{var C=u.concat();for(D=0;D<l;D++)C[D]=C[D].concat();for(var m=f(l).valueOf(),g=0;g<d;g++){var A=h(C[g][g]),F=g;for(D=g+1;D<l;)h(C[D][g])>A&&(A=h(C[D][g]),F=D),D++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");D=F,D!==g&&(w=C[g],C[g]=C[D],C[D]=w,w=m[g],m[g]=m[D],m[D]=w);var _=C[g],x=m[g];for(D=0;D<l;D++){var $=C[D],M=m[D];if(D!==g){if($[g]!==0){for(b=i(s($[g]),_[g]),p=g;p<d;p++)$[p]=r($[p],o(b,_[p]));for(p=0;p<d;p++)M[p]=r(M[p],o(b,x[p]))}}else{for(b=_[g],p=g;p<d;p++)$[p]=i($[p],b);for(p=0;p<d;p++)M[p]=i(M[p],b)}}}return m}}}),S0="divide",$0=["typed","matrix","multiply","equalScalar","divideScalar","inv"],x0=De(S0,$0,e=>{var{typed:t,matrix:n,multiply:i,equalScalar:r,divideScalar:o,inv:s}=e,c=Jo({typed:t,equalScalar:r}),f=Qo({typed:t});return t("divide",$l({"Array | Matrix, Array | Matrix":function(a,u){return i(a,s(u))},"DenseMatrix, any":function(a,u){return f(a,u,o,!1)},"SparseMatrix, any":function(a,u){return c(a,u,o,!1)},"Array, any":function(a,u){return f(n(a),u,o,!1).valueOf()},"any, Array | Matrix":function(a,u){return i(a,s(u))}},o.signatures))}),br=of({config:hn}),M0=lf({}),eu=hf({}),wr=mf({}),Cr=yf({Matrix:wr}),Oe=ac({BigNumber:br,Complex:M0,DenseMatrix:Cr,Fraction:eu}),B0=Xf({typed:Oe}),Er=Gf({typed:Oe}),N0=zf({BigNumber:br,typed:Oe}),T0=s0({typed:Oe}),Ar=Sf({config:hn,typed:Oe}),I0=Cf({typed:Oe}),tu=i0({typed:Oe}),P0=Pf({typed:Oe}),nu=Mf({Matrix:wr,equalScalar:Ar,typed:Oe}),O0=Yf({typed:Oe}),ru=Vf({typed:Oe}),R0=Kf({Fraction:eu,typed:Oe}),nn=qf({DenseMatrix:Cr,Matrix:wr,SparseMatrix:nu,typed:Oe}),z0=D0({bignumber:N0,fraction:R0,number:P0}),L0=v0({matrix:nn,config:hn,typed:Oe}),Fr=b0({numeric:z0,typed:Oe}),k0=c0({BigNumber:br,DenseMatrix:Cr,SparseMatrix:nu,config:hn,matrix:nn,typed:Oe}),K0=C0({addScalar:Er,conj:T0,multiplyScalar:tu,size:L0,typed:Oe}),pn=u0({addScalar:Er,dot:K0,equalScalar:Ar,matrix:nn,multiplyScalar:tu,typed:Oe}),H0=A0({divideScalar:Fr,isZero:I0,matrix:nn,multiply:pn,subtractScalar:O0,typed:Oe,unaryMinus:ru}),q0=_0({abs:B0,addScalar:Er,det:H0,divideScalar:Fr,identity:k0,matrix:nn,multiply:pn,typed:Oe,unaryMinus:ru}),iu=x0({divideScalar:Fr,equalScalar:Ar,inv:q0,matrix:nn,multiply:pn,typed:Oe});function _i(e,t){return pn(e,iu(parseInt(t),100))}function Vt(e){return e*Math.PI/180}function Ae(e,t,n){return{x:(e.x-t.x)*Math.cos(Vt(n))-(e.y-t.y)*Math.sin(Vt(n))+t.x,y:(e.x-t.x)*Math.sin(Vt(n))+(e.y-t.y)*Math.cos(Vt(n))+t.y}}function Nt(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}}function Si(e){return Math.abs(Math.sin(Vt(e)))}function $i(e){return Math.abs(Math.cos(Vt(e)))}function xi(e){return(e+360)%360}function W0(e){const t={};return["width","height","top","left","rotate"].forEach(n=>{n!="rotate"?t[n]=e[n]+"px":t.transform="rotate("+e[n]+"deg)"}),t}const V0=["width","height","scale"];function U0(e){const t={};return Object.keys(e).filter(n=>!V0.includes(n)).forEach(n=>{t[n]=e[n],n==="fontSize"&&(t[n]+="px")}),t}const X0=["fontSize","width","height","top","left","borderWidth","letterSpacing","borderRadius"];function j0(e,t=[]){const n={};return Object.keys(e).forEach(i=>{t.includes(i)||(i!="rotate"?e[i]!==""&&(n[i]=e[i],X0.includes(i)&&(n[i]+="px")):n.transform=i+"("+e[i]+"deg)")}),n}function Mi(e){if(e={...e},e.rotate!=0){const t=e.width*$i(e.rotate)+e.height*Si(e.rotate),n=(e.width-t)/2;e.left+=n,e.right=e.left+t;const i=e.height*$i(e.rotate)+e.width*Si(e.rotate),r=(i-e.height)/2;e.top-=r,e.bottom=e.top+i,e.width=t,e.height=i}else e.bottom=e.top+e.height,e.right=e.left+e.width;return e}const G0={class:"mark-line"},Z0={__name:"MarkLine",setup(e){const t=Ot(["xt","xc","xb","yl","yc","yr"]),n=ve(3),i=Ot({xt:!1,xc:!1,xb:!1,yl:!1,yc:!1,yr:!1}),r=new Array(t.length).fill(),o=en();function s(u,l){const d=o.componentData,D=Mi(o.curComponent.style),p=D.width/2,b=D.height/2;c(),d.forEach(v=>{if(v==o.curComponent)return;const w=Mi(v.style),{top:y,left:C,bottom:m,right:g}=w,A=w.width/2,F=w.height/2,_={top:[{isNearly:a(D.top,y),lineNode:r[0],line:"xt",dragShift:y,lineShift:y},{isNearly:a(D.bottom,y),lineNode:r[0],line:"xt",dragShift:y-D.height,lineShift:y},{isNearly:a(D.top+b,y+F),lineNode:r[1],line:"xc",dragShift:y+F-b,lineShift:y+F},{isNearly:a(D.top,m),lineNode:r[2],line:"xb",dragShift:m,lineShift:m},{isNearly:a(D.bottom,m),lineNode:r[2],line:"xb",dragShift:m-D.height,lineShift:m}],left:[{isNearly:a(D.left,C),lineNode:r[3],line:"yl",dragShift:C,lineShift:C},{isNearly:a(D.right,C),lineNode:r[3],line:"yl",dragShift:C-D.width,lineShift:C},{isNearly:a(D.left+p,C+A),lineNode:r[4],line:"yc",dragShift:C+A-p,lineShift:C+A},{isNearly:a(D.left,g),lineNode:r[5],line:"yr",dragShift:g,lineShift:g},{isNearly:a(D.right,g),lineNode:r[5],line:"yr",dragShift:g-D.width,lineShift:g}]},x=[],{rotate:$}=o.curComponent.style;Object.keys(_).forEach(M=>{_[M].forEach(H=>{H.isNearly&&(o.setShapeSingleStyle({key:M,value:$!=0?f(M,H,D):H.dragShift}),H.lineNode.style[M]=`${H.lineShift}px`,x.push(H.line))})}),x.length&&h(x,u,l)})}function c(){Object.keys(i).forEach(u=>{i[u]=!1})}function f(u,l,d){const{width:D,height:p}=o.curComponent.style;return u=="top"?Math.round(l.dragShift-(p-d.height)/2):Math.round(l.dragShift-(D-d.width)/2)}function h(u,l,d){d?u.includes("yr")?i.yr=!0:u.includes("yc")?i.yc=!0:u.includes("yl")&&(i.yl=!0):u.includes("yl")?i.yl=!0:u.includes("yc")?i.yc=!0:u.includes("yr")&&(i.yr=!0),l?u.includes("xb")?i.xb=!0:u.includes("xc")?i.xc=!0:u.includes("xt")&&(i.xt=!0):u.includes("xt")?i.xt=!0:u.includes("xc")?i.xc=!0:u.includes("xb")&&(i.xb=!0)}function a(u,l){return Math.abs(u-l)<=n.value}return Mt(()=>{xn.on("move",(u,l)=>{s(u,l)}),xn.on("unmove",()=>{c()})}),(u,l)=>(ze(),Qe("div",G0,[(ze(!0),Qe(xt,null,Ln(t,(d,D)=>Rn((ze(),Qe("div",{key:d,ref_for:!0,ref:p=>He(r)[D]=p,class:Dt(["line",d.includes("x")?"xline":"yline"])},null,2)),[[zn,i[d]||!1]])),128))]))}},Y0=yt(Z0,[["__scopeId","data-v-6bf52baa"]]),J0={};function Q0(e,t){return null}const ed=yt(J0,[["render",Q0]]),td={lt:nd,t:ud,rt:rd,r:ad,rb:id,b:sd,lb:od,l:ld};function nd(e,t,n,i,r){const{symmetricPoint:o}=r;let s=Nt(t,o),c=Ae(t,s,-e.rotate),f=Ae(o,s,-e.rotate),h=f.x-c.x,a=f.y-c.y;if(i){h/a>n?(c.x+=Math.abs(h-a*n),h=a*n):(c.y+=Math.abs(a-h/n),a=h/n);const u=Ae(c,s,e.rotate);s=Nt(u,o),c=Ae(u,s,-e.rotate),f=Ae(o,s,-e.rotate),h=f.x-c.x,a=f.y-c.y}h>0&&a>0&&(e.width=Math.round(h),e.height=Math.round(a),e.left=Math.round(c.x),e.top=Math.round(c.y))}function rd(e,t,n,i,r){const{symmetricPoint:o}=r;let s=Nt(t,o),c=Ae(t,s,-e.rotate),f=Ae(o,s,-e.rotate),h=c.x-f.x,a=f.y-c.y;if(i){h/a>n?(c.x-=Math.abs(h-a*n),h=a*n):(c.y+=Math.abs(a-h/n),a=h/n);const u=Ae(c,s,e.rotate);s=Nt(u,o),c=Ae(u,s,-e.rotate),f=Ae(o,s,-e.rotate),h=c.x-f.x,a=f.y-c.y}h>0&&a>0&&(e.width=Math.round(h),e.height=Math.round(a),e.left=Math.round(f.x),e.top=Math.round(c.y))}function id(e,t,n,i,r){const{symmetricPoint:o}=r;let s=Nt(t,o),c=Ae(o,s,-e.rotate),f=Ae(t,s,-e.rotate),h=f.x-c.x,a=f.y-c.y;if(i){h/a>n?(f.x-=Math.abs(h-a*n),h=a*n):(f.y-=Math.abs(a-h/n),a=h/n);const u=Ae(f,s,e.rotate);s=Nt(u,o),c=Ae(o,s,-e.rotate),f=Ae(u,s,-e.rotate),h=f.x-c.x,a=f.y-c.y}h>0&&a>0&&(e.width=Math.round(h),e.height=Math.round(a),e.left=Math.round(c.x),e.top=Math.round(c.y))}function od(e,t,n,i,r){const{symmetricPoint:o}=r;let s=Nt(t,o),c=Ae(o,s,-e.rotate),f=Ae(t,s,-e.rotate),h=c.x-f.x,a=f.y-c.y;if(i){h/a>n?(f.x+=Math.abs(h-a*n),h=a*n):(f.y-=Math.abs(a-h/n),a=h/n);const u=Ae(f,s,e.rotate);s=Nt(u,o),c=Ae(o,s,-e.rotate),f=Ae(u,s,-e.rotate),h=c.x-f.x,a=f.y-c.y}h>0&&a>0&&(e.width=Math.round(h),e.height=Math.round(a),e.left=Math.round(f.x),e.top=Math.round(c.y))}function ud(e,t,n,i,r){const{symmetricPoint:o,curPoint:s}=r,c=Ae(t,s,-e.rotate),f=Ae({x:s.x,y:c.y},s,e.rotate),h=Math.sqrt((f.x-o.x)**2+(f.y-o.y)**2),a={x:f.x-(f.x-o.x)/2,y:f.y+(o.y-f.y)/2};let u=e.width;i&&(u=h*n),e.width=u,e.height=Math.round(h),e.top=Math.round(a.y-h/2),e.left=Math.round(a.x-e.width/2)}function ad(e,t,n,i,r){const{symmetricPoint:o,curPoint:s}=r,c=Ae(t,s,-e.rotate),f=Ae({x:c.x,y:s.y},s,e.rotate),h=Math.sqrt((f.x-o.x)**2+(f.y-o.y)**2),a={x:f.x-(f.x-o.x)/2,y:f.y+(o.y-f.y)/2};let u=e.height;i&&(u=h/n),e.height=u,e.width=Math.round(h),e.top=Math.round(a.y-e.height/2),e.left=Math.round(a.x-h/2)}function sd(e,t,n,i,r){const{symmetricPoint:o,curPoint:s}=r,c=Ae(t,s,-e.rotate),f=Ae({x:s.x,y:c.y},s,e.rotate),h=Math.sqrt((f.x-o.x)**2+(f.y-o.y)**2),a={x:f.x-(f.x-o.x)/2,y:f.y+(o.y-f.y)/2};let u=e.width;i&&(u=h*n),e.width=u,e.height=Math.round(h),e.top=Math.round(a.y-h/2),e.left=Math.round(a.x-e.width/2)}function ld(e,t,n,i,r){const{symmetricPoint:o,curPoint:s}=r,c=Ae(t,s,-e.rotate),f=Ae({x:c.x,y:s.y},s,e.rotate),h=Math.sqrt((f.x-o.x)**2+(f.y-o.y)**2),a={x:f.x-(f.x-o.x)/2,y:f.y+(o.y-f.y)/2};let u=e.height;i&&(u=h/n),e.height=u,e.width=Math.round(h),e.top=Math.round(a.y-e.height/2),e.left=Math.round(a.x-h/2)}function cd(e,t,n,i,r,o){td[e](t,n,i,r,o)}const fd=["onMousedown"],dd={__name:"Shape",props:{active:{type:Boolean,default:!1},defaultStyle:{required:!0,type:Object,default:()=>{}},element:{required:!0,type:Object,default:()=>{}},index:{required:!0,type:[Number,String],default:0}},setup(e){const t=e,n=Ot(["lt","t","rt","r","rb","b","lb","l"]),i=Ot(["r","l"]),r=ve(null),o=Ot({lt:0,t:45,rt:90,r:135,rb:180,b:225,lb:270,l:315}),s=Ot([{start:338,end:23,cursor:"nw"},{start:23,end:68,cursor:"n"},{start:68,end:113,cursor:"ne"},{start:113,end:158,cursor:"e"},{start:158,end:203,cursor:"se"},{start:203,end:248,cursor:"s"},{start:248,end:293,cursor:"sw"},{start:293,end:338,cursor:"w"}]);let c=ve({});const f=Z(()=>t.active&&!t.element.isLock),h=Z(()=>t.element.component==="line-shape"?i:n),a=en(),u=fo(),l=pr();function d(C){C.stopPropagation(),C.preventDefault()}function D(C){if(C.stopPropagation(),a.setClickOutSideCompStatus(!0),a.setCurComponent({component:t.element,index:t.index}),t.element.isLock)return;c.value=w();const m={...t.defaultStyle},g=C.clientY,A=C.clientX,F=Number(m.top),_=Number(m.left);let x=!1;const $=H=>{x=!0;const W=H.clientX,R=H.clientY;m.top=R-g+F,m.left=W-A+_,a.setShapeStyle(m),da(()=>{xn.emit("move",R-g>0,W-A>0)})},M=()=>{x&&u.recordSnapshot(),xn.emit("unmove"),document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",$),document.addEventListener("mouseup",M)}function p(C){a.setClickOutSideCompStatus(!0),C.preventDefault(),C.stopPropagation();const m={...t.defaultStyle},g=C.clientY,A=C.clientX,F=m.rotate,_=r.value.getBoundingClientRect(),x=_.left+_.width/2,$=_.top+_.height/2,M=Math.atan2(g-$,A-x)/(Math.PI/180);let H=!1;const W=I=>{H=!0;const X=I.clientX,G=I.clientY,U=Math.atan2(G-$,X-x)/(Math.PI/180);m.rotate=F+U-M,a.setShapeStyle(m)},R=()=>{H&&u.recordSnapshot(),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",R),c.value=w()};document.addEventListener("mousemove",W),document.addEventListener("mouseup",R)}function b(C){const{width:m,height:g}=t.defaultStyle,A=/t/.test(C),F=/b/.test(C),_=/l/.test(C),x=/r/.test(C);let $=0,M=0;return C.length===2?($=_?0:m,M=A?0:g):((A||F)&&($=Math.floor(m/2),M=A?0:g),(_||x)&&($=_?0:m,M=Math.floor(g/2))),{marginLeft:"-4px",marginTop:"-4px",left:`${$}px`,top:`${M}px`,cursor:c.value[C]}}function v(C,m){m.stopPropagation(),m.preventDefault(),a.setClickOutSideCompStatus(!0);const g={...t.defaultStyle},A=g.width/g.height,F={x:g.left+g.width/2,y:g.top+g.height/2},_=l.editor.getBoundingClientRect(),x=m.target.getBoundingClientRect(),$={x:Math.round(x.left-_.left+m.target.offsetWidth/2),y:Math.round(x.top-_.top+m.target.offsetHeight/2)},M={x:F.x-($.x-F.x),y:F.y-($.y-F.y)};let H=!1,W=!0;const R=y(),I=G=>{if(W){W=!1;return}H=!0;const U={x:G.clientX-Math.round(_.left),y:G.clientY-Math.round(_.top)};cd(C,g,U,A,R,{center:F,curPoint:$,symmetricPoint:M}),a.setShapeStyle(g)},X=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",X),H&&u.recordSnapshot()};document.addEventListener("mousemove",I),document.addEventListener("mouseup",X)}function w(){const C=xi(a.curComponent.style.rotate),m={};let g=-1;return n.forEach(A=>{const F=xi(o[A]+C),_=s.length;for(;;){g=(g+1)%_;const x=s[g];if(F<23||F>=338){m[A]="nw-resize";return}if(x.start<=F&&F<x.end){m[A]=x.cursor+"-resize";return}}}),m}function y(){if(t.element.component!="Group")return!1}return Mt(()=>{a.curComponent&&(c.value=w())}),(C,m)=>(ze(),Qe("div",{ref_key:"rootRef",ref:r,class:Dt(["shape",{active:e.active}]),onClick:d,onMousedown:D},[Rn(Et("span",{class:"iconfont icon-xiangyouxuanzhuan",onMousedown:p},null,544),[[zn,f.value]]),(ze(!0),Qe(xt,null,Ln(f.value?h.value:[],g=>(ze(),Qe("div",{key:g,class:"shape-point",style:bn(b(g)),onMousedown:A=>v(g,A)},null,44,fd))),128)),fa(C.$slots,"default",{},void 0,!0)],34))}},hd=yt(dd,[["__scopeId","data-v-0eac45a4"]]),pd={__name:"index",props:{isEdit:{type:Boolean,default:!0}},setup(e){const t=ve(!1),n=ve(0),i=ve(0),r=Ot({x:0,y:0}),o=["width","height","top","left","rotate"],s=en(),c=pr();function f(){}function h(){}function a(u){return j0(u,o)}return Mt(()=>{c.setEditor()}),(u,l)=>(ze(),Qe("div",{id:"editor",class:Dt(["editor",{edit:e.isEdit}]),style:bn({...He(U0)(He(s).canvasStyleData),width:He(_i)(He(s).canvasStyleData.width,He(s).canvasStyleData.scale)+"px",height:He(_i)(He(s).canvasStyleData.height,He(s).canvasStyleData.scale)+"px"}),onContextmenu:f,onMousedown:h},[k(js),(ze(!0),Qe(xt,null,Ln(He(s).componentData,(d,D)=>(ze(),An(hd,{key:d.id,element:d,style:bn(He(W0)(d.style)),"default-style":d.style,index:D,class:Dt({lock:d.isLock}),active:d.id===(He(s).curComponent||{}).id},{default:ct(()=>[(ze(),An(Wi(d.component),{id:`component-${d.id}`,class:"component",style:bn(a(d.style)),prototies:d.propValue,element:d,request:d.request},null,8,["id","style","prototies","element","request"]))]),_:2},1032,["element","style","default-style","index","class","active"]))),128)),k(Ys),k(Y0),Rn(k(ed,{start:r,width:n.value,height:i.value},null,8,["start","width","height"]),[[zn,t.value]])],38))}},vd=yt(pd,[["__scopeId","data-v-b45b432a"]]),md="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let gd=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=md[n[e]&63];return t};const Dd=()=>gd(),yd=["width","height","fontSize"];function bd(e){const t=en();Object.keys(e.style).forEach(n=>{if(yd.includes(n)){if(n==="fontSize"&&e.style[n]==="")return;e.style[n]=wd(e.style[n],t.canvasStyleData.scale)}})}function wd(e,t){return pn(e,iu(parseFloat(t),100))}const Cd={class:"middle"},Ed={__name:"HomeView",setup(e){const t=ve(!1),n=ve(!0),i=ve(!0),r=ve("attr"),o=en(),s=fo(),c=pr(),f=l=>{l.preventDefault(),l.stopPropagation();const d=l.dataTransfer.getData("index"),D=c.editor.getBoundingClientRect();if(console.log("🚀 ~ handleDrop ~ e:",l.target),console.log("🚀 ~ handleDrop ~ e:",d),d){const p=Ki(cn[d]);p.style.top=l.clientY-D.y,p.style.left=l.clientX-D.x,p.id=Dd(),bd(p),o.addComponent(p),s.recordSnapshot(),l.dataTransfer.clearData()}},h=l=>{l.preventDefault(),l.stopPropagation(),l.dataTransfer.dropEffect="copy"},a=l=>{l.stopPropagation(),o.setClickOutSideCompStatus(!1)},u=()=>{o.clickOutSideComponent||o.setCurComponent({component:null,index:null})};return(l,d)=>{const D=$n,p=ln;return ze(),Qe("div",{class:Dt(t.value?"home dark":"home")},[k(Rs),Et("main",null,[Et("section",{class:Dt(n.value?"left active":"left inactive")},[k(Hs)],2),Et("section",Cd,[Et("div",{class:"middle-content",onDrop:f,onDragover:h,onMousedown:a,onMouseup:u},[k(vd)],32)]),Et("section",{class:Dt(i.value?"right active":"right inactive")},[He(o).curComponent?(ze(),An(p,{key:0,activeKey:r.value,"onUpdate:activeKey":d[0]||(d[0]=b=>r.value=b)},{default:ct(()=>[k(D,{tab:"属性",key:"attr"},{default:ct(()=>[(ze(),An(Wi(He(o).curComponent.component+"Attr")))]),_:1}),k(D,{tab:"动画",key:"animation",style:{"padding-top":"20px"}}),k(D,{tab:"事件",key:"events",style:{"padding-top":"20px"}})]),_:1},8,["activeKey"])):ha("",!0)],2)])],2)}}},Sd=yt(Ed,[["__scopeId","data-v-14795476"]]);export{Sd as default};
