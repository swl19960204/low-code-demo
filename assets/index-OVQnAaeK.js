import{g as i,w as u,h as g,o as w,c as _,b as y}from"./index-AqBzA8KP.js";const x={style:{overflow:"hidden"}},b={__name:"index",props:{prototies:{type:Object,default:()=>{}},element:{type:Object,default:()=>{}}},setup(f){const e=f,l=i(null),n=i(null),v=i(null),h=i(!0);u(()=>e.element.style.width,()=>{d()}),u(()=>e.element.style.height,()=>{d()}),u(()=>e.prototies.flip.vertical,()=>{c()}),u(()=>e.prototies.flip.horizontal,()=>{c()});function d(a){const{width:o,height:t}=e.element.style;n.value.width=o,n.value.height=t,h.value?(h.value=!1,l.value=document.createElement("img"),l.value.src=e.prototies.url,l.value.onload=()=>{v.value.drawImage(l.value,0,0,o,t),c()}):c()}function c(){const{vertical:a,horizontal:o}=e.prototies.flip,{width:t,height:r}=e.element.style,m=o?-1:1,p=a?-1:1,{value:s}=v;s.clearRect(0,0,t,r),s.translate(t/2-t*m/2,r/2-r*p/2),s.scale(m,p),s.drawImage(l.value,0,0,t,r),s.setTransform(1,0,0,1,0,0)}return g(()=>{var a;v.value=(a=n.value)==null?void 0:a.getContext("2d"),d()}),(a,o)=>(w(),_("div",x,[y("canvas",{ref_key:"canvas",ref:n},null,512)]))}};export{b as default};
